(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{2011:(it,De,P)=>{"use strict";P.d(De,{hO:()=>Le,xv:()=>ue,Dh:()=>ie,GT:()=>he,cc:()=>we,on:()=>j,pX:()=>ne});var f=P(5e3),Q=P(127),x=P(5813);it=P.hmd(it);const ae=["ngOnDestroy"],ne=(K,oe,Ee,pe={})=>new Proxy(K,{get:(He,Se)=>Ee.runOutsideAngular(()=>{var Ge;if(K[Se])return(null===(Ge=null==pe?void 0:pe.spy)||void 0===Ge?void 0:Ge.get)&&pe.spy.get(Se,K[Se]),K[Se];if(ae.indexOf(Se)>-1)return()=>{};const qe=oe.toPromise().then(ct=>{const ee=ct&&ct[Se];return"function"==typeof ee?ee.bind(ct):ee&&ee.then?ee.then(le=>Ee.run(()=>le)):Ee.run(()=>ee)});return new Proxy(()=>{},{get:(ct,ee)=>qe[ee],apply:(ct,ee,le)=>qe.then(me=>{var ve;const xe=me&&me(...le);return(null===(ve=null==pe?void 0:pe.spy)||void 0===ve?void 0:ve.apply)&&pe.spy.apply(Se,le,xe),xe})})})}),he=(K,oe)=>{oe.forEach(Ee=>{Object.getOwnPropertyNames(Ee.prototype||Ee).forEach(pe=>{Object.defineProperty(K.prototype,pe,Object.getOwnPropertyDescriptor(Ee.prototype||Ee,pe))})})};class re{constructor(oe){return oe}}const ie=new f.OlP("angularfire2.app.options"),ue=new f.OlP("angularfire2.app.name");function j(K,oe,Ee){const He="object"==typeof Ee&&Ee||{};He.name=He.name||"string"==typeof Ee&&Ee||"[DEFAULT]";const Ge=Q.Z.apps.filter(qe=>qe&&qe.name===He.name)[0]||oe.runOutsideAngular(()=>Q.Z.initializeApp(K,He));try{JSON.stringify(K)!==JSON.stringify(Ge.options)&&B("error",`${Ge.name} Firebase App already initialized with different options${it.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new re(Ge)}const B=(K,...oe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[K](...oe)},J={provide:re,useFactory:j,deps:[ie,f.R0b,[new f.FiY,ue]]};let Le=(()=>{class K{constructor(Ee){Q.Z.registerVersion("angularfire",x.q4.full,"core"),Q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Q.Z.registerVersion("angular",f.q4F.full,Ee.toString())}static initializeApp(Ee,pe){return{ngModule:K,providers:[{provide:ie,useValue:Ee},{provide:ue,useValue:pe}]}}}return K.\u0275fac=function(Ee){return new(Ee||K)(f.LFG(f.Lbi))},K.\u0275mod=f.oAB({type:K}),K.\u0275inj=f.cJS({providers:[J]}),K})();function we(K,oe,Ee,pe,He){const[,Se,Ge]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===K)||[];if(Se)return function(K,oe){try{return K.toString()===oe.toString()}catch(Ee){return K===oe}}(He,Ge)||(se("error",`${oe} was already initialized on the ${Ee} Firebase App with different settings.${Fe?" You may need to reload as Firebase is not HMR aware.":""}`),se("warn",{is:He,was:Ge})),Se;{const qe=pe();return globalThis.\u0275AngularfireInstanceCache.push([K,qe,He]),qe}}const Fe=!!it.hot,se=(K,...oe)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[K](...oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(it,De,P)=>{"use strict";P.d(De,{q4:()=>Ed,iC:()=>ds,HU:()=>zl,vb:()=>wf,JM:()=>wd});var f=P(5e3),Q=P(5867),x=P(5861),ae=P(9681),ne=P(2090),he=P(4859),re=P(1877),ie=P(2940);const ue="@firebase/installations",j="0.5.4",J=`w:${j}`,Le="FIS_v2",oe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ee(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function pe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function He(I){return{token:I.token,requestStatus:2,expiresIn:me(I.expiresIn),creationTime:Date.now()}}function Se(I,T){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,x.Z)(function*(I,T){const F=(yield T.json()).error;return oe.create("request-failed",{requestName:I,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function qe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ct(I,{refreshToken:T}){const N=qe(I);return N.append("Authorization",function(I){return`${Le} ${I}`}(T)),N}function ee(I){return le.apply(this,arguments)}function le(){return(le=(0,x.Z)(function*(I){const T=yield I();return T.status>=500&&T.status<600?I():T})).apply(this,arguments)}function me(I){return Number(I.replace("s","000"))}function xe(I,T){return de.apply(this,arguments)}function de(){return(de=(0,x.Z)(function*(I,{fid:T}){const N=pe(I),z={method:"POST",headers:qe(I),body:JSON.stringify({fid:T,authVersion:Le,appId:I.appId,sdkVersion:J})},Te=yield ee(()=>fetch(N,z));if(Te.ok){const Ze=yield Te.json();return{fid:Ze.fid||T,registrationStatus:2,refreshToken:Ze.refreshToken,authToken:He(Ze.authToken)}}throw yield Se("Create Installation",Te)})).apply(this,arguments)}function Tt(I){return new Promise(T=>{setTimeout(T,I)})}const jn=/^[cdef][\w-]{21}$/;function _t(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const N=function(I){return function(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return jn.test(N)?N:""}catch(I){return""}}function on(I){return`${I.appName}!${I.appId}`}const Ir=new Map;function jr(I,T){const N=on(I);Dn(N,T),function(I,T){const N=(!Vt&&"BroadcastChannel"in self&&(Vt=new BroadcastChannel("[Firebase] FID Change"),Vt.onmessage=I=>{Dn(I.data.key,I.data.fid)}),Vt);N&&N.postMessage({key:I,fid:T}),0===Ir.size&&Vt&&(Vt.close(),Vt=null)}(N,T)}function Dn(I,T){const N=Ir.get(I);if(N)for(const F of N)F(T)}let Vt=null;const Ce="firebase-installations-store";let zn=null;function Fn(){return zn||(zn=(0,ie.openDb)("firebase-installations-database",1,I=>{0===I.oldVersion&&I.createObjectStore(Ce)})),zn}function pt(I,T){return $t.apply(this,arguments)}function $t(){return($t=(0,x.Z)(function*(I,T){const N=on(I),W=(yield Fn()).transaction(Ce,"readwrite"),z=W.objectStore(Ce),Te=yield z.get(N);return yield z.put(T,N),yield W.complete,(!Te||Te.fid!==T.fid)&&jr(I,T.fid),T})).apply(this,arguments)}function vi(I){return $r.apply(this,arguments)}function $r(){return($r=(0,x.Z)(function*(I){const T=on(I),F=(yield Fn()).transaction(Ce,"readwrite");yield F.objectStore(Ce).delete(T),yield F.complete})).apply(this,arguments)}function lt(I,T){return gt.apply(this,arguments)}function gt(){return(gt=(0,x.Z)(function*(I,T){const N=on(I),W=(yield Fn()).transaction(Ce,"readwrite"),z=W.objectStore(Ce),Te=yield z.get(N),Ze=T(Te);return void 0===Ze?yield z.delete(N):yield z.put(Ze,N),yield W.complete,Ze&&(!Te||Te.fid!==Ze.fid)&&jr(I,Ze.fid),Ze})).apply(this,arguments)}function Nt(I){return kt.apply(this,arguments)}function kt(){return(kt=(0,x.Z)(function*(I){let T;const N=yield lt(I,F=>{const W=Hr(F),z=qt(I,W);return T=z.registrationPromise,z.installationEntry});return""===N.fid?{installationEntry:yield T}:{installationEntry:N,registrationPromise:T}})).apply(this,arguments)}function Hr(I){return vt(I||{fid:_t(),registrationStatus:0})}function qt(I,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(oe.create("app-offline"))};const N={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function(I,T){return ut.apply(this,arguments)}(I,N);return{installationEntry:N,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Cl(I)}:{installationEntry:T}}function ut(){return(ut=(0,x.Z)(function*(I,T){try{return pt(I,yield xe(I,T))}catch(N){throw Ee(N)&&409===N.customData.serverCode?yield vi(I):yield pt(I,{fid:T.fid,registrationStatus:0}),N}})).apply(this,arguments)}function Cl(I){return As.apply(this,arguments)}function As(){return(As=(0,x.Z)(function*(I){let T=yield zt(I);for(;1===T.registrationStatus;)yield Tt(100),T=yield zt(I);if(0===T.registrationStatus){const{installationEntry:N,registrationPromise:F}=yield Nt(I);return F||N}return T})).apply(this,arguments)}function zt(I){return lt(I,T=>{if(!T)throw oe.create("installation-not-found");return vt(T)})}function vt(I){return function(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Al(I,T){return H.apply(this,arguments)}function H(){return(H=(0,x.Z)(function*({appConfig:I,platformLoggerProvider:T},N){const F=L(I,N),W=ct(I,N),z=T.getImmediate({optional:!0});z&&W.append("x-firebase-client",z.getPlatformInfoString());const Ze={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:J}})},je=yield ee(()=>fetch(F,Ze));if(je.ok)return He(yield je.json());throw yield Se("Generate Auth Token",je)})).apply(this,arguments)}function L(I,{fid:T}){return`${pe(I)}/${T}/authTokens:generate`}function G(I){return _e.apply(this,arguments)}function _e(){return(_e=(0,x.Z)(function*(I,T=!1){let N;const F=yield lt(I.appConfig,z=>{if(!bn(z))throw oe.create("not-registered");const Te=z.authToken;if(!T&&Gr(Te))return z;if(1===Te.requestStatus)return N=te(I,T),z;{if(!navigator.onLine)throw oe.create("app-offline");const Ze=rr(z);return N=Wt(I,Ze),Ze}});return N?yield N:F.authToken})).apply(this,arguments)}function te(I,T){return We.apply(this,arguments)}function We(){return(We=(0,x.Z)(function*(I,T){let N=yield dt(I.appConfig);for(;1===N.authToken.requestStatus;)yield Tt(100),N=yield dt(I.appConfig);const F=N.authToken;return 0===F.requestStatus?G(I,T):F})).apply(this,arguments)}function dt(I){return lt(I,T=>{if(!bn(T))throw oe.create("not-registered");return function(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Wt(I,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,x.Z)(function*(I,T){try{const N=yield Al(I,T),F=Object.assign(Object.assign({},T),{authToken:N});return yield pt(I.appConfig,F),N}catch(N){if(!Ee(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield pt(I.appConfig,F)}else yield vi(I.appConfig);throw N}})).apply(this,arguments)}function bn(I){return void 0!==I&&2===I.registrationStatus}function Gr(I){return 2===I.requestStatus&&!function(I){const T=Date.now();return T<I.creationTime||I.creationTime+I.expiresIn<T+36e5}(I)}function rr(I){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:T})}function ca(){return(ca=(0,x.Z)(function*(I){const T=I,{installationEntry:N,registrationPromise:F}=yield Nt(T.appConfig);return F?F.catch(console.error):G(T).catch(console.error),N.fid})).apply(this,arguments)}function Js(){return(Js=(0,x.Z)(function*(I,T=!1){const N=I;return yield Sl(N.appConfig),(yield G(N,T)).token})).apply(this,arguments)}function Sl(I){return un.apply(this,arguments)}function un(){return(un=(0,x.Z)(function*(I){const{registrationPromise:T}=yield Nt(I);T&&(yield T)})).apply(this,arguments)}function Mn(I){return oe.create("missing-app-config-values",{valueName:I})}const ed="installations";(0,ae._registerComponent)(new he.wA(ed,I=>{const T=I.getProvider("app").getImmediate(),N=function(I){if(!I||!I.options)throw Mn("App Configuration");if(!I.name)throw Mn("App Name");const T=["projectId","apiKey","appId"];for(const N of T)if(!I.options[N])throw Mn(N);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(T);return{app:T,appConfig:N,platformLoggerProvider:(0,ae._getProvider)(T,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new he.wA("installations-internal",I=>{const T=I.getProvider("app").getImmediate(),N=(0,ae._getProvider)(T,ed).getImmediate();return{getId:()=>function(I){return ca.apply(this,arguments)}(N),getToken:W=>function(I){return Js.apply(this,arguments)}(N,W)}},"PRIVATE")),(0,ae.registerVersion)(ue,j),(0,ae.registerVersion)(ue,j,"esm2017");const Tn="@firebase/remote-config",Ln=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ef{constructor(T,N,F,W){this.client=T,this.storage=N,this.storageCache=F,this.logger=W}isCachedDataFresh(T,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-N,W=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${W}.`),W}fetch(T){var N=this;return(0,x.Z)(function*(){const[F,W]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if(W&&N.isCachedDataFresh(T.cacheMaxAgeMillis,F))return W;T.eTag=W&&W.eTag;const z=yield N.client.fetch(T),Te=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&Te.push(N.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(Te),z})()}}function Ig(I=navigator){return I.languages&&I.languages[0]||I.language}class bi{constructor(T,N,F,W,z,Te){this.firebaseInstallations=T,this.sdkVersion=N,this.namespace=F,this.projectId=W,this.apiKey=z,this.appId=Te}fetch(T){var N=this;return(0,x.Z)(function*(){const[F,W]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},je={sdk_version:N.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:N.appId,language_code:Ig()},xt={method:"POST",headers:Ze,body:JSON.stringify(je)},Zt=fetch(Te,xt),Rr=new Promise((zi,hs)=>{T.signal.addEventListener(()=>{const yo=new Error("The operation was aborted.");yo.name="AbortError",hs(yo)})});let Nr;try{yield Promise.race([Zt,Rr]),Nr=yield Zt}catch(zi){let hs="fetch-client-network";throw"AbortError"===zi.name&&(hs="fetch-timeout"),Ln.create(hs,{originalErrorMessage:zi.message})}let vn=Nr.status;const ar=Nr.headers.get("ETag")||void 0;let mo,Wr;if(200===Nr.status){let zi;try{zi=yield Nr.json()}catch(hs){throw Ln.create("fetch-client-parse",{originalErrorMessage:hs.message})}mo=zi.entries,Wr=zi.state}if("INSTANCE_STATE_UNSPECIFIED"===Wr?vn=500:"NO_CHANGE"===Wr?vn=304:("NO_TEMPLATE"===Wr||"EMPTY_CONFIG"===Wr)&&(mo={}),304!==vn&&200!==vn)throw Ln.create("fetch-status",{httpStatus:vn});return{status:vn,eTag:ar,config:mo}})()}}class nd{constructor(T,N){this.client=T,this.storage=N}fetch(T){var N=this;return(0,x.Z)(function*(){const F=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:N,backoffCount:F}){var W=this;return(0,x.Z)(function*(){yield function(I,T){return new Promise((N,F)=>{const W=Math.max(T-Date.now(),0),z=setTimeout(N,W);I.addEventListener(()=>{clearTimeout(z),F(Ln.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,N);try{const z=yield W.client.fetch(T);return yield W.storage.deleteThrottleMetadata(),z}catch(z){if(!function(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}(z))throw z;const Te={throttleEndTimeMillis:Date.now()+(0,ne.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(Te),W.attemptFetch(T,Te)}})()}}class Dg{constructor(T,N,F,W,z){this.app=T,this._client=N,this._storageCache=F,this._storage=W,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ha(I,T){const N=I.target.error||void 0;return Ln.create(T,{originalErrorMessage:N&&N.message})}const Oo="app_namespace_store";class Tg{constructor(T,N,F,W=function(){return new Promise((I,T)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=F=>{T(ha(F,"storage-open"))},N.onsuccess=F=>{I(F.target.result)},N.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Oo,{keyPath:"compositeKey"})}}catch(N){T(Ln.create("storage-open",{originalErrorMessage:N}))}})}()){this.appId=T,this.appName=N,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var N=this;return(0,x.Z)(function*(){const F=yield N.openDbPromise;return new Promise((W,z)=>{const Ze=F.transaction([Oo],"readonly").objectStore(Oo),je=N.createCompositeKey(T);try{const xt=Ze.get(je);xt.onerror=Zt=>{z(ha(Zt,"storage-get"))},xt.onsuccess=Zt=>{const Rr=Zt.target.result;W(Rr?Rr.value:void 0)}}catch(xt){z(Ln.create("storage-get",{originalErrorMessage:xt&&xt.message}))}})})()}set(T,N){var F=this;return(0,x.Z)(function*(){const W=yield F.openDbPromise;return new Promise((z,Te)=>{const je=W.transaction([Oo],"readwrite").objectStore(Oo),xt=F.createCompositeKey(T);try{const Zt=je.put({compositeKey:xt,value:N});Zt.onerror=Rr=>{Te(ha(Rr,"storage-set"))},Zt.onsuccess=()=>{z()}}catch(Zt){Te(Ln.create("storage-set",{originalErrorMessage:Zt&&Zt.message}))}})})()}delete(T){var N=this;return(0,x.Z)(function*(){const F=yield N.openDbPromise;return new Promise((W,z)=>{const Ze=F.transaction([Oo],"readwrite").objectStore(Oo),je=N.createCompositeKey(T);try{const xt=Ze.delete(je);xt.onerror=Zt=>{z(ha(Zt,"storage-delete"))},xt.onsuccess=()=>{W()}}catch(xt){z(Ln.create("storage-delete",{originalErrorMessage:xt&&xt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class od{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,x.Z)(function*(){const N=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),W=T.storage.getActiveConfig(),z=yield N;z&&(T.lastFetchStatus=z);const Te=yield F;Te&&(T.lastSuccessfulFetchTimestampMillis=Te);const Ze=yield W;Ze&&(T.activeConfig=Ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function fa(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,x.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new he.wA("remote-config",function(T,{instanceIdentifier:N}){const F=T.getProvider("app").getImmediate(),W=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,ne.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:z,apiKey:Te,appId:Ze}=F.options;if(!z)throw Ln.create("registration-project-id");if(!Te)throw Ln.create("registration-api-key");if(!Ze)throw Ln.create("registration-app-id");const je=new Tg(Ze,F.name,N=N||"firebase"),xt=new od(je),Zt=new re.Yd(Tn);Zt.logLevel=re.in.ERROR;const Rr=new bi(W,ae.SDK_VERSION,N,z,Te,Ze),Nr=new nd(Rr,je),vn=new ef(Nr,je,xt,Zt),ar=new Dg(F,vn,xt,je,Zt);return function(I){const T=(0,ne.m9)(I);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(ar),ar},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Tn,"0.3.3"),(0,ae.registerVersion)(Tn,"0.3.3","esm2017");const ad="/firebase-messaging-sw.js",Ag="/firebase-cloud-messaging-push-scope",Ii="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Rs="google.c.a.c_id",xo="google.c.a.c_l",Ns="google.c.a.ts",Iu="google.c.a.e";var sr=(()=>{return(I=sr||(sr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",sr;var I})();function is(I){const T=new Uint8Array(I);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pa(I){const N=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(N),W=new Uint8Array(F.length);for(let z=0;z<F.length;++z)W[z]=F.charCodeAt(z);return W}const ld="fcm_token_details_db",cd="fcm_token_object_Store";function xl(I){return Du.apply(this,arguments)}function Du(){return Du=(0,x.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(ld))return null;let T=null;return(yield(0,ie.openDb)(ld,5,function(){var F=(0,x.Z)(function*(W){var z;if(W.oldVersion<2||!W.objectStoreNames.contains(cd))return;const Te=W.transaction.objectStore(cd),Ze=yield Te.index("fcmSenderId").get(I);if(yield Te.clear(),Ze)if(2===W.oldVersion){const je=Ze;if(!je.auth||!je.p256dh||!je.endpoint)return;T={token:je.fcmToken,createTime:null!==(z=je.createTime)&&void 0!==z?z:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:is(je.vapidKey)}}}else if(3===W.oldVersion){const je=Ze;T={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:is(je.auth),p256dh:is(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:is(je.vapidKey)}}}else if(4===W.oldVersion){const je=Ze;T={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:is(je.auth),p256dh:is(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:is(je.vapidKey)}}}});return function(W){return F.apply(this,arguments)}}())).close(),yield(0,ie.deleteDb)(ld),yield(0,ie.deleteDb)("fcm_vapid_details_db"),yield(0,ie.deleteDb)("undefined"),sf(T)?T:null}),Du.apply(this,arguments)}function sf(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:T}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Qt="firebase-messaging-store";let Pl=null;function no(){return Pl||(Pl=(0,ie.openDb)("firebase-messaging-database",1,I=>{0===I.oldVersion&&I.createObjectStore(Qt)})),Pl}function Rn(I){return ro.apply(this,arguments)}function ro(){return(ro=(0,x.Z)(function*(I){const T=io(I),F=yield(yield no()).transaction(Qt).objectStore(Qt).get(T);if(F)return F;{const W=yield xl(I.appConfig.senderId);if(W)return yield Tr(I,W),W}})).apply(this,arguments)}function Tr(I,T){return Di.apply(this,arguments)}function Di(){return(Di=(0,x.Z)(function*(I,T){const N=io(I),W=(yield no()).transaction(Qt,"readwrite");return yield W.objectStore(Qt).put(T,N),yield W.complete,T})).apply(this,arguments)}function Nn(I){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,x.Z)(function*(I){const T=io(I),F=(yield no()).transaction(Qt,"readwrite");yield F.objectStore(Qt).delete(T),yield F.complete})).apply(this,arguments)}function io({appConfig:I}){return I.appId}const Kt=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ss(I,T){return ma.apply(this,arguments)}function ma(){return(ma=(0,x.Z)(function*(I,T){const N=yield Cu(I),F=Po(T),W={method:"POST",headers:N,body:JSON.stringify(F)};let z;try{z=yield(yield fetch(Qe(I.appConfig),W)).json()}catch(Te){throw Kt.create("token-subscribe-failed",{errorInfo:Te})}if(z.error)throw Kt.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Kt.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function oo(I,T){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,x.Z)(function*(I,T){const N=yield Cu(I),F=Po(T.subscriptionOptions),W={method:"PATCH",headers:N,body:JSON.stringify(F)};let z;try{z=yield(yield fetch(`${Qe(I.appConfig)}/${T.token}`,W)).json()}catch(Te){throw Kt.create("token-update-failed",{errorInfo:Te})}if(z.error)throw Kt.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Kt.create("token-update-no-token");return z.token})).apply(this,arguments)}function ya(I,T){return Os.apply(this,arguments)}function Os(){return(Os=(0,x.Z)(function*(I,T){const F={method:"DELETE",headers:yield Cu(I)};try{const z=yield(yield fetch(`${Qe(I.appConfig)}/${T}`,F)).json();if(z.error)throw Kt.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(W){throw Kt.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function Qe({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Cu(I){return _a.apply(this,arguments)}function _a(){return(_a=(0,x.Z)(function*({appConfig:I,installations:T}){const N=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function Po({p256dh:I,auth:T,endpoint:N,vapidKey:F}){const W={web:{endpoint:N,auth:T,p256dh:I}};return F!==Ii&&(W.web.applicationPubKey=F),W}const va=6048e5;function Au(I){return Su.apply(this,arguments)}function Su(){return(Su=(0,x.Z)(function*(I){const T=yield as(I.swRegistration,I.vapidKey),N={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:T.endpoint,auth:is(T.getKey("auth")),p256dh:is(T.getKey("p256dh"))},F=yield Rn(I.firebaseDependencies);if(F){if(Mu(F.subscriptionOptions,N))return Date.now()>=F.createTime+va?Ot(I,{token:F.token,createTime:Date.now(),subscriptionOptions:N}):F.token;try{yield ya(I.firebaseDependencies,F.token)}catch(W){console.warn(W)}return yn(I.firebaseDependencies,N)}return yn(I.firebaseDependencies,N)})).apply(this,arguments)}function dd(I){return be.apply(this,arguments)}function be(){return(be=(0,x.Z)(function*(I){const T=yield Rn(I.firebaseDependencies);T&&(yield ya(I.firebaseDependencies,T.token),yield Nn(I.firebaseDependencies));const N=yield I.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()})).apply(this,arguments)}function Ot(I,T){return os.apply(this,arguments)}function os(){return(os=(0,x.Z)(function*(I,T){try{const N=yield oo(I.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:N,createTime:Date.now()});return yield Tr(I.firebaseDependencies,F),N}catch(N){throw yield dd(I),N}})).apply(this,arguments)}function yn(I,T){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,x.Z)(function*(I,T){const F={token:yield ss(I,T),createTime:Date.now(),subscriptionOptions:T};return yield Tr(I,F),F.token})).apply(this,arguments)}function as(I,T){return or.apply(this,arguments)}function or(){return(or=(0,x.Z)(function*(I,T){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pa(T)})})).apply(this,arguments)}function Mu(I,T){return T.vapidKey===I.vapidKey&&T.endpoint===I.endpoint&&T.auth===I.auth&&T.p256dh===I.p256dh}function ao(I){const T={from:I.from,collapseKey:I.collapse_key,messageId:I.fcm_message_id};return function(I,T){if(!T.notification)return;I.notification={};const N=T.notification.title;N&&(I.notification.title=N);const F=T.notification.body;F&&(I.notification.body=F);const W=T.notification.image;W&&(I.notification.image=W)}(T,I),function(I,T){!T.data||(I.data=T.data)}(T,I),function(I,T){if(!T.fcmOptions)return;I.fcmOptions={};const N=T.fcmOptions.link;N&&(I.fcmOptions.link=N);const F=T.fcmOptions.analytics_label;F&&(I.fcmOptions.analyticsLabel=F)}(T,I),T}function uo(I){return"object"==typeof I&&!!I&&Rs in I}function Kn(I,T){const N=[];for(let F=0;F<I.length;F++)N.push(I.charAt(F)),F<T.length&&N.push(T.charAt(F));return N.join("")}function ba(I){return Kt.create("missing-app-config-values",{valueName:I})}Kn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Kn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xs{constructor(T,N,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function(I){if(!I||!I.options)throw ba("App Configuration Object");if(!I.name)throw ba("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:N}=I;for(const F of T)if(!N[F])throw ba(F);return{appName:I.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:W,installations:N,analyticsProvider:F}}_delete(){return Promise.resolve()}}function Bi(I){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,x.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(ad,{scope:Ag}),I.swRegistration.update().catch(()=>{})}catch(T){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function Da(I,T){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,x.Z)(function*(I,T){if(!T&&!I.swRegistration&&(yield Bi(I)),T||!I.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");I.swRegistration=T}})).apply(this,arguments)}function Ru(I,T){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,x.Z)(function*(I,T){T?I.vapidKey=T:I.vapidKey||(I.vapidKey=Ii)})).apply(this,arguments)}function Nu(){return(Nu=(0,x.Z)(function*(I,T){if(!navigator)throw Kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kt.create("permission-blocked");return yield Ru(I,null==T?void 0:T.vapidKey),yield Da(I,null==T?void 0:T.serviceWorkerRegistration),Au(I)})).apply(this,arguments)}function Fo(I,T,N){return hd.apply(this,arguments)}function hd(){return(hd=(0,x.Z)(function*(I,T,N){const F=Ou(T);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:N[Rs],message_name:N[xo],message_time:N[Ns],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ou(I){switch(I){case sr.NOTIFICATION_CLICKED:return"notification_open";case sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Aa(){return(Aa=(0,x.Z)(function*(I,T){const N=T.data;if(!N.isFirebaseMessaging)return;I.onMessageHandler&&N.messageType===sr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(ao(N)):I.onMessageHandler.next(ao(N)));const F=N.data;uo(F)&&"1"===F[Iu]&&(yield Fo(I,N.messageType,F))})).apply(this,arguments)}const Ll="@firebase/messaging";function Vl(){return ln.apply(this,arguments)}function ln(){return(ln=(0,x.Z)(function*(){return"undefined"!=typeof window&&(0,ne.hl)()&&(yield(0,ne.eu)())&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new he.wA("messaging",I=>{const T=new xs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function(I,T){return Aa.apply(this,arguments)}(T,N)),T},"PUBLIC")),(0,ae._registerComponent)(new he.wA("messaging-internal",I=>{const T=I.getProvider("messaging").getImmediate();return{getToken:F=>function(I,T){return Nu.apply(this,arguments)}(T,F)}},"PRIVATE")),(0,ae.registerVersion)(Ll,"0.9.4"),(0,ae.registerVersion)(Ll,"0.9.4","esm2017");const ks="analytics",Pu="firebase_id",Ul="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",md="https://www.googletagmanager.com/gtag/js",fn=new re.Yd("@firebase/analytics");function Oa(I){return Promise.all(I.map(T=>T.catch(N=>N)))}function Rg(I,T){const N=document.createElement("script");N.src=`${md}?l=${I}&id=${T}`,N.async=!0,document.head.appendChild(N)}function Lo(I,T,N,F,W,z){return ku.apply(this,arguments)}function ku(){return(ku=(0,x.Z)(function*(I,T,N,F,W,z){const Te=F[W];try{if(Te)yield T[Te];else{const je=(yield Oa(N)).find(xt=>xt.measurementId===W);je&&(yield T[je.appId])}}catch(Ze){fn.error(Ze)}I("config",W,z)})).apply(this,arguments)}function lo(I,T,N,F,W){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,x.Z)(function*(I,T,N,F,W){try{let z=[];if(W&&W.send_to){let Te=W.send_to;Array.isArray(Te)||(Te=[Te]);const Ze=yield Oa(N);for(const je of Te){const xt=Ze.find(Rr=>Rr.measurementId===je),Zt=xt&&T[xt.appId];if(!Zt){z=[];break}z.push(Zt)}}0===z.length&&(z=Object.values(T)),yield Promise.all(z),I("event",F,W||{})}catch(z){fn.error(z)}})).apply(this,arguments)}function pn(){const I=window.document.getElementsByTagName("script");for(const T of Object.values(I))if(T.src&&T.src.includes(md))return T;return null}const tt=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Vo=new class{constructor(T={},N=1e3){this.throttleMetadata=T,this.intervalMillis=N}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,N){this.throttleMetadata[T]=N}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ng(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function xa(I){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,x.Z)(function*(I){var T;const{appId:N,apiKey:F}=I,W={method:"GET",headers:Ng(F)},z=Ul.replace("{app-id}",N),Te=yield fetch(z,W);if(200!==Te.status&&304!==Te.status){let Ze="";try{const je=yield Te.json();(null===(T=je.error)||void 0===T?void 0:T.message)&&(Ze=je.error.message)}catch(je){}throw tt.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Ze})}return Te.json()})).apply(this,arguments)}function ho(I){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,x.Z)(function*(I,T=Vo,N){const{appId:F,apiKey:W,measurementId:z}=I.options;if(!F)throw tt.create("no-app-id");if(!W){if(z)return{measurementId:z,appId:F};throw tt.create("no-api-key")}const Te=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new Uo;return setTimeout((0,x.Z)(function*(){Ze.abort()}),void 0!==N?N:6e4),us({appId:F,apiKey:W,measurementId:z},Te,Ze,T)})).apply(this,arguments)}function us(I,T,N){return At.apply(this,arguments)}function At(){return(At=(0,x.Z)(function*(I,{throttleEndTimeMillis:T,backoffCount:N},F,W=Vo){const{appId:z,measurementId:Te}=I;try{yield df(F,T)}catch(Ze){if(Te)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:z,measurementId:Te};throw Ze}try{const Ze=yield xa(I);return W.deleteThrottleMetadata(z),Ze}catch(Ze){if(!hf(Ze)){if(W.deleteThrottleMetadata(z),Te)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Ze.message}]`),{appId:z,measurementId:Te};throw Ze}const je=503===Number(Ze.customData.httpStatus)?(0,ne.$s)(N,W.intervalMillis,30):(0,ne.$s)(N,W.intervalMillis),xt={throttleEndTimeMillis:Date.now()+je,backoffCount:N+1};return W.setThrottleMetadata(z,xt),fn.debug(`Calling attemptFetch again in ${je} millis`),us(I,xt,F,W)}})).apply(this,arguments)}function df(I,T){return new Promise((N,F)=>{const W=Math.max(T-Date.now(),0),z=setTimeout(N,W);I.addEventListener(()=>{clearTimeout(z),F(tt.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function hf(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const T=Number(I.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Uo{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Bo(){return On.apply(this,arguments)}function On(){return(On=(0,x.Z)(function*(){if(!(0,ne.hl)())return fn.warn(tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return fn.warn(tt.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function ls(){return(ls=(0,x.Z)(function*(I,T,N,F,W,z,Te){var Ze;const je=ho(I);je.then(vn=>{N[vn.measurementId]=vn.appId,I.options.measurementId&&vn.measurementId!==I.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vn=>fn.error(vn)),T.push(je);const xt=Bo().then(vn=>{if(vn)return F.getId()}),[Zt,Rr]=yield Promise.all([je,xt]);pn()||Rg(z,Zt.measurementId),W("js",new Date);const Nr=null!==(Ze=null==Te?void 0:Te.config)&&void 0!==Ze?Ze:{};return Nr.origin="firebase",Nr.update=!0,null!=Rr&&(Nr[Pu]=Rr),W("config",Zt.measurementId,Nr),Zt.measurementId})).apply(this,arguments)}class yd{constructor(T){this.app=T}_delete(){return delete Ai[this.app.options.appId],Promise.resolve()}}let Ai={},Bl=[];const jo={};let jl,Hn,fo="dataLayer",Ls=!1;function Ar(I,T,N){!function(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const T=I.map((F,W)=>`(${W+1}) ${F}`).join(" "),N=tt.create("invalid-analytics-context",{errorInfo:T});fn.warn(N.message)}}();const F=I.options.appId;if(!F)throw tt.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw tt.create("no-api-key");fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ai[F])throw tt.create("already-exists",{id:F});if(!Ls){!function(I){let T=[];Array.isArray(window[I])?T=window[I]:window[I]=T}(fo);const{wrappedGtag:z,gtagCore:Te}=function(I,T,N,F,W){let z=function(...Te){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(z=window[W]),window[W]=function(I,T,N,F){function z(){return(z=(0,x.Z)(function*(Te,Ze,je){try{"event"===Te?yield lo(I,T,N,Ze,je):"config"===Te?yield Lo(I,T,N,F,Ze,je):I("set",Ze)}catch(xt){fn.error(xt)}})).apply(this,arguments)}return function(Te,Ze,je){return z.apply(this,arguments)}}(z,I,T,N),{gtagCore:z,wrappedGtag:window[W]}}(Ai,Bl,jo,fo,"gtag");Hn=z,jl=Te,Ls=!0}return Ai[F]=function(I,T,N,F,W,z,Te){return ls.apply(this,arguments)}(I,Bl,jo,T,jl,fo,N),new yd(I)}function Uu(){return(Uu=(0,x.Z)(function*(I,T,N,F,W){if(W&&W.global)I("event",N,F);else{const z=yield T;I("event",N,Object.assign(Object.assign({},F),{send_to:z}))}})).apply(this,arguments)}function nn(){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,x.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(I){return!1}})).apply(this,arguments)}const _d="@firebase/analytics";(0,ae._registerComponent)(new he.wA(ks,(T,{options:N})=>Ar(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ae._registerComponent)(new he.wA("analytics-internal",function(T){try{const N=T.getProvider(ks).getImmediate();return{logEvent:(F,W,z)=>function(I,T,N,F){I=(0,ne.m9)(I),function(I,T,N,F,W){return Uu.apply(this,arguments)}(Hn,Ai[I.app.options.appId],T,N,F).catch(W=>fn.error(W))}(N,F,W,z)}}catch(N){throw tt.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ae.registerVersion)(_d,"0.7.4"),(0,ae.registerVersion)(_d,"0.7.4","esm2017");var In=P(4408),La=P(7565);const yf=new class extends La.v{}(class extends In.o{constructor(T,N){super(T,N),this.scheduler=T,this.work=N}schedule(T,N=0){return N>0?super.schedule(T,N):(this.delay=N,this.state=T,this.scheduler.flush(this),this)}execute(T,N){return N>0||this.closed?super.execute(T,N):this._execute(T,N)}requestAsyncId(T,N,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(T,N,F):T.flush(this)}});var Hi=P(4986),$l=P(8505),$o=P(9468),Ho=P(5363);const Ed=new f.GfV("7.2.0"),Hl="__angularfire_symbol__analyticsIsSupported",Gl="__angularfire_symbol__remoteConfigIsSupported",gr="__angularfire_symbol__messagingIsSupported";function wd(I,T,N){if(T){if(1===T.length)return T[0];const z=T.filter(Te=>Te.app===N);if(1===z.length)return z[0]}return N.container.getProvider(I).getImmediate({optional:!0})}globalThis[Hl]||(globalThis[Hl]=nn().then(I=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=I)),globalThis[gr]||(globalThis[gr]=Vl().then(I=>globalThis.__angularfire_symbol__messagingIsSupportedValue=I)),globalThis[Gl]||(globalThis[Gl]=fa().then(I=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=I));const wf=(I,T)=>{const N=T?[T]:(0,Q.C6)(),F=[];return N.forEach(W=>{W.container.getProvider(I).instances.forEach(Te=>{F.includes(Te)||F.push(Te)})}),F};function mr(){}class ql{constructor(T,N=yf){this.zone=T,this.delegate=N}now(){return this.delegate.now()}schedule(T,N,F){const W=this.zone;return this.delegate.schedule(function(Te){W.runGuarded(()=>{T.apply(this,[Te])})},N,F)}}class ju{constructor(T){this.zone=T,this.task=null}call(T,N){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mr,{},mr,mr)),N.pipe((0,$l.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zl=(()=>{class I{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=N.run(()=>new ql(Zone.current,Hi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(N){return new(N||I)(f.LFG(f.R0b))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function qi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ds(I){return qi(),function(I){return function(N){return(N=N.lift(new ju(I.ngZone))).pipe((0,$o.R)(I.outsideAngular),(0,Ho.Q)(I.insideAngular))}}(qi())(I)}},2090:(it,De,P)=>{"use strict";P.d(De,{BH:()=>Le,LL:()=>de,ZR:()=>xe,zI:()=>le,US:()=>he,tV:()=>ue,$s:()=>zt,r3:()=>an,Sg:()=>we,ne:()=>zn,vZ:()=>Vt,ZB:()=>B,pd:()=>Fi,m9:()=>Al,z$:()=>Ve,jU:()=>K,ru:()=>oe,d:()=>pe,xb:()=>Dn,w1:()=>He,hl:()=>ct,uI:()=>Fe,UG:()=>se,b$:()=>Ee,G6:()=>qe,Mn:()=>Se,xO:()=>So,zd:()=>_i,eu:()=>ee});const ae=function(H){const L=[];let G=0;for(let _e=0;_e<H.length;_e++){let te=H.charCodeAt(_e);te<128?L[G++]=te:te<2048?(L[G++]=te>>6|192,L[G++]=63&te|128):55296==(64512&te)&&_e+1<H.length&&56320==(64512&H.charCodeAt(_e+1))?(te=65536+((1023&te)<<10)+(1023&H.charCodeAt(++_e)),L[G++]=te>>18|240,L[G++]=te>>12&63|128,L[G++]=te>>6&63|128,L[G++]=63&te|128):(L[G++]=te>>12|224,L[G++]=te>>6&63|128,L[G++]=63&te|128)}return L},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,L){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let te=0;te<H.length;te+=3){const We=H[te],dt=te+1<H.length,Wt=dt?H[te+1]:0,nr=te+2<H.length,bn=nr?H[te+2]:0;let rr=(15&Wt)<<2|bn>>6,Qs=63&bn;nr||(Qs=64,dt||(rr=64)),_e.push(G[We>>2],G[(3&We)<<4|Wt>>4],G[rr],G[Qs])}return _e.join("")},encodeString(H,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(H):this.encodeByteArray(ae(H),L)},decodeString(H,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(H):function(H){const L=[];let G=0,_e=0;for(;G<H.length;){const te=H[G++];if(te<128)L[_e++]=String.fromCharCode(te);else if(te>191&&te<224){const We=H[G++];L[_e++]=String.fromCharCode((31&te)<<6|63&We)}else if(te>239&&te<365){const nr=((7&te)<<18|(63&H[G++])<<12|(63&H[G++])<<6|63&H[G++])-65536;L[_e++]=String.fromCharCode(55296+(nr>>10)),L[_e++]=String.fromCharCode(56320+(1023&nr))}else{const We=H[G++],dt=H[G++];L[_e++]=String.fromCharCode((15&te)<<12|(63&We)<<6|63&dt)}}return L.join("")}(this.decodeStringToByteArray(H,L))},decodeStringToByteArray(H,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let te=0;te<H.length;){const We=G[H.charAt(te++)],Wt=te<H.length?G[H.charAt(te)]:0;++te;const bn=te<H.length?G[H.charAt(te)]:64;++te;const Ft=te<H.length?G[H.charAt(te)]:64;if(++te,null==We||null==Wt||null==bn||null==Ft)throw Error();_e.push(We<<2|Wt>>4),64!==bn&&(_e.push(Wt<<4&240|bn>>2),64!==Ft&&_e.push(bn<<6&192|Ft))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ie=function(H){return function(H){const L=ae(H);return he.encodeByteArray(L,!0)}(H).replace(/\./g,"")},ue=function(H){try{return he.decodeString(H,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function B(H,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!J(G)||(H[G]=B(H[G],L[G]));return H}function J(H){return"__proto__"!==H}class Le{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,_e)=>{G?this.reject(G):this.resolve(_e),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,_e))}}}function we(H,L){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=L||"demo-project",te=H.iat||0,We=H.sub||H.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:te,exp:te+3600,auth_time:te,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ie(JSON.stringify({alg:"none",type:"JWT"})),ie(JSON.stringify(dt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function K(){return"object"==typeof self&&self.self===self}function oe(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pe(){return Ve().indexOf("Electron/")>=0}function He(){const H=Ve();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function Se(){return Ve().indexOf("MSAppHost/")>=0}function qe(){return!se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ct(){return"object"==typeof indexedDB}function ee(){return new Promise((H,L)=>{try{let G=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(_e);te.onsuccess=()=>{te.result.close(),G||self.indexedDB.deleteDatabase(_e),H(!0)},te.onupgradeneeded=()=>{G=!1},te.onerror=()=>{var We;L((null===(We=te.error)||void 0===We?void 0:We.message)||"")}}catch(G){L(G)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(L,G,_e){super(G),this.code=L,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(L,G,_e){this.service=L,this.serviceName=G,this.errors=_e}create(L,...G){const _e=G[0]||{},te=`${this.service}/${L}`,We=this.errors[L],dt=We?function(H,L){return H.replace(Ht,(G,_e)=>{const te=L[_e];return null!=te?String(te):`<${_e}?>`})}(We,_e):"Error";return new xe(te,`${this.serviceName}: ${dt} (${te}).`,_e)}}const Ht=/\{\$([^}]+)}/g;function an(H,L){return Object.prototype.hasOwnProperty.call(H,L)}function Dn(H){for(const L in H)if(Object.prototype.hasOwnProperty.call(H,L))return!1;return!0}function Vt(H,L){if(H===L)return!0;const G=Object.keys(H),_e=Object.keys(L);for(const te of G){if(!_e.includes(te))return!1;const We=H[te],dt=L[te];if(wn(We)&&wn(dt)){if(!Vt(We,dt))return!1}else if(We!==dt)return!1}for(const te of _e)if(!G.includes(te))return!1;return!0}function wn(H){return null!==H&&"object"==typeof H}function So(H){const L=[];for(const[G,_e]of Object.entries(H))Array.isArray(_e)?_e.forEach(te=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(te))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(_e));return L.length?"&"+L.join("&"):""}function _i(H){const L={};return H.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[te,We]=_e.split("=");L[decodeURIComponent(te)]=decodeURIComponent(We)}}),L}function Fi(H){const L=H.indexOf("?");if(!L)return"";const G=H.indexOf("#",L);return H.substring(L,G>0?G:void 0)}function zn(H,L){const G=new Fn(H,L);return G.subscribe.bind(G)}class Fn{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(_e=>{this.error(_e)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,_e){let te;if(void 0===L&&void 0===G&&void 0===_e)throw new Error("Missing Observer.");te=function(H,L){if("object"!=typeof H||null===H)return!1;for(const G of["next","error","complete"])if(G in H&&"function"==typeof H[G])return!0;return!1}(L)?L:{next:L,error:G,complete:_e},void 0===te.next&&(te.next=vi),void 0===te.error&&(te.error=vi),void 0===te.complete&&(te.complete=vi);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(dt){}}),this.observers.push(te),We}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(_e){"undefined"!=typeof console&&console.error&&console.error(_e)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vi(){}function zt(H,L=1e3,G=2){const _e=L*Math.pow(G,H),te=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+te)}function Al(H){return H&&H._delegate?H._delegate:H}},4419:(it,De,P)=>{"use strict";var f=P(5e3);let Q=null;function x(){return Q}const re=new f.OlP("DocumentToken");let ie=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.LFG)(B)},providedIn:"platform"}),n})();const j=new f.OlP("Location Initialized");let B=(()=>{class n extends ie{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){J()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){J()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:function(){return new B((0,f.LFG)(re))},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function we(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Fe(n){return n&&"?"!==n[0]?"?"+n:n}let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function(n){const e=(0,f.LFG)(re).location;return new Ee((0,f.LFG)(ie),e&&e.origin||"")}()},providedIn:"root"}),n})();const oe=new f.OlP("appBaseHref");let Ee=(()=>{class n extends se{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return we(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Fe(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Fe(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Fe(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie),f.LFG(oe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),pe=(()=>{class n extends se{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=we(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Fe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Fe(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ie),f.LFG(oe,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ve(qe(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Fe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Fe(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Fe,n.joinWithSlash=we,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(f.LFG(se),f.LFG(ie))},n.\u0275prov=f.Yz7({token:n,factory:function(){return new He((0,f.LFG)(se),(0,f.LFG)(ie))},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}const ct={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var ee=(()=>((ee=ee||{})[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee))(),le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function Dn(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===de.CurrencyDecimal)return t[f.wAp.NumberSymbols][de.Decimal];if(e===de.CurrencyGroup)return t[f.wAp.NumberSymbols][de.Group]}return r}const Fi=f.kL8;const un=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ed(n,e,t,r,o){const d=function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],d=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],m=d[0],E=d[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let S=0;S<E.length;S++){const O=E.charAt(S);"0"===O?t.minFrac=t.maxFrac=S+1:"#"===O?t.maxFrac=S+1:t.posSuf+=O}const D=m.split(",");if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const S=o.length-t.posPre.length-t.posSuf.length,O=u.indexOf("#");t.negPre=u.substr(0,O).replace(/'/g,""),t.negSuf=u.substr(O+S).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,ee.Currency),Dn(e,de.MinusSign));return d.minFrac=function(n){let e;const t=ct[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,function(n,e,t,r,o,u,d=!1){let m="",E=!1;if(isFinite(n)){let D=function(n){let r,o,u,d,m,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],o=1;else{for(m--;"0"===e.charAt(m);)m--;for(o-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);d&&(D=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let S=e.minInt,O=e.minFrac,V=e.maxFrac;if(u){const mt=u.match(un);if(null===mt)throw new Error(`${u} is not a valid digit info`);const Pt=mt[1],ft=mt[3],hn=mt[5];null!=Pt&&(S=mn(Pt)),null!=ft&&(O=mn(ft)),null!=hn?V=mn(hn):null!=ft&&O>V&&(V=O)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let O=d;O<r.length;O++)r[O]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let O=1;O<d;O++)r[O]=0}if(m>=5)if(d-1<0){for(let O=0;O>d;O--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;o<Math.max(0,u);o++)r.push(0);let E=0!==u;const D=e+n.integerLen,S=r.reduceRight(function(O,V,q,Y){return Y[q]=(V+=O)<10?V:V-10,E&&(0===Y[q]&&q>=D?Y.pop():E=!1),V>=10?1:0},0);S&&(r.unshift(S),n.integerLen++)}(D,O,V);let q=D.digits,Y=D.integerLen;const ge=D.exponent;let Ne=[];for(E=q.every(mt=>!mt);Y<S;Y++)q.unshift(0);for(;Y<0;Y++)q.unshift(0);Y>0?Ne=q.splice(Y,q.length):(Ne=q,q=[0]);const at=[];for(q.length>=e.lgSize&&at.unshift(q.splice(-e.lgSize,q.length).join(""));q.length>e.gSize;)at.unshift(q.splice(-e.gSize,q.length).join(""));q.length&&at.unshift(q.join("")),m=at.join(Dn(t,r)),Ne.length&&(m+=Dn(t,o)+Ne.join("")),ge&&(m+=Dn(t,de.Exponential)+"+"+ge)}else m=Dn(t,de.Infinity);return m=n<0&&!E?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,d,e,de.CurrencyGroup,de.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function mn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Wn{}let Ln=(()=>{class n extends Wn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Fi(r||this.locale)(t)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class eo{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Li=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new eo(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),fr(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{fr(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fr(n,e){n.context.$implicit=e.item}let ii=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wi{constructor(){this.$implicit=null,this.ngIf=null}}function tn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Ii=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",u,d){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;d=d||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let m=r||this._defaultCurrencyCode;"code"!==o&&(m="symbol"===o||"symbol-narrow"===o?function(n,e,t="en"){const r=function(n){return(0,f.cg1)(n)[f.wAp.Currencies]}(t)[n]||ct[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(m,"symbol"===o?"wide":"narrow",d):o);try{return ed(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),d,m,r,u)}catch(E){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,f.AaK)(n)}'`)}(n,E.message)}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},n.\u0275pipe=f.Yjl({name:"currency",type:n,pure:!0}),n})();let Iu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:Wn,useClass:Ln}]}),n})();function pr(n){return"server"===n}let sf=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new ga((0,f.LFG)(re),window)}),n})();class ga{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=to(this.window.history)||to(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function to(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ro extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ro,Q||(Q=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Tr=Tr||document.querySelector("base"),Tr?Tr.getAttribute("href"):null);return null==t?null:function(n){Nn=Nn||document.createElement("a"),Nn.setAttribute("href",n);const e=Nn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Tr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Nn,Tr=null;const io=new f.OlP("TRANSITION_ID"),Kt=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=x(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[io,re,f.zs3],multi:!0}];class ss{static init(){(0,f.VLi)(new ss)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(E){d=d||E,u--,0==u&&r(d)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ma=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=new f.OlP("EventManagerPlugins");let Cr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oo),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ya{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=x().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Os=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n extends Os{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Cu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Cu))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Cu(n){x().remove(n)}const _a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Po=/%COMP%/g;function os(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?os(n,o,t):(o=o.replace(Po,n),t.push(o))}return t}function yn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let as=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new or(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new kl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Fl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=os(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Cr),f.LFG(Qe),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class or{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(_a[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=_a[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=_a[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yn(r)):this.eventManager.addEventListener(e,t,yn(r))}}class kl extends or{constructor(e,t,r,o){super(e),this.component=r;const u=os(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(Po,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Po,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Fl extends or{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=os(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wa=(()=>{class n extends ya{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const uo=["alt","control","meta","shift"],Ti={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ba={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},xs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bi=(()=>{class n extends ya{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(uo.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),d+=E+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ba.hasOwnProperty(e)&&(e=ba[e]))}return Ti[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),uo.forEach(u=>{u!=o&&xs[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ko=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function(){ro.makeCurrent(),ss.init()},multi:!0},{provide:re,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),Nu=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:oo,useClass:wa,multi:!0,deps:[re,f.R0b,f.Lbi]},{provide:oo,useClass:Bi,multi:!0,deps:[re]},{provide:as,useClass:as,deps:[Cr,Qe,f.AFp]},{provide:f.FYo,useExisting:as},{provide:Os,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[re]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Cr,useClass:Cr,deps:[oo,f.R0b]},{provide:class{},useClass:ma,deps:[]}];let Fo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:io,useExisting:f.AFp},Kt]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Nu,imports:[Iu,f.hGG]}),n})();"undefined"!=typeof window&&window;let lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):f.LFG(cf),r},providedIn:"root"}),n})(),cf=(()=>{class n extends lo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(r),(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new cf(n.get(re))}(f.LFG(f.zs3)),r},providedIn:"root"}),n})();var pn=P(8996),co=P(7669);function tt(...n){const e=(0,co.yG)(n);return(0,pn.D)(n,e)}var Zn=P(7579);class Ci extends Zn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var oi=P(8306);const{isArray:Vo}=Array,{getPrototypeOf:Ng,prototype:xa,keys:Lu}=Object;function ho(n){if(1===n.length){const e=n[0];if(Vo(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Ng(n)===xa}(e)){const t=Lu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var us=P(4671),At=P(4004);const{isArray:df}=Array;function Uo(n){return(0,At.U)(e=>function(n,e){return df(e)?n(...e):n(e)}(n,e))}function Bo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var On=P(5403),Vu=P(9672);function Ai(n,e,t){n?(0,Vu.f)(t,n,e):e()}const jo=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var fo=P(8189);function jl(...n){return(0,fo.J)(1)((0,pn.D)(n,(0,co.yG)(n)))}var Hn=P(8421);function Ls(n){return new oi.y(e=>{(0,Hn.Xf)(n()).subscribe(e)})}var ka=P(515),po=P(727),Ar=P(4482);function gn(){return(0,Ar.e)((n,e)=>{let t=null;n._refCount++;const r=new On.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Uu extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ar.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new po.w0;const t=this.getSubject();e.add(this.source.subscribe(new On.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=po.w0.EMPTY)}return e}refCount(){return gn()(this)}}function Vn(n,e){return(0,Ar.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe(new On.Q(r,E=>{null==o||o.unsubscribe();let D=0;const S=u++;(0,Hn.Xf)(n(E,S)).subscribe(o=new On.Q(r,O=>r.next(e?e(E,O,S,D++):O),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var go=P(5698);function Si(...n){const e=(0,co.yG)(n);return(0,Ar.e)((t,r)=>{(e?jl(n,t,e):jl(n,t)).subscribe(r)})}function Vs(n,e,t,r,o){return(u,d)=>{let m=t,E=e,D=0;u.subscribe(new On.Q(d,S=>{const O=D++;E=m?n(E,S,O):(m=!0,S),r&&d.next(E)},o&&(()=>{m&&d.next(E),d.complete()})))}}function ji(n,e){return(0,Ar.e)(Vs(n,e,arguments.length>=2,!0))}function qr(n,e){return(0,Ar.e)((t,r)=>{let o=0;t.subscribe(new On.Q(r,u=>n.call(e,u,o++)&&r.next(u)))})}function $i(n){return(0,Ar.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe(new On.Q(t,void 0,void 0,d=>{u=(0,Hn.Xf)(n(d,$i(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var cn=P(5577),ff=P(576);function cs(n,e){return(0,ff.m)(e)?(0,cn.z)(n,e,1):(0,cn.z)(n,1)}function nn(n){return n<=0?()=>ka.E:(0,Ar.e)((e,t)=>{let r=[];e.subscribe(new On.Q(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Bu(n=pf){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe(new On.Q(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function pf(){return new jo}function gf(n){return(0,Ar.e)((e,t)=>{let r=!1;e.subscribe(new On.Q(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Fa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((o,u)=>n(o,u,r)):us.y,(0,go.q)(1),t?gf(e):Bu(()=>new jo))}var Sr=P(8505);class Mr{constructor(e,t){this.id=e,this.url=t}}class vd extends Mr{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class In extends Mr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Us extends Mr{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class La extends Mr{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Og extends Mr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yf extends Mr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr extends Mr{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hi extends Mr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l extends Mr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ho{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ed{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Va{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _f{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bt="primary";class gr{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gi(n){return new gr(n)}const Go="ngNavigationCancelingError";function vf(n){const e=Error("NavigationCancelingError: "+n);return e[Go]=!0,e}function wd(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function mr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!ql(n[o],e[o]))return!1;return!0}function ql(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function ju(n){return Array.prototype.concat.apply([],n)}function zl(n){return n.length>0?n[n.length-1]:null}function xn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yn(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,pn.D)(Promise.resolve(n)):tt(n)}const Hu={exact:function Wl(n,e,t){if(!je(n.segments,e.segments)||!F(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Wl(n.children[r],e.children[r],t))return!1;return!0},subset:T},ds={exact:function(n,e){return mr(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ql(n[t],e[t]))},ignored:()=>!0};function Gu(n,e,t){return Hu[t.paths](n.root,e.root,t.matrixParams)&&ds[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function T(n,e,t){return N(n,e,e.segments,t)}function N(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!je(o,t)||e.hasChildren()||!F(o,t,r))}if(n.segments.length===t.length){if(!je(n.segments,t)||!F(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!T(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(je(n.segments,o)&&F(n.segments,o,r)&&n.children[bt])&&N(n.children[bt],e,u,r)}}function F(n,e,t){return e.every((r,o)=>ds[t](n[o].parameters,r.parameters))}class W{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return Nr.serialize(this)}}class z{constructor(e,t){this.segments=e,this.children=t,this.parent=null,xn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vn(this)}}class Te{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gi(this.parameters)),this._parameterMap}toString(){return Kl(this)}}function je(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Zt{}class Rr{parse(e){const t=new E0(e);return new W(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ar(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Wr(t)}=${Wr(o)}`).join("&"):`${Wr(t)}=${Wr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Nr=new Rr;function vn(n){return n.segments.map(e=>Kl(e)).join("/")}function ar(n,e){if(!n.hasChildren())return vn(n);if(e){const t=n.children[bt]?ar(n.children[bt],!1):"",r=[];return xn(n.children,(o,u)=>{u!==bt&&r.push(`${u}:${ar(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return xn(n.children,(r,o)=>{o===bt&&(t=t.concat(e(r,o)))}),xn(n.children,(r,o)=>{o!==bt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===bt?[ar(n.children[bt],!1)]:[`${o}:${ar(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${vn(n)}/${t[0]}`:`${vn(n)}/(${t.join("//")})`}}function mo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wr(n){return mo(n).replace(/%3B/gi,";")}function hs(n){return mo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yo(n){return decodeURIComponent(n)}function Ua(n){return yo(n.replace(/\+/g,"%20"))}function Kl(n){return`${hs(n.path)}${function(n){return Object.keys(n).map(e=>`;${hs(e)}=${hs(n[e])}`).join("")}(n.parameters)}`}const Ba=/^[^\/()?;=#]+/;function _o(n){const e=n.match(Ba);return e?e[0]:""}const Ny=/^[^=?&#]+/,bd=/^[^&#]+/;class E0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new z([],{}):new z([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new z(e,t)),r}parseSegment(){const e=_o(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Te(yo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_o(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=_o(this.remaining);o&&(r=o,this.capture(r))}e[yo(t)]=yo(r)}parseQueryParam(e){const t=function(n){const e=n.match(Ny);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function(n){const e=n.match(bd);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Ua(t),u=Ua(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_o(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=bt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[bt]:new z([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Id{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Df(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Df(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Tf(e,this._root).map(t=>t.value)}}function Df(n,e){if(n===e.value)return e;for(const t of e.children){const r=Df(n,t);if(r)return r}return null}function Tf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Tf(n,t);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function qo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vo extends Id{constructor(e,t){super(e),this.snapshot=t,Yl(this,e)}toString(){return this.snapshot.toString()}}function Zl(n,e){const t=function(n,e){const d=new qu([],{},{},"",{},bt,e,null,n.root,-1,{});return new Dd("",new ai(d,[]))}(n,e),r=new Ci([new Te("",{})]),o=new Ci({}),u=new Ci({}),d=new Ci({}),m=new Ci(""),E=new ja(r,o,d,m,u,bt,e,t.root);return E.snapshot=t.root,new vo(new ai(E,[]),t)}class ja{constructor(e,t,r,o,u,d,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>Gi(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>Gi(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $a(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class qu{constructor(e,t,r,o,u,d,m,E,D,S,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=S,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dd extends Id{constructor(e,t){super(t),this.url=e,Yl(this,t)}toString(){return zo(this._root)}}function Yl(n,e){e.value._routerState=n,e.children.forEach(t=>Yl(n,t))}function zo(n){const e=n.children.length>0?` { ${n.children.map(zo).join(", ")} } `:"";return`${n.value}${e}`}function Td(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mr(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ql(n,e){const t=mr(n.params,e.params)&&function(n,e){return je(n,e)&&n.every((t,r)=>mr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ql(n.parent,e.parent))}function Jl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Jl(n,r,o);return Jl(n,r)})}(n,e,t);return new ai(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Jl(n,m)),d}}const r=function(n){return new ja(new Ci(n.url),new Ci(n.params),new Ci(n.queryParams),new Ci(n.fragment),new Ci(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Jl(n,u));return new ai(r,o)}}function Xl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Wu(n){return"object"==typeof n&&null!=n&&n.outlets}function Sf(n,e,t,r,o){let u={};return r&&xn(r,(d,m)=>{u[m]=Array.isArray(d)?d.map(E=>`${E}`):`${d}`}),new W(t.root===n?e:ec(t.root,n,e),u,o)}function ec(n,e,t){const r={};return xn(n.children,(o,u)=>{r[u]=o===e?t:ec(o,e,t)}),new z(n.segments,r)}class xg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Xl(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Wu);if(o&&o!==zl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pg(n,e,t){if(n||(n=new z([],{})),0===n.segments.length&&n.hasChildren())return Mf(n,e,t);const r=function(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(Wu(m))break;const E=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!Ku(E,D,d))return u;r+=2}else{if(!Ku(E,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new z(n.segments.slice(0,r.pathIndex),{});return u.children[bt]=new z(n.segments.slice(r.pathIndex),n.children),Mf(u,0,o)}return r.match&&0===o.length?new z(n.segments,{}):r.match&&!n.hasChildren()?Ha(n,e,t):r.match?Mf(n,0,o):Ha(n,e,t)}function Mf(n,e,t){if(0===t.length)return new z(n.segments,{});{const r=function(n){return Wu(n[0])?n[0].outlets:{[bt]:n}}(t),o={};return xn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Pg(n.children[d],e,u))}),xn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new z(n.segments,o)}}function Ha(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Wu(u)){const E=kg(u.outlets);return new z(r,E)}if(0===o&&Xl(t[0])){r.push(new Te(n.segments[e].path,ps(t[0]))),o++;continue}const d=Wu(u)?u.outlets[bt]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&Xl(m)?(r.push(new Te(d,ps(m))),o+=2):(r.push(new Te(d,{})),o++)}return new z(r,{})}function kg(n){const e={};return xn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ha(new z([],{}),0,t))}),e}function ps(n){const e={};return xn(n,(t,r)=>e[r]=`${t}`),e}function Ku(n,e,t){return n==t.path&&mr(e,t.parameters)}class Nf{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Td(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=qo(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),xn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=qo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=qo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=qo(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new _f(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Va(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Td(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Td(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=E,d.outlet&&d.outlet.activateWith(o,E),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Vg{constructor(e,t){this.routes=e,this.module=t}}function Ga(n){return"function"==typeof n}function gs(n){return n instanceof W}const Zu=Symbol("INITIAL_VALUE");function qa(){return Vn(n=>function(...n){const e=(0,co.yG)(n),t=(0,co.jO)(n),{args:r,keys:o}=ho(n);if(0===r.length)return(0,pn.D)([],e);const u=new oi.y(function(n,e,t=us.y){return r=>{Ai(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let E=0;E<o;E++)Ai(e,()=>{const D=(0,pn.D)(n[E],e);let S=!1;D.subscribe(new On.Q(r,O=>{u[E]=O,S||(S=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Bo(o,d):us.y));return t?u.pipe(Uo(t)):u}(n.map(e=>e.pipe((0,go.q)(1),Si(Zu)))).pipe(ji((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==Zu?o:(u===Zu&&(r=!0),r||!1!==u&&d!==t.length-1&&!gs(u)?o:u),e)},Zu),qr(e=>e!==Zu),(0,At.U)(e=>gs(e)?e:!0===e),(0,go.q)(1)))}class By{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Yu,this.attachRef=null}}class Yu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new By,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ad=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new Ug(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Yu),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ug{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ja?this.route:e===Yu?this.childContexts:this.parent.get(e,t)}}let nc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Ad],encapsulation:2}),n})();function xf(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Bg(r,za(e,r))}}function Bg(n,e){n.children&&xf(n.children,e)}function za(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Cn(n){const e=n.children&&n.children.map(Cn),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=nc),t}function Mi(n){return n.outlet||bt}function Sd(n,e){const t=n.filter(r=>Mi(r)===e);return t.push(...n.filter(r=>Mi(r)!==e)),t}const Md={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wa(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Md):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const u=(e.matcher||wd)(t,n,e);if(!u)return Object.assign({},Md);const d={};xn(u.posParams,(E,D)=>{d[D]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,lastChild:u.consumed.length,parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Rd(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>rc(n,e,r)&&Mi(r)!==bt)}(n,t,r)){const d=new z(e,function(n,e,t,r){const o={};o[bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Mi(u)!==bt){const d=new z([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Mi(u)]=d}return o}(n,e,r,new z(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>rc(n,e,r))}(n,t,r)){const d=new z(n.segments,function(n,e,t,r,o,u){const d={};for(const m of r)if(rc(n,t,m)&&!o[Mi(m)]){const E=new z([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Mi(m)]=E}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new z(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function rc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Gy(n,e,t,r){return!!(Mi(n)===r||r!==bt&&rc(e,t,n))&&("**"===n.path||Wa(e,n,t).matched)}function Qu(n,e,t){return 0===e.length&&!n.children[t]}class Qn{constructor(e){this.segmentGroup=e||null}}class Nd{constructor(e){this.urlTree=e}}function ic(n){return new oi.y(e=>e.error(new Qn(n)))}function Od(n){return new oi.y(e=>e.error(new Nd(n)))}function ur(n){return new oi.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Ff{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Rd(this.urlTree.root,[],[],this.config).segmentGroup,t=new z(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,bt).pipe((0,At.U)(u=>this.createUrlTree(xd(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe($i(u=>{if(u instanceof Nd)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Qn?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,bt).pipe((0,At.U)(o=>this.createUrlTree(xd(o),e.queryParams,e.fragment))).pipe($i(o=>{throw o instanceof Qn?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new z([],{[bt]:e}):e;return new W(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,At.U)(u=>new z([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,pn.D)(o).pipe(cs(u=>{const d=r.children[u],m=Sd(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,At.U)(E=>({segment:E,outlet:u})))}),ji((u,d)=>(u[d.outlet]=d.segment,u),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qr((o,u)=>n(o,u,r)):us.y,nn(1),t?gf(e):Bu(()=>new jo))}())}expandSegment(e,t,r,o,u,d){return(0,pn.D)(r).pipe(cs(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe($i(D=>{if(D instanceof Qn)return tt(null);throw D}))),Fa(m=>!!m),$i((m,E)=>{if(m instanceof jo||"EmptyError"===m.name){if(Qu(t,o,u))return tt(new z([],{}));throw new Qn(t)}throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return Gy(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):ic(t):ic(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Od(u):this.lineralizeSegments(r,u).pipe((0,cn.z)(d=>{const m=new z(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:E,lastChild:D,positionalParamSegments:S}=Wa(t,o,u);if(!m)return ic(t);const O=this.applyRedirectCommands(E,o.redirectTo,S);return o.redirectTo.startsWith("/")?Od(O):this.lineralizeSegments(o,O).pipe((0,cn.z)(V=>this.expandSegment(e,t,r,V.concat(u.slice(D)),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?tt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,At.U)(V=>(r._loadedConfig=V,new z(o,{})))):tt(new z(o,{}));const{matched:d,consumedSegments:m,lastChild:E}=Wa(t,r,o);if(!d)return ic(t);const D=o.slice(E);return this.getChildConfig(e,r,o).pipe((0,cn.z)(O=>{const V=O.module,q=O.routes,{segmentGroup:Y,slicedSegments:ge}=Rd(t,m,D,q),Ne=new z(Y.segments,Y.children);if(0===ge.length&&Ne.hasChildren())return this.expandChildren(V,q,Ne).pipe((0,At.U)(ft=>new z(m,ft)));if(0===q.length&&0===ge.length)return tt(new z(m,{}));const at=Mi(r)===u;return this.expandSegment(V,Ne,q,ge,at?bt:u,!0).pipe((0,At.U)(Pt=>new z(m.concat(Pt.segments),Pt.children)))}))}getChildConfig(e,t,r){return t.children?tt(new Vg(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?tt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,cn.z)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,At.U)(u=>(t._loadedConfig=u,u))):(n=t,new oi.y(e=>e.error(vf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):tt(new Vg([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?tt(o.map(d=>{const m=e.get(d);let E;if((n=m)&&Ga(n.canLoad))E=m.canLoad(t,r);else{if(!Ga(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}var n;return Yn(E)})).pipe(qa(),(0,Sr.b)(d=>{if(!gs(d))return;const m=vf(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,At.U)(d=>!0===d)):tt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return tt(r);if(o.numberOfChildren>1||!o.children[bt])return ur(e.redirectTo);o=o.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new W(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return xn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return xn(t.children,(m,E)=>{d[E]=this.createSegmentGroup(e,m,r,o)}),new z(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function xd(n){const e={};for(const r of Object.keys(n.children)){const u=xd(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new z(n.segments.concat(e.segments),e.children)}return n}(new z(n.segments,e))}class Ju{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Pd{constructor(e,t){this.component=e,this.route=t}}function jg(n,e,t){const r=n._root;return Ka(r,e?e._root:null,t,[r.value])}function oc(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ka(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=qo(e);return n.children.forEach(d=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const E=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!je(n.url,e.url);case"pathParamsOrQueryParamsChange":return!je(n.url,e.url)||!mr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ql(n,e)||!mr(n.queryParams,e.queryParams);default:return!Ql(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new Ju(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Ka(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Pd(m.outlet.component,d))}else d&&Za(e,m,o),o.canActivateChecks.push(new Ju(r)),Ka(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),xn(u,(d,m)=>Za(d,t.getContext(m),o)),o}function Za(n,e,t){const r=qo(n),o=n.value;xn(r,(u,d)=>{Za(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Pd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Bf{}function kd(n){return new oi.y(e=>e.error(n))}class jf{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Rd(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,bt);if(null===t)return null;const r=new qu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ai(r,t),u=new Dd(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=$a(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=Sd(e,u),E=this.processSegmentGroup(m,d,u);if(null===E)return null;r.push(...E)}const o=Gg(r);return o.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return Qu(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Gy(e,t,r,o))return null;let u,d=[],m=[];if("**"===e.path){const q=r.length>0?zl(r).parameters:{};u=new qu(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wi(e),Mi(e),e.component,e,Fd(t),Ya(t)+r.length,e_(e))}else{const q=Wa(t,e,r);if(!q.matched)return null;d=q.consumedSegments,m=r.slice(q.lastChild),u=new qu(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wi(e),Mi(e),e.component,e,Fd(t),Ya(t)+d.length,e_(e))}const E=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:S}=Rd(t,d,m,E.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);var n;if(0===S.length&&D.hasChildren()){const q=this.processChildren(E,D);return null===q?null:[new ai(u,q)]}if(0===E.length&&0===S.length)return[new ai(u,[])];const O=Mi(e)===o,V=this.processSegment(E,D,S,O?bt:o);return null===V?null:[new ai(u,V)]}}function $f(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Gg(n){const e=[],t=new Set;for(const r of n){if(!$f(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Gg(r.children);e.push(new ai(r.value,o))}return e.filter(r=>!t.has(r))}function Fd(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ya(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Wi(n){return n.data||{}}function e_(n){return n.resolve||{}}function Xu(n){return Vn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,At.U)(()=>e)):tt(e)})}class Ja extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Vd=new f.OlP("ROUTES");class ms{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,At.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Vg(ju(d.injector.get(Vd,void 0,f.XFs.Self|f.XFs.Optional)).map(Cn),d)}),$i(u=>{throw t._loader$=void 0,u}));return t._loader$=new Uu(o,()=>new Zn.x).pipe(gn()),t._loader$}loadModuleFactory(e){return Yn(e()).pipe((0,cn.z)(t=>t instanceof f.YKP?tt(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class Ud{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function qf(n){throw n}function zg(n,e,t){return e.parse("/")}function eu(n,e){return tt(null)}const zf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,r,o,u,d,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zn.x,this.errorHandler=qf,this.malformedUriErrorHandler=zg,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:eu,afterPreactivation:eu},this.urlHandlingStrategy=new Ud,this.routeReuseStrategy=new Ja,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const O=d.get(f.R0b);this.isNgZoneEnabled=O instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new W(new z([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ms(d,m,V=>this.triggerEvent(new $o(V)),V=>this.triggerEvent(new Ho(V))),this.routerState=Zl(this.currentUrlTree,this.rootComponentType),this.transitions=new Ci({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qr(o=>0!==o.id),(0,At.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vn(o=>{let u=!1,d=!1;return tt(o).pipe((0,Sr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vn(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return h(m.source)&&(this.browserUrlTree=m.extractedUrl),tt(m).pipe(Vn(O=>{const V=this.transitions.getValue();return r.next(new vd(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),V!==this.transitions.getValue()?ka.E:Promise.resolve(O)}),function(n,e,t,r){return Vn(o=>function(n,e,t,r,o){return new Ff(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,At.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Sr.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function(n,e,t,r,o){return(0,cn.z)(u=>function(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new jf(n,e,t,r,o,u).recognize();return null===d?kd(new Bf):tt(d)}catch(d){return kd(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,At.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Sr.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(q,O)}this.browserUrlTree=O.urlAfterRedirects}const V=new Og(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(V)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:q,source:Y,restoredState:ge,extras:Ne}=m,at=new vd(V,this.serializeUrl(q),Y,ge);r.next(at);const mt=Zl(q,this.rootComponentType).snapshot;return tt(Object.assign(Object.assign({},m),{targetSnapshot:mt,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),ka.E}),Xu(m=>{const{targetSnapshot:E,id:D,extractedUrl:S,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:q}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:S,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!q})}),(0,Sr.b)(m=>{const E=new yf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,At.U)(m=>Object.assign(Object.assign({},m),{guards:jg(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?tt(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,pn.D)(n).pipe((0,cn.z)(o=>function(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?tt(u.map(m=>{const E=oc(m,e,o);let D;if(function(n){return n&&Ga(n.canDeactivate)}(E))D=Yn(E.canDeactivate(n,e,t,r));else{if(!Ga(E))throw new Error("Invalid CanDeactivate guard");D=Yn(E(n,e,t,r))}return D.pipe(Fa())})).pipe(qa()):tt(!0)}(o.component,o.route,t,e,r)),Fa(o=>!0!==o,!0))}(d,r,o,n).pipe((0,cn.z)(m=>m&&function(n){return"boolean"==typeof n}(m)?function(n,e,t,r){return(0,pn.D)(e).pipe(cs(o=>jl(function(n,e){return null!==n&&e&&e(new Ed(n)),tt(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new Hl(n)),tt(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ls(()=>tt(d.guards.map(E=>{const D=oc(E,d.node,t);let S;if(function(n){return n&&Ga(n.canActivateChild)}(D))S=Yn(D.canActivateChild(r,n));else{if(!Ga(D))throw new Error("Invalid CanActivateChild guard");S=Yn(D(r,n))}return S.pipe(Fa())})).pipe(qa())));return tt(u).pipe(qa())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return tt(!0);const o=r.map(u=>Ls(()=>{const d=oc(u,e,t);let m;if(function(n){return n&&Ga(n.canActivate)}(d))m=Yn(d.canActivate(e,n));else{if(!Ga(d))throw new Error("Invalid CanActivate guard");m=Yn(d(e,n))}return m.pipe(Fa())}));return tt(o).pipe(qa())}(n,o.route,t))),Fa(o=>!0!==o,!0))}(r,u,n,e):tt(m)),(0,At.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Sr.b)(m=>{if(gs(m.guardsResult)){const D=vf(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new zr(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),qr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Xu(m=>{if(m.guards.canActivateChecks.length)return tt(m).pipe((0,Sr.b)(E=>{const D=new Hi(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),Vn(E=>{let D=!1;return tt(E).pipe(function(n,e){return(0,cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return tt(t);let u=0;return(0,pn.D)(o).pipe(cs(d=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return tt({});const u={};return(0,pn.D)(o).pipe((0,cn.z)(d=>function(n,e,t,r){const o=oc(n,e,r);return Yn(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,Sr.b)(m=>{u[d]=m}))),nn(1),(0,cn.z)(()=>Object.keys(u).length===o.length?tt(u):ka.E))}(n._resolve,n,e,r).pipe((0,At.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),$a(n,t).resolve),null)))}(d.route,r,n,e)),(0,Sr.b)(()=>u++),nn(1),(0,cn.z)(d=>u===o.length?tt(t):ka.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Sr.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Sr.b)(E=>{const D=new $l(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),Xu(m=>{const{targetSnapshot:E,id:D,extractedUrl:S,rawUrl:O,extras:{skipLocationChange:V,replaceUrl:q}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:S,rawUrlTree:O,skipLocationChange:!!V,replaceUrl:!!q})}),(0,At.U)(m=>{const E=function(n,e,t){const r=Jl(n,e._root,t?t._root:void 0);return new vo(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Sr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,At.U)(r=>(new Nf(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Sr.b)({next(){u=!0},complete(){u=!0}}),function(n){return(0,Ar.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),$i(m=>{if(d=!0,function(n){return n&&n[Go]}(m)){const E=gs(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new Us(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),E?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h(o.source)};this.scheduleNavigation(S,"imperative",null,O,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new La(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return ka.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xf(t),this.config=t.map(Cn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,S=E?this.currentUrlTree.fragment:d;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=u||null}return null!==O&&(O=this.removeEmptyProps(O)),function(n,e,t,r,o){if(0===t.length)return Sf(e.root,e.root,e,r,o);const u=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xg(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return xn(u.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new xg(t,e,r)}(t);if(u.toRoot())return Sf(e.root,new z([],{}),e,r,o);const d=function(n,e,t){if(n.isAbsolute)return new Cd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Cd(u,u===e.root,0)}const r=Xl(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new Cd(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?Mf(d.segmentGroup,d.index,u.commands):Pg(d.segmentGroup,d.index,u.commands);return Sf(d.segmentGroup,m,e,r,o)}(D,this.currentUrlTree,t,O,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=gs(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},zf):!1===r?Object.assign({},Wg):r,gs(t))return Gu(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Gu(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new In(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var m,E,D;if(this.disposed)return Promise.resolve(!1);const S=this.transitions.value,O=h(r)&&S&&!h(S.source),V=S.rawUrl.toString()===t.toString(),q=S.id===(null===(m=this.currentNavigation)||void 0===m?void 0:m.id);if(O&&V&&q)return Promise.resolve(!0);let ge,Ne,at;d?(ge=d.resolve,Ne=d.reject,at=d.promise):at=new Promise((ft,hn)=>{ge=ft,Ne=hn});const mt=++this.navigationId;let Pt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Pt=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Pt=0,this.setTransition({id:mt,targetPageId:Pt,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:ge,reject:Ne,promise:at,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),at.catch(ft=>Promise.reject(ft))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new Us(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function h(n){return"imperative"!==n}let p=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new Zn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:C(this.skipLocationChange),replaceUrl:C(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:C(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(li),f.Y36(ja),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})(),v=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Zn.x,this.subscription=t.events.subscribe(u=>{u instanceof In&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,d){if(0!==t||r||o||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:C(this.skipLocationChange),replaceUrl:C(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:C(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(li),f.Y36(ja),f.Y36(se))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function C(n){return""===n||!!n}let M=(()=>{class n{constructor(t,r,o,u,d,m){this.router=t,this.element=r,this.renderer=o,this.cdr=u,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=t.events.subscribe(E=>{E instanceof In&&this.update()})}ngAfterContentInit(){tt(this.links.changes,this.linksWithHrefs.changes,tt(null)).pipe((0,fo.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,pn.D)(r).pipe((0,fo.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(li),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(p,8),f.Y36(v,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(f.Suo(o,p,5),f.Suo(o,v,5)),2&t){let u;f.iGM(u=f.CRH())&&(r.links=u),f.iGM(u=f.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),n})();class X{}class Me{preload(e,t){return tt(null)}}let Je=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new ms(o,r,E=>t.triggerEvent(new $o(E)),E=>t.triggerEvent(new Ho(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(qr(t=>t instanceof In),cs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,pn.D)(o).pipe((0,fo.J)(),(0,At.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?tt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,cn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(li),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(X))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),et=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof In&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const En=new f.OlP("ROUTER_CONFIGURATION"),js=new f.OlP("ROUTER_FORROOT_GUARD"),$s=[He,{provide:Zt,useClass:Rr},{provide:li,useFactory:function(n,e,t,r,o,u,d={},m,E){const D=new li(null,n,e,t,r,o,ju(u));return m&&(D.urlHandlingStrategy=m),E&&(D.routeReuseStrategy=E),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(S=>{var O,V;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(V=console.groupEnd)||void 0===V||V.call(console)}),D},deps:[Zt,Yu,He,f.zs3,f.Sil,Vd,En,[class{},new f.FiY],[class{},new f.FiY]]},Yu,{provide:ja,useFactory:function(n){return n.routerState.root},deps:[li]},Je,Me,class{preload(e,t){return t().pipe($i(()=>tt(null)))}},{provide:En,useValue:{enableTracing:!1}}];function Bd(){return new f.PXZ("Router",li)}let jd=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$s,$d(t),{provide:js,useFactory:Zg,deps:[[li,new f.FiY,new f.tp0]]},{provide:En,useValue:r||{}},{provide:se,useFactory:el,deps:[ie,[new f.tBr(oe),new f.FiY],En]},{provide:et,useFactory:Kg,deps:[li,sf,En]},{provide:X,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Me},{provide:f.PXZ,multi:!0,useFactory:Bd},[tl,{provide:f.ip1,multi:!0,useFactory:Gd,deps:[tl]},{provide:t_,useFactory:Yg,deps:[tl]},{provide:f.tb,multi:!0,useExisting:t_}]]}}static forChild(t){return{ngModule:n,providers:[$d(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(js,8),f.LFG(li,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Kg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new et(n,e,t)}function el(n,e,t={}){return t.useHash?new pe(n,e):new Ee(n,e)}function Zg(n){return"guarded"}function $d(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:Vd,multi:!0,useValue:n}]}let tl=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(li),d=this.injector.get(En);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?tt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(En),o=this.injector.get(Je),u=this.injector.get(et),d=this.injector.get(li),m=this.injector.get(f.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Gd(n){return n.appInitializer.bind(n)}function Yg(n){return n.bootstrapListener.bind(n)}const t_=new f.OlP("Router Initializer");let qd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),lc=(()=>{class n extends qd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Eo=new f.OlP("NgValueAccessor"),T0={provide:Eo,useExisting:(0,f.Gpc)(()=>s_),multi:!0},C0=new f.OlP("CompositionEventMode");let s_=(()=>{class n extends qd{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(C0,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([T0]),f.qOj]}),n})();function tu(n){return null==n||0===n.length}function A0(n){return null!=n&&"number"==typeof n.length}const Kr=new f.OlP("NgValidators"),nl=new f.OlP("NgAsyncValidators"),QI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ki{static min(e){return function(n){return e=>{if(tu(e.value)||tu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(tu(e.value)||tu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return tu(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return tu(n.value)||QI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>tu(e.value)||!A0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>A0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Zf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(tu(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Hs(e)}static composeAsync(e){return F0(e)}}function Zf(n){return null}function P0(n){return null!=n}function St(n){const e=(0,f.QGY)(n)?(0,pn.D)(n):n;return(0,f.CqO)(e),e}function u_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function l_(n,e){return e.map(t=>t(n))}function Yf(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Hs(n){if(!n)return null;const e=n.filter(P0);return 0==e.length?null:function(t){return u_(l_(t,e))}}function Qg(n){return null!=n?Hs(Yf(n)):null}function F0(n){if(!n)return null;const e=n.filter(P0);return 0==e.length?null:function(t){return function(...n){const e=(0,co.jO)(n),{args:t,keys:r}=ho(n),o=new oi.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let E=d,D=d;for(let S=0;S<d;S++){let O=!1;(0,Hn.Xf)(t[S]).subscribe(new On.Q(u,V=>{O||(O=!0,D--),m[S]=V},()=>E--,void 0,()=>{(!E||!O)&&(D||u.next(r?Bo(r,m):m),u.complete())}))}});return e?o.pipe(Uo(e)):o}(l_(t,e).map(St)).pipe((0,At.U)(u_))}}function Qf(n){return null!=n?F0(Yf(n)):null}function Wo(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jg(n){return n._rawValidators}function c_(n){return n._rawAsyncValidators}function Jf(n){return n?Array.isArray(n)?n:[n]:[]}function d_(n,e){return Array.isArray(n)?n.includes(e):n===e}function h_(n,e){const t=Jf(e);return Jf(n).forEach(o=>{d_(t,o)||t.push(o)}),t}function JI(n,e){return Jf(e).filter(t=>!d_(n,t))}class Xf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wo extends Xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zr extends Xf{get formDirective(){return null}get path(){return null}}class Xg{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let V0=(()=>{class n extends Xg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(wo,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),U0=(()=>{class n extends Xg{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Zr,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function tm(n,e){H0(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nm(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function g_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),y_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function H0(n,e){const t=Jg(n);null!==e.validator?n.setValidators(Wo(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=c_(n);null!==e.asyncValidator?n.setAsyncValidators(Wo(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();m_(e._rawValidators,o),m_(e._rawAsyncValidators,o)}function y_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=Jg(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=c_(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return m_(e._rawValidators,r),m_(e._rawAsyncValidators,r),t}function nm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Wd="VALID",rm="INVALID",Kd="PENDING",nu="DISABLED";function ep(n){return(D_(n)?n.validators:n)||null}function cc(n){return Array.isArray(n)?Qg(n):n||null}function dc(n,e){return(D_(e)?e.asyncValidators:n)||null}function hc(n){return Array.isArray(n)?Qf(n):n||null}function D_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class im{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=cc(this._rawValidators),this._composedAsyncValidatorFn=hc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wd}get invalid(){return this.status===rm}get pending(){return this.status==Kd}get disabled(){return this.status===nu}get enabled(){return this.status!==nu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=cc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=hc(e)}addValidators(e){this.setValidators(h_(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(h_(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JI(e,this._rawAsyncValidators))}hasValidator(e){return d_(this._rawValidators,e)}hasAsyncValidator(e){return d_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Kd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nu,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wd||this.status===Kd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nu:Wd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Kd,this._hasOwnPendingAsyncValidator=!0;const t=St(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof pc?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof tp&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?nu:this.errors?rm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kd)?Kd:this._anyControlsHaveStatus(rm)?rm:Wd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){D_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class fc extends im{constructor(e=null,t,r){super(ep(t),dc(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pc extends im{constructor(e,t,r){super(ep(t),dc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof fc?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class tp extends im{constructor(e,t,r){super(ep(t),dc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof fc?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let K0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const tS={provide:Eo,useExisting:(0,f.Gpc)(()=>Z0),multi:!0};let Z0=(()=>{class n extends lc{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([tS]),f.qOj]}),n})(),Q0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const M_=new f.OlP("NgModelWithFormControlWarning"),tw={provide:Zr,useExisting:(0,f.Gpc)(()=>sm)};let sm=(()=>{class n extends Zr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(y_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return tm(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){g_(t.control||null,t,!1),zd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(g_(r||null,t),o instanceof fc&&(tm(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){H0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return y_(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H0(this.form,this),this._oldForm&&y_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Kr,10),f.Y36(nl,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([tw]),f.qOj,f.TTD]}),n})();const N_={provide:wo,useExisting:(0,f.Gpc)(()=>O_)};let O_=(()=>{class n extends wo{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===s_?t=u:function(n){return Object.getPrototypeOf(n.constructor)===lc}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Zr,13),f.Y36(Kr,10),f.Y36(nl,10),f.Y36(Eo,10),f.Y36(M_,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([N_]),f.qOj,f.TTD]}),n})(),np=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Q0]]}),n})(),hm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:M_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[np]}),n})(),fw=(()=>{class n{group(t,r=null){const o=this._reduceControls(t);let m,u=null,d=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(u=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new pc(o,{asyncValidators:d,updateOn:m,validators:u})}control(t,r,o){return new fc(t,r,o)}array(t,r,o){const u=t.map(d=>this._createControl(d));return new tp(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof fc||t instanceof pc||t instanceof tp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:hm}),n})();var ED=P(4986),yr=P(5813);function L_(){return(0,Ar.e)((n,e)=>{let t,r=!1;n.subscribe(new On.Q(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function pw(n,e){return n===e}var Ye,ci=P(2011),ID=(P(9259),P(3942)),ye=P(5861),Gs=P(9681),fm=P(4859),ol=P(1877),Bt=P(2090),DD="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lr={},pm=pm||{},It=DD||self;function rp(){}function gm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ip(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var V_="closure_uid_"+(1e9*Math.random()>>>0),CD=0;function gw(n,e,t){return n.call.apply(n.bind,arguments)}function sS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Or(n,e,t){return(Or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gw:sS).apply(null,arguments)}function mm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Yr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function gc(){this.s=this.s,this.o=this.o}var U_={};gc.prototype.s=!1,gc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,V_)&&n[V_]||(n[V_]=++CD)}(this);delete U_[n]}},gc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},B_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function AD(n){return Array.prototype.concat.apply([],arguments)}function ys(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function j_(n){return/^[\s\xa0]*$/.test(n)}var hi,SD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function di(n,e){return-1!=n.indexOf(e)}function ym(n,e){return n<e?-1:n>e?1:0}e:{var _w=It.navigator;if(_w){var MD=_w.userAgent;if(MD){hi=MD;break e}}hi=""}function _m(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function vm(n){const e={};for(const t in n)e[t]=n[t];return e}var vw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Em(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<vw.length;u++)t=vw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $_(n){return $_[" "](n),n}$_[" "]=rp;var al,n,ND=di(hi,"Opera"),Jd=di(hi,"Trident")||di(hi,"MSIE"),Ew=di(hi,"Edge"),H_=Ew||Jd,sp=di(hi,"Gecko")&&!(di(hi.toLowerCase(),"webkit")&&!di(hi,"Edge"))&&!(di(hi,"Trident")||di(hi,"MSIE"))&&!di(hi,"Edge"),Xd=di(hi.toLowerCase(),"webkit")&&!di(hi,"Edge");function ww(){var n=It.document;return n?n.documentMode:void 0}e:{var G_="",q_=(n=hi,sp?/rv:([^\);]+)(\)|;)/.exec(n):Ew?/Edge\/([\d\.]+)/.exec(n):Jd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Xd?/WebKit\/(\S+)/.exec(n):ND?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(q_&&(G_=q_?q_[1]:""),Jd){var op=ww();if(null!=op&&op>parseFloat(G_)){al=String(op);break e}}al=G_}var Zo={};function ap(){return e=Zo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=SD(String(al)).split("."),t=SD("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=ym(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||ym(0==o[2].length,0==u[2].length)||ym(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n}();var e}var wm=It.document&&Jd&&(ww()||parseInt(al,10))||void 0,qs=function(){if(!It.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{It.addEventListener("test",rp,e),It.removeEventListener("test",rp,e)}catch(t){}return n}();function Pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yo(n,e){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sp){e:{try{$_(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eh[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yo.Z.h.call(this)}}Pr.prototype.h=function(){this.defaultPrevented=!0},Yr(Yo,Pr);var eh={2:"touch",3:"pen",4:"mouse"};Yo.prototype.h=function(){Yo.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qo="closure_listenable_"+(1e6*Math.random()|0),th=0;function nh(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++th,this.ca=this.fa=!1}function ru(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function iu(n){this.src=n,this.g={},this.h=0}function ll(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=mw(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(ru(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function cl(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}iu.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=cl(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new nh(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var bm="closure_lm_"+(1e6*Math.random()|0),Im={};function z_(n,e,t,r,o){if(r&&r.once)return K_(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)z_(n,e[u],t,r,o);return null}return t=J_(t),n&&n[Qo]?n.N(e,t,ip(r)?!!r.capture:!!r,o):W_(n,e,t,!1,r,o)}function W_(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=ip(o)?!!o.capture:!!o,m=Tm(n);if(m||(n[bm]=m=new iu(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function(){var e=OD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)qs||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Y_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function K_(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)K_(n,e[u],t,r,o);return null}return t=J_(t),n&&n[Qo]?n.O(e,t,ip(r)?!!r.capture:!!r,o):W_(n,e,t,!0,r,o)}function Z_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Z_(n,e[u],t,r,o);else r=ip(r)?!!r.capture:!!r,t=J_(t),n&&n[Qo]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=cl(u=n.g[e],t,r,o))&&(ru(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Tm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=cl(e,t,r,o)),(t=-1<n?e[n]:null)&&Dm(t))}function Dm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Qo])ll(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Y_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Tm(e))?(ll(t,n),0==t.h&&(t.src=null,e[bm]=null)):ru(n)}}}function Y_(n){return n in Im?Im[n]:Im[n]="on"+n}function OD(n,e){if(n.ca)n=!0;else{e=new Yo(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Dm(n),n=t.call(r,e)}return n}function Tm(n){return(n=n[bm])instanceof iu?n:null}var Q_="__closure_events_fn_"+(1e9*Math.random()>>>0);function J_(n){return"function"==typeof n?n:(n[Q_]||(n[Q_]=function(e){return n.handleEvent(e)}),n[Q_])}function _r(){gc.call(this),this.i=new iu(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Pr(e,n);else if(e instanceof Pr)e.target=e.target||n;else{var o=e;Em(e=new Pr(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=Cm(d,r,!0,e)&&o}if(o=Cm(d=e.g=n,r,!0,e)&&o,o=Cm(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=Cm(d=e.g=t[u],r,!1,e)&&o}function Cm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,E=d.ia||d.src;d.fa&&ll(n.i,d),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}Yr(_r,gc),_r.prototype[Qo]=!0,_r.prototype.removeEventListener=function(n,e,t,r){Z_(this,n,e,t,r)},_r.prototype.M=function(){if(_r.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ru(t[r]);delete n.g[e],n.h--}}this.I=null},_r.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},_r.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Am=It.JSON.stringify;function xD(){var n=kD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var up,Dw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new PD,n=>n.reset());class PD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aS(n){It.setTimeout(()=>{throw n},0)}function X_(n,e){up||function(){var n=It.Promise.resolve(void 0);up=function(){n.then(uS)}}(),tv||(up(),tv=!0),kD.add(n,e)}var tv=!1,kD=new class{constructor(){this.h=this.g=null}add(e,t){const r=Dw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function uS(){for(var n;n=xD();){try{n.h.call(n.g)}catch(t){aS(t)}var e=Dw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}tv=!1}function nv(n,e){_r.call(this),this.h=n||1,this.g=e||It,this.j=Or(this.kb,this),this.l=Date.now()}function rv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Sm(n,e,t){if("function"==typeof n)t&&(n=Or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Or(n.handleEvent,n)}return 2147483647<Number(e)?-1:It.setTimeout(n,e||0)}function FD(n){n.g=Sm(()=>{n.g=null,n.i&&(n.i=!1,FD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yr(nv,_r),(Ye=nv.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qr(this,"tick"),this.da&&(rv(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){nv.Z.M.call(this),rv(this),delete this.g};class LD extends gc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:FD(this)}M(){super.M(),this.g&&(It.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(n){gc.call(this),this.h=n,this.g={}}Yr(Jo,gc);var Tw=[];function iv(n,e,t,r){Array.isArray(t)||(t&&(Tw[0]=t.toString()),t=Tw);for(var o=0;o<t.length;o++){var u=z_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Cw(n){_m(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dm(e)},n),n.g={}}function lp(){this.g=!0}function mc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Am(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Jo.prototype.M=function(){Jo.Z.M.call(this),Cw(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},lp.prototype.Aa=function(){this.g=!1},lp.prototype.info=function(){};var yc={},Aw=null;function Rm(){return Aw=Aw||new _r}function sv(n){Pr.call(this,yc.Ma,n)}function cp(n){const e=Rm();Qr(e,new sv(e,n))}function ov(n,e){Pr.call(this,yc.STAT_EVENT,n),this.stat=e}function fi(n){const e=Rm();Qr(e,new ov(e,n))}function Nm(n,e){Pr.call(this,yc.Na,n),this.size=e}function Om(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return It.setTimeout(function(){n()},e)}yc.Ma="serverreachability",Yr(sv,Pr),yc.STAT_EVENT="statevent",Yr(ov,Pr),yc.Na="timingevent",Yr(Nm,Pr);var rh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mw(){}function av(){}Mw.prototype.h=null;var hp,_c={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dp(){Pr.call(this,"d")}function uv(){Pr.call(this,"c")}function sh(){}function oh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Jo(this),this.P=$D,this.W=new nv(n=H_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jD}function jD(){this.i=null,this.g="",this.h=!1}Yr(dp,Pr),Yr(uv,Pr),Yr(sh,Mw),sh.prototype.g=function(){return new XMLHttpRequest},sh.prototype.i=function(){return{}},hp=new sh;var $D=45e3,fp={},ah={};function lv(n,e,t){n.K=1,n.v=mv(Xo(e)),n.s=t,n.U=!0,cv(n,null)}function cv(n,e){n.F=Date.now(),vc(n),n.A=Xo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),kw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new jD,n.g=Rv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new LD(Or(n.Ia,n,n.g),n.O)),iv(n.V,n.g,"readystatechange",n.gb),e=n.H?vm(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),cp(1),function(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),E=0;E<m.length;E++){var D=m[E].split("=");if(1<D.length){var S=D[0];D=D[1];var O=S.split("_");d=2<=O.length&&"type"==O[1]?d+(S+"=")+D+"&":d+(S+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xm(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function dv(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Rw(n,t),o==ah){4==e&&(n.o=4,fi(14),r=!1),mc(n.j,n.m,null,"[Incomplete Response]");break}if(o==fp){n.o=4,fi(15),mc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}mc(n.j,n.m,o,null),pp(n,o)}xm(n)&&o!=ah&&o!=fp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Av(e),e.L=!0,fi(11))):(mc(n.j,n.m,t,"[Invalid Chunked Response]"),dl(n),uh(n))}function Rw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ah:(t=Number(e.substring(t,r)),isNaN(t)?fp:(r+=1)+t>e.length?ah:(e=e.substr(r,t),n.C=r+t,e))}function vc(n){n.Y=Date.now()+n.P,hv(n,n.P)}function hv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Om(Or(n.eb,n),e)}function Pm(n){n.B&&(It.clearTimeout(n.B),n.B=null)}function uh(n){0==n.l.G||n.I||Kw(n.l,n)}function dl(n){Pm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rv(n.W),Cw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function pp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||vv(t.i,n)))if(t.I=n.N,!n.J&&vv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Om(Or(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;qm(t),Hm(t)}Cv(t),fi(18)}if(1>=Io(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else bc(t,11)}else if((n.J||t.g==n)&&qm(t),!j_(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const S=D[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const O=D[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const V=D[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const Y=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var u=r.i;!u.g&&(di(Y,"spdy")||di(Y,"quic")||di(Y,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Lm(u,u.h),u.h=null))}if(r.D){const ge=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ge&&(r.sa=ge,An(r.F,r.D,ge))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=Mv(r,r.H?r.la:null,r.W),d.J){Do(r.i,d);var m=d,E=r.K;E&&m.setTimeout(E),m.B&&(Pm(m),vc(m)),r.g=d}else zw(r);0<t.l.length&&Gm(t)}else"stop"!=D[0]&&"close"!=D[0]||bc(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?bc(t,7):Dv(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}cp(4)}catch(D){}}function fv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gm(n)||"string"==typeof n)B_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(gm(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(gm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function lh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof lh)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function pv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];hl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)hl(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function hl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=oh.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==ea(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const S=ea(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>S)&&(3!=S||H_||this.g&&(this.h.h||this.g.ga()||Iv(this.g)))){this.I||4!=S||7==e||cp(8==e||0>=O?3:2),Pm(this);var t=this.g.ba();this.N=t;t:if(xm(this)){var r=Iv(this.g);n="";var o=r.length,u=4==ea(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){dl(this),uh(this);var d="";break t}this.h.i=new It.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j_(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,fi(12),dl(this),uh(this);break e}mc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pp(this,t)}this.U?(dv(this,S,d),H_&&this.i&&3==S&&(iv(this.V,this.W,"tick",this.fb),this.W.start())):(mc(this.j,this.m,d,null),pp(this,d)),4==S&&dl(this),this.i&&!this.I&&(4==S?Kw(this.l,this):(this.i=!1,vc(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),dl(this),uh(this)}}}catch(S){}},Ye.fb=function(){if(this.g){var n=ea(this.g),e=this.g.ga();this.C<e.length&&(Pm(this),dv(this,n,e),this.i&&4!=n&&vc(this))}},Ye.cancel=function(){this.I=!0,dl(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(cp(3),fi(17)),dl(this),this.o=2,uh(this)):hv(this,this.Y-n)},(Ye=lh.prototype).R=function(){pv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return pv(this),this.g.concat()},Ye.get=function(n,e){return hl(this.h,n)?this.h[n]:e},Ye.set=function(n,e){hl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var km=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof fl){this.g=void 0!==e?e:n.g,gp(this,n.j),this.s=n.s,mp(this,n.i),yp(this,n.m),this.l=n.l,e=n.h;var t=new dh;t.i=e.i,e.g&&(t.g=new lh(e.g),t.h=e.h),gv(this,t),this.o=n.o}else n&&(t=String(n).match(km))?(this.g=!!e,gp(this,t[1]||"",!0),this.s=ch(t[2]||""),mp(this,t[3]||"",!0),yp(this,t[4]),this.l=ch(t[5]||"",!0),gv(this,t[6]||"",!0),this.o=ch(t[7]||"")):(this.g=!!e,this.h=new dh(null,this.g))}function Xo(n){return new fl(n)}function gp(n,e,t){n.j=t?ch(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mp(n,e,t){n.i=t?ch(e,!0):e}function yp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gv(n,e,t){e instanceof dh?(n.h=e,function(n,e){e&&!n.j&&(su(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Ec(this,r),kw(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=_p(e,xw)),n.h=new dh(e,n.g))}function An(n,e,t){n.h.set(e,t)}function mv(n){return An(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ch(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _p(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vr),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vr(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}fl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_p(e,yv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_p(e,yv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(_p(t,"/"==t.charAt(0)?zD:qD,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_p(t,WD)),n.join("")};var yv=/[#\/\?@]/g,qD=/[#\?:]/g,zD=/[#\?]/g,xw=/[#\?@]/g,WD=/#/g;function dh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function su(n){n.g||(n.g=new lh,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ec(n,e){su(n),e=wc(n,e),hl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,hl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&pv(n)))}function Pw(n,e){return su(n),e=wc(n,e),hl(n.g.h,e)}function kw(n,e,t){Ec(n,e),0<t.length&&(n.i=null,n.g.set(wc(n,e),ys(t)),n.h+=t.length)}function wc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ZD(n){this.l=n||_v,n=It.PerformanceNavigationTiming?0<(n=It.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(It.g&&It.g.Ea&&It.g.Ea()&&It.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=dh.prototype).add=function(n,e){su(this),this.i=null,n=wc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){su(this),this.g.forEach(function(t,r){B_(t,function(o){n.call(e,o,r,this)},this)},this)},Ye.T=function(){su(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Ye.R=function(n){su(this);var e=[];if("string"==typeof n)Pw(this,n)&&(e=AD(e,this.g.get(wc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=AD(e,n[t])}return e},Ye.set=function(n,e){return su(this),this.i=null,Pw(this,n=wc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var _v=10;function Fm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Io(n){return n.h?1:n.g?n.g.size:0}function vv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lm(n,e){n.g?n.g.add(e):n.h=e}function Do(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zs(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ys(n.i)}function _s(){}function Lw(){this.g=new _s}function Vw(n,e,t){const r=t||"";try{fv(n,function(o,u){let d=o;ip(o)&&(d=Am(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Vm(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function vp(n){this.l=n.$b||null,this.j=n.ib||!1}function Um(n,e){_r.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ep,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ZD.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_s.prototype.stringify=function(n){return It.JSON.stringify(n,void 0)},_s.prototype.parse=function(n){return It.JSON.parse(n,void 0)},Yr(vp,Mw),vp.prototype.g=function(){return new Um(this.l,this.j)},vp.prototype.i=function(n){return function(){return n}}({}),Yr(Um,_r);var Ep=0;function hh(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,fh(n)}function fh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=Um.prototype).open=function(n,e){if(this.readyState!=Ep)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,fh(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||It).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wp(this)),this.readyState=Ep},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,fh(this)),this.g&&(this.readyState=3,fh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==It.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hh(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wp(this):fh(this),3==this.readyState&&hh(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,wp(this))},Ye.Ta=function(n){this.g&&(this.response=n,wp(this))},Ye.ha=function(){this.g&&wp(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var QD=It.JSON.parse;function Jn(n){_r.call(this),this.headers=new lh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ev,this.K=this.L=!1}Yr(Jn,_r);var Ev="",Bm=/^https?$/i,JD=["POST","PUT"];function Bw(n){return"content-type"==n.toLowerCase()}function jm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bp(n),Ip(n)}function bp(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function wv(n){if(n.h&&void 0!==pm&&(!n.C[1]||4!=ea(n)||2!=n.ba()))if(n.v&&4==ea(n))Sm(n.Fa,0,n);else if(Qr(n,"readystatechange"),4==ea(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(km)[1]||null;if(!o&&It.self&&It.self.location){var u=It.self.location.protocol;o=u.substr(0,u.length-1)}r=!Bm.test(o?o.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var d=2<ea(n)?n.g.statusText:""}catch(E){d=""}n.j=d+" ["+n.ba()+"]",bp(n)}}finally{Ip(n)}}}function Ip(n,e){if(n.g){bv(n);const t=n.g,r=n.C[0]?rp:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function bv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(It.clearTimeout(n.A),n.A=null)}function ea(n){return n.g?n.g.readyState:0}function Iv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ev:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function $m(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return _m(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):An(n,e,t))}function ph(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function $w(n){this.za=0,this.l=[],this.h=new lp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ph("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ph("baseRetryDelayMs",5e3,n),this.$a=ph("retryDelaySeedMs",1e4,n),this.Ya=ph("forwardChannelMaxRetries",2,n),this.ra=ph("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ZD(n&&n.concurrentRequestLimit),this.Ca=new Lw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Dv(n){if(Hw(n),3==n.G){var e=n.V++,t=Xo(n.F);An(t,"SID",n.J),An(t,"RID",e),An(t,"TYPE","terminate"),Dp(n,t),(e=new oh(n,n.h,e,void 0)).K=2,e.v=mv(Xo(t)),t=!1,It.navigator&&It.navigator.sendBeacon&&(t=It.navigator.sendBeacon(e.v.toString(),"")),!t&&It.Image&&((new Image).src=e.v,t=!0),t||(e.g=Rv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vc(e)}Sv(n)}function Hm(n){n.g&&(Av(n),n.g.cancel(),n.g=null)}function Hw(n){Hm(n),n.u&&(It.clearTimeout(n.u),n.u=null),qm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&It.clearTimeout(n.m),n.m=null)}function Tv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Gm(n)}function Gm(n){Fm(n.i)||n.m||(n.m=!0,X_(n.Ha,n),n.C=0)}function Gw(n,e){var t;t=e?e.m:n.V++;const r=Xo(n.F);An(r,"SID",n.J),An(r,"RID",t),An(r,"AID",n.U),Dp(n,r),n.o&&n.s&&$m(r,n.o,n.s),t=new oh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Lm(n.i,t),lv(t,r,e)}function Dp(n,e){n.j&&fv({},function(t,r){An(e,r,t)})}function qw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Or(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let D=o[E].h;const S=o[E].g;if(D-=u,0>D)u=Math.max(0,o[E].h-100),m=!1;else try{Vw(S,d,"req"+D+"_")}catch(O){r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function zw(n){n.g||n.u||(n.Y=1,X_(n.Ga,n),n.A=0)}function Cv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Om(Or(n.Ga,n),Zw(n,n.A)),n.A++,0))}function Av(n){null!=n.B&&(It.clearTimeout(n.B),n.B=null)}function Ww(n){n.g=new oh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xo(n.oa);An(e,"RID","rpc"),An(e,"SID",n.J),An(e,"CI",n.N?"0":"1"),An(e,"AID",n.U),Dp(n,e),An(e,"TYPE","xmlhttp"),n.o&&n.s&&$m(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=mv(Xo(e)),t.s=null,t.U=!0,cv(t,n)}function qm(n){null!=n.v&&(It.clearTimeout(n.v),n.v=null)}function Kw(n,e){var t=null;if(n.g==e){qm(n),Av(n),n.g=null;var r=2}else{if(!vv(n.i,e))return;t=e.D,Do(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Qr(r=Rm(),new Nm(r,t,e,o)),Gm(n)}else zw(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(Io(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Om(Or(n.Ha,n,e),Zw(n,n.C)),n.C++,0)))}(n,e)||2==r&&Cv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:bc(n,5);break;case 4:bc(n,10);break;case 3:bc(n,6);break;default:bc(n,2)}}function Zw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function bc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Or(n.jb,n);t||(t=new fl("//www.google.com/images/cleardot.gif"),It.location&&"http"==It.location.protocol||gp(t,"https"),mv(t)),function(n,e){const t=new lp;if(It.Image){const r=new Image;r.onload=mm(Vm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mm(Vm,t,r,"TestLoadImage: error",!1,e),r.onabort=mm(Vm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mm(Vm,t,r,"TestLoadImage: timeout",!1,e),It.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.G=0,n.j&&n.j.va(e),Sv(n),Hw(n)}function Sv(n){n.G=0,n.I=-1,n.j&&((0!=zs(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ys(n.l),n.l.length=0),n.j.ua())}function Mv(n,e,t){let r=function(n){return n instanceof fl?Xo(n):new fl(n,void 0)}(t);if(""!=r.i)e&&mp(r,e+"."+r.i),yp(r,r.m);else{const o=It.location;r=function(n,e,t,r){var o=new fl(null,void 0);return n&&gp(o,n),e&&mp(o,e),t&&yp(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&_m(n.aa,function(o,u){An(r,u,o)}),t=n.sa,(e=n.D)&&t&&An(r,e,t),An(r,"VER",n.ma),Dp(n,r),r}function Rv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jn(t&&n.Ba&&!n.qa?new vp({ib:!0}):n.qa)).L=n.H,e}function Nv(){}function Tp(){if(Jd&&!(10<=Number(wm)))throw Error("Environmental error: no available transport.")}function Yi(n,e){_r.call(this),this.g=new $w(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!j_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!j_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ic(this)}function Ov(n){dp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xv(){uv.call(this),this.status=1}function Ic(n){this.g=n}(Ye=Jn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hp.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:hp),this.g.onreadystatechange=Or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void jm(this,u)}n=t||"";const o=new lh(this.headers);r&&fv(r,function(u,d){o.set(d,u)}),r=function(n){e:{var e=Bw;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=It.FormData&&n instanceof It.FormData,!(0<=mw(JD,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{bv(this),0<this.B&&((this.K=function(n){return Jd&&ap()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Or(this.pa,this)):this.A=Sm(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){jm(this,u)}},Ye.pa=function(){void 0!==pm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),Ip(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ip(this,!0)),Jn.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?wv(this):this.cb())},Ye.cb=function(){wv(this)},Ye.ba=function(){try{return 2<ea(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),QD(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=$w.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new oh(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=vm(u),Em(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qw(this,o,e),An(t=Xo(this.F),"RID",n),An(t,"CVER",22),this.D&&An(t,"X-HTTP-Session-Id",this.D),Dp(this,t),this.o&&u&&$m(t,this.o,u),Lm(this.i,o),this.Ra&&An(t,"TYPE","init"),this.ja?(An(t,"$req",e),An(t,"SID","null"),o.$=!0,lv(o,t,null)):lv(o,t,e),this.G=2}}else 3==this.G&&(n?Gw(this,n):0==this.l.length||Fm(this.i)||Gw(this))},Ye.Ga=function(){if(this.u=null,Ww(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Om(Or(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fi(10),Hm(this),Ww(this))},Ye.ab=function(){null!=this.v&&(this.v=null,Hm(this),Cv(this),fi(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),fi(2)):(this.h.info("Failed to ping google.com"),fi(1))},(Ye=Nv.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},Tp.prototype.g=function(n,e){return new Yi(n,e)},Yr(Yi,_r),Yi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),X_(Or(n.hb,n,e))),fi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Mv(n,null,n.W),Gm(n)},Yi.prototype.close=function(){Dv(this.g)},Yi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Tv(this.g,e)}else this.v?((e={}).__data__=Am(n),Tv(this.g,e)):Tv(this.g,n)},Yi.prototype.M=function(){this.g.j=null,delete this.j,Dv(this.g),delete this.g,Yi.Z.M.call(this)},Yr(Ov,dp),Yr(xv,uv),Yr(Ic,Nv),Ic.prototype.xa=function(){Qr(this.g,"a")},Ic.prototype.wa=function(n){Qr(this.g,new Ov(n))},Ic.prototype.va=function(n){Qr(this.g,new xv(n))},Ic.prototype.ua=function(){Qr(this.g,"b")},Tp.prototype.createWebChannel=Tp.prototype.g,Yi.prototype.send=Yi.prototype.u,Yi.prototype.open=Yi.prototype.m,Yi.prototype.close=Yi.prototype.close,rh.NO_ERROR=0,rh.TIMEOUT=8,rh.HTTP_ERROR=6,Sw.COMPLETE="complete",av.EventType=_c,_c.OPEN="a",_c.CLOSE="b",_c.ERROR="c",_c.MESSAGE="d",_r.prototype.listen=_r.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var Yw=lr.createWebChannelTransport=function(){return new Tp},Pv=lr.getStatEventTarget=function(){return Rm()},ou=lr.ErrorCode=rh,eT=lr.EventType=Sw,tT=lr.Event=yc,Dc=lr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lS=lr.FetchXmlHttpFactory=vp,gh=lr.WebChannel=av,cS=lr.XhrIo=Jn;const kv="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Cp="9.6.1";const ot=new ol.Yd("@firebase/firestore");function Fv(){return ot.logLevel}function ke(n,...e){if(ot.logLevel<=ol.in.DEBUG){const t=e.map(mh);ot.debug(`Firestore (${Cp}): ${n}`,...t)}}function Un(n,...e){if(ot.logLevel<=ol.in.ERROR){const t=e.map(mh);ot.error(`Firestore (${Cp}): ${n}`,...t)}}function Ap(n,...e){if(ot.logLevel<=ol.in.WARN){const t=e.map(mh);ot.warn(`Firestore (${Cp}): ${n}`,...t)}}function mh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Cp}) INTERNAL ASSERTION FAILED: `+n;throw Un(e),new Error(e)}function Ke(n,e){n||nt()}function $e(n,e){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Lv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class Jw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rT{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let d=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Er,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,ye.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},E=D=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Er)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke("string"==typeof r.accessToken),new Lv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(null===e||"string"==typeof e),new kr(e)}}class iT{constructor(e,t,r){this.type="FirstParty",this.user=kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class sT{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new iT(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=o=>{e.enqueueRetryable(()=>{return null!=(u=o).error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`),t(u.token);var u})};const r=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke("string"==typeof t.token),new yh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zm(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}vs.I=-1;class Vv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=zm(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Tc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Xw(n){return n+"\0"}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new Gn(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function eb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _h{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_h.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _h?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Jt extends _h{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Jt(t)}static emptyPath(){return new Jt([])}}const nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends _h{construct(e,t,r){return new Jr(e,t,r)}static isValidIdentifier(e){return nb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Re(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Re(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Re(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class Ac{constructor(e){this.fields=e,e.sort(Jr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Fr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Fr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const fS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(n){if(Ke(!!n),"string"==typeof n){let e=0;const t=fS.exec(n);if(Ke(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wr(n.seconds),nanos:wr(n.nanos)}}function wr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sp(n){return"string"==typeof n?Fr.fromBase64String(n):Fr.fromUint8Array(n)}function Wm(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Mp(n){const e=n.mapValue.fields.__previous_value__;return Wm(e)?Mp(e):e}function Rp(n){const e=Sc(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}function Mc(n){return null==n}function Np(n){return 0===n&&1/n==-1/0}function vh(n){return"number"==typeof n&&Number.isInteger(n)&&!Np(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class st{constructor(e){this.path=e}static fromPath(e){return new st(Jt.fromString(e))}static fromName(e){return new st(Jt.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new Jt(e.slice()))}}function Rc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wm(n)?4:10:nt()}function ta(n,e){const t=Rc(n);if(t!==Rc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rp(n).isEqual(Rp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Sc(r.timestampValue),d=Sc(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Sp(n.bytesValue).isEqual(Sp(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return wr(r.geoPointValue.latitude)===wr(o.geoPointValue.latitude)&&wr(r.geoPointValue.longitude)===wr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return wr(r.integerValue)===wr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=wr(r.doubleValue),d=wr(o.doubleValue);return u===d?Np(u)===Np(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Tc(n.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(eb(u)!==eb(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!ta(u[m],d[m])))return!1;return!0}(n,e);default:return nt()}var o}function Op(n,e){return void 0!==(n.values||[]).find(t=>ta(t,e))}function Eh(n,e){const t=Rc(n),r=Rc(e);if(t!==r)return jt(t,r);switch(t){case 0:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=wr(o.integerValue||o.doubleValue),m=wr(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return Uv(n.timestampValue,e.timestampValue);case 4:return Uv(Rp(n),Rp(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=Sp(o),m=Sp(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let E=0;E<d.length&&E<m.length;E++){const D=jt(d[E],m[E]);if(0!==D)return D}return jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=jt(wr(o.latitude),wr(u.latitude));return 0!==d?d:jt(wr(o.longitude),wr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let E=0;E<d.length&&E<m.length;++E){const D=Eh(d[E],m[E]);if(D)return D}return jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const d=o.fields||{},m=Object.keys(d),E=u.fields||{},D=Object.keys(E);m.sort(),D.sort();for(let S=0;S<m.length&&S<D.length;++S){const O=jt(m[S],D[S]);if(0!==O)return O;const V=Eh(d[m[S]],E[D[S]]);if(0!==V)return V}return jt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw nt()}}function Uv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Sc(n),r=Sc(e),o=jt(t.seconds,r.seconds);return 0!==o?o:jt(t.nanos,r.nanos)}function Bv(n){return jv(n)}function jv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Sc(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sp(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=jv(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${jv(r.fields[m])}`;return u+"}"}(n.mapValue):nt();var e}function au(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $v(n){return!!n&&"integerValue"in n}function Km(n){return!!n&&"arrayValue"in n}function rb(n){return!!n&&"nullValue"in n}function Hv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zm(n){return!!n&&"mapValue"in n}function wh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wh(n.arrayValue.values[t]);return e}return Object.assign({},n)}class pi{constructor(e){this.value=e}static empty(){return new pi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(t)}setAll(e){let t=Jr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=wh(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Zm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Cc(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new pi(wh(this.value))}}function Ym(n){const e=[];return Cc(n.fields,(t,r)=>{const o=new Jr([t]);if(Zm(r)){const u=Ym(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new Ac(e)}class Pn{constructor(e,t,r,o,u){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Pn(e,0,Dt.min(),pi.empty(),0)}static newFoundDocument(e,t,r){return new Pn(e,1,t,r,0)}static newNoDocument(e,t){return new Pn(e,2,t,pi.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,pi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Pn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ib{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.R=null}}function Gv(n,e=null,t=[],r=[],o=null,u=null,d=null){return new ib(n,e,t,r,o,u,d)}function xp(n){const e=$e(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Bv(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Mc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=Pp(e.startAt)),e.endAt&&(t+="|ub:",t+=Pp(e.endAt)),e.R=t}return e.R}function Qm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!mT(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!ta(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ab(n.startAt,e.startAt)&&ab(n.endAt,e.endAt)}function bh(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ni extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new lT(e,t,r):"array-contains"===t?new hT(e,r):"in"===t?new fT(e,r):"not-in"===t?new pT(e,r):"array-contains-any"===t?new gT(e,r):new Ni(e,t,r)}static P(e,t,r){return"in"===t?new cT(e,r):new dT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Eh(t,this.value)):null!==t&&Rc(this.value)===Rc(t)&&this.v(Eh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lT extends Ni{constructor(e,t,r){super(e,t,r),this.key=st.fromName(r.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.v(t)}}class cT extends Ni{constructor(e,t){super(e,"in",t),this.keys=ob(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dT extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=ob(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ob(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>st.fromName(r.referenceValue))}class hT extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Km(t)&&Op(t.arrayValue,this.value)}}class fT extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class pT extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class gT extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Km(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Op(this.value.arrayValue,r))}}class Ih{constructor(e,t){this.position=e,this.before=t}}function Pp(n){return`${n.before?"b":"a"}:${n.position.map(e=>Bv(e)).join(",")}`}class Dh{constructor(e,t="asc"){this.field=e,this.dir=t}}function mT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?st.comparator(st.fromName(d.referenceValue),t.key):Eh(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function ab(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ta(n.position[t],e.position[t]))return!1;return!0}class uu{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=E,this.S=null,this.D=null}}function ub(n,e,t,r,o,u,d,m){return new uu(n,e,t,r,o,u,d,m)}function pl(n){return new uu(n)}function Th(n){return!Mc(n.limit)&&"F"===n.limitType}function kp(n){return!Mc(n.limit)&&"L"===n.limitType}function Fp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zv(n){for(const e of n.filters)if(e.V())return e.field;return null}function Wv(n){return null!==n.collectionGroup}function gl(n){const e=$e(n);if(null===e.S){e.S=[];const t=zv(e),r=Fp(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new Dh(t)),e.S.push(new Dh(Jr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.S.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new Dh(Jr.keyField(),u))}}}return e.S}function Ws(n){const e=$e(n);if(!e.D)if("F"===e.limitType)e.D=Gv(e.path,e.collectionGroup,gl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of gl(e))t.push(new Dh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ih(e.endAt.position,!e.endAt.before):null,o=e.startAt?new Ih(e.startAt.position,!e.startAt.before):null;e.D=Gv(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.D}function Kv(n,e,t){return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lp(n,e){return Qm(Ws(n),Ws(e))&&n.limitType===e.limitType}function Zv(n){return`${xp(Ws(n))}|lt:${n.limitType}`}function Yv(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Bv(r.value)}`;var r}).join(", ")}]`),Mc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+Pp(n.startAt)),n.endAt&&(e+=", endAt: "+Pp(n.endAt)),`Target(${e})`}(Ws(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):st.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!qv(t.startAt,gl(t),r)||t.endAt&&qv(t.endAt,gl(t),r)));var t,r}function yT(n){return(e,t)=>{let r=!1;for(const o of gl(n)){const u=_T(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function _T(n,e,t){const r=n.field.isKeyField()?st.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),E=d.data.field(o);return null!==m&&null!==E?Eh(m,E):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}function Ah(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Np(e)?"-0":e}}function lb(n){return{integerValue:""+n}}function Nc(n,e){return vh(e)?lb(e):Ah(n,e)}class ml{constructor(){this._=void 0}}function vT(n,e,t){return n instanceof Sh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Oc?cb(n,e):n instanceof xc?Jv(n,e):function(r,o){const u=Qv(r,o),d=Jm(u)+Jm(r.N);return $v(u)&&$v(r.N)?lb(d):Ah(r.k,d)}(n,e)}function pS(n,e,t){return n instanceof Oc?cb(n,e):n instanceof xc?Jv(n,e):t}function Qv(n,e){return n instanceof Pc?$v(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Sh extends ml{}class Oc extends ml{constructor(e){super(),this.elements=e}}function cb(n,e){const t=Vp(e);for(const r of n.elements)t.some(o=>ta(o,r))||t.push(r);return{arrayValue:{values:t}}}class xc extends ml{constructor(e){super(),this.elements=e}}function Jv(n,e){let t=Vp(e);for(const r of n.elements)t=t.filter(o=>!ta(o,r));return{arrayValue:{values:t}}}class Pc extends ml{constructor(e,t){super(),this.k=e,this.N=t}}function Jm(n){return wr(n.integerValue||n.doubleValue)}function Vp(n){return Km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lu{constructor(e,t){this.field=e,this.transform=t}}class db{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ey{}function wT(n,e,t){n instanceof Bp?function(r,o,u){const d=r.value.clone(),m=kc(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Es?function(r,o,u){if(!Xm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=kc(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(Xv(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Up(n,e,t){var o;n instanceof Bp?function(r,o,u){if(!Xm(r.precondition,o))return;const d=r.value.clone(),m=DT(r.fieldTransforms,u,o);d.setAll(m),o.convertToFoundDocument(hb(o),d).setHasLocalMutations()}(n,e,t):n instanceof Es?function(r,o,u){if(!Xm(r.precondition,o))return;const d=DT(r.fieldTransforms,u,o),m=o.data;m.setAll(Xv(r)),m.setAll(d),o.convertToFoundDocument(hb(o),m).setHasLocalMutations()}(n,e,t):Xm(n.precondition,o=e)&&o.convertToNoDocument(Dt.min())}function bT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Qv(r.transform,o||null);null!=u&&(null==t&&(t=pi.empty()),t.set(r.field,u))}return t||null}function IT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Tc(t,r,(o,u)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Oc&&r instanceof Oc||t instanceof xc&&r instanceof xc?Tc(t.elements,r.elements,ta):t instanceof Pc&&r instanceof Pc?ta(t.N,r.N):t instanceof Sh&&r instanceof Sh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hb(n){return n.isFoundDocument()?n.version:Dt.min()}class Bp extends ey{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Es extends ey{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function Xv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kc(n,e,t){const r=new Map;Ke(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,pS(d,m,t[o]))}return r}function DT(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,vT(u,d,e))}return r}class Mh extends ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class eE extends ey{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class gS{constructor(e){this.count=e}}var er,Yt;function tE(n){switch(n){default:return nt();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function ty(n){if(void 0===n)return Un("GRPC error has no .code"),ce.UNKNOWN;switch(n){case er.OK:return ce.OK;case er.CANCELLED:return ce.CANCELLED;case er.UNKNOWN:return ce.UNKNOWN;case er.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case er.INTERNAL:return ce.INTERNAL;case er.UNAVAILABLE:return ce.UNAVAILABLE;case er.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case er.NOT_FOUND:return ce.NOT_FOUND;case er.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case er.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case er.ABORTED:return ce.ABORTED;case er.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case er.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case er.DATA_LOSS:return ce.DATA_LOSS;default:return nt()}}(Yt=er||(er={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class br{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jp(this.root,e,this.comparator,!0)}}class jp{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Xr.RED,this.left=null!=o?o:Xr.EMPTY,this.right=null!=u?u:Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Xr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qn{constructor(e){this.comparator=e,this.data=new br(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(e){return new fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qn(this.comparator);return t.data=e,t}}class fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const TT=new br(st.comparator);function Ks(){return TT}const CT=new br(st.comparator);function nE(){return CT}const AT=new br(st.comparator);function Rh(){return AT}const pb=new qn(st.comparator);function dn(...n){let e=pb;for(const t of n)e=e.add(t);return e}const gb=new qn(jt);function $p(){return gb}class Nh{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Nh(Dt.min(),r,$p(),Ks(),dn())}}class Oh{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Oh(Fr.EMPTY_BYTE_STRING,t,dn(),dn(),dn())}}class ny{constructor(e,t,r,o){this.$=e,this.removedTargetIds=t,this.key=r,this.F=o}}class rE{constructor(e,t){this.targetId=e,this.O=t}}class mb{constructor(e,t,r=Fr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class yb{constructor(){this.M=0,this.L=xh(),this.B=Fr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=dn(),t=dn(),r=dn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:nt()}}),new Oh(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=xh()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class ST{constructor(e){this.et=e,this.nt=new Map,this.st=Ks(),this.it=_b(),this.rt=new qn(jt)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,o)=>{this.lt(o)&&t(o)})}dt(e){const t=e.targetId,r=e.O.count,o=this.wt(t);if(o){const u=o.target;if(bh(u))if(0===r){const d=new st(u.path);this.ct(t,d,Pn.newNoDocument(d,Dt.min()))}else Ke(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&bh(m.target)){const E=new st(m.target.path);null!==this.st.get(E)||this.yt(d,E)||this.ct(d,E,Pn.newNoDocument(E,e))}u.j&&(t.set(d,u.G()),u.H())}});let r=dn();this.it.forEach((u,d)=>{let m=!0;d.forEachWhile(E=>{const D=this.wt(E);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))});const o=new Nh(e,t,this.rt,this.st,r);return this.st=Ks(),this.it=_b(),this.rt=new qn(jt),o}at(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.lt(e))return;const o=this.ht(e);this.yt(e,t)?o.J(t,1):o.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new yb,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new qn(jt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new yb),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function _b(){return new br(st.comparator)}function xh(){return new br(st.comparator)}const MT={asc:"ASCENDING",desc:"DESCENDING"},iE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class na{constructor(e,t){this.databaseId=e,this.C=t}}function Hp(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ry(n,e){return n.C?e.toBase64():e.toUint8Array()}function Gp(n,e){return Hp(n,e.toTimestamp())}function Lr(n){return Ke(!!n),Dt.fromTimestamp(function(e){const t=Sc(e);return new Gn(t.seconds,t.nanos)}(n))}function sE(n,e){return(t=n,new Jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vb(n){const e=Jt.fromString(n);return Ke(fE(e)),e}function yl(n,e){return sE(n.databaseId,e.path)}function ws(n,e){const t=vb(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(aE(t))}function oE(n,e){return sE(n.databaseId,e)}function Eb(n){const e=vb(n);return 4===e.length?Jt.emptyPath():aE(e)}function Ph(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aE(n){return Ke(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iy(n,e,t){return{name:yl(n,e),fields:t.value.mapValue.fields}}function uE(n,e,t){const r=ws(n,e.name),o=Lr(e.updateTime),u=new pi({mapValue:{fields:e.fields}}),d=Pn.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function lE(n,e){let t;if(e instanceof Bp)t={update:iy(n,e.key,e.value)};else if(e instanceof Mh)t={delete:yl(n,e.key)};else if(e instanceof Es)t={update:iy(n,e.key,e.data),updateMask:xT(e.fieldMask)};else{if(!(e instanceof eE))return nt();t={verify:yl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Sh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pc)return{fieldPath:u.field.canonicalString(),increment:d.N};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Gp(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:nt()),t;var o}function sy(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Xn.updateTime(Lr(o.updateTime)):void 0!==o.exists?Xn.exists(o.exists):Xn.none():Xn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(Ke("REQUEST_TIME"===d.setToServerValue),m=new Sh):"appendMissingElements"in d?m=new Oc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new xc(d.removeAllFromArray.values||[]):"increment"in d?m=new Pc(u,d.increment):nt();const E=Jr.fromServerFormat(d.fieldPath);return new lu(E,m)}(n,o)):[];var o;if(e.update){const o=ws(n,e.update.name),u=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Ac((e.updateMask.fieldPaths||[]).map(D=>Jr.fromServerFormat(D)));return new Es(o,u,d,t,r)}return new Bp(o,u,t,r)}if(e.delete){const o=ws(n,e.delete);return new Mh(o,t)}if(e.verify){const o=ws(n,e.verify);return new eE(o,t)}return nt()}function dE(n,e){return{documents:[oE(n,e.path)]}}function oy(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=oE(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=oE(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const E=m.map(D=>function(S){if("=="===S.op){if(Hv(S.value))return{unaryFilter:{field:Fc(S.field),op:"IS_NAN"}};if(rb(S.value))return{unaryFilter:{field:Fc(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Hv(S.value))return{unaryFilter:{field:Fc(S.field),op:"IS_NOT_NAN"}};if(rb(S.value))return{unaryFilter:{field:Fc(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(S.field),op:hE(S.op),value:S.value}}}(D));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(m){if(0!==m.length)return m.map(E=>{return{field:Fc((D=E).field),direction:Db(D.dir)};var D})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(E=e.limit,n.C||Mc(E)?E:{value:E});var E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=bb(e.startAt)),e.endAt&&(t.structuredQuery.endAt=bb(e.endAt)),t}function ay(n){let e=Eb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ke(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=wb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new Dh(kh((O=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(S){let O;return O="object"==typeof S?S.value:S,Mc(O)?null:O}(t.limit));let E=null;t.startAt&&(E=Ib(t.startAt));let D=null;return t.endAt&&(D=Ib(t.endAt)),ub(e,o,d,u,m,"F",E,D)}function wb(n){return n?void 0!==n.unaryFilter?[Cb(n)]:void 0!==n.fieldFilter?[Tb(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>wb(e)).reduce((e,t)=>e.concat(t)):nt():[]}function bb(n){return{before:n.before,values:n.position}}function Ib(n){return new Ih(n.values||[],!!n.before)}function Db(n){return MT[n]}function hE(n){return iE[n]}function Fc(n){return{fieldPath:n.canonicalString()}}function kh(n){return Jr.fromServerFormat(n.fieldPath)}function Tb(n){return Ni.create(kh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Cb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=kh(n.unaryFilter.field);return Ni.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=kh(n.unaryFilter.field);return Ni.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kh(n.unaryFilter.field);return Ni.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=kh(n.unaryFilter.field);return Ni.create(o,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function xT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pE(e)),e=PT(n.get(t),e);return pE(e)}function PT(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function pE(n){return n+"\x01\x01"}function cu(n){const e=n.length;if(Ke(e>=2),2===e)return Ke("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Jt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&nt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:nt()}u=d+2}return new Jt(r)}class Oi{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Vr{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Vr.store="owner",Vr.key="owner";class _l{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}_l.store="mutationQueues",_l.keyPath="userId";class Sn{constructor(e,t,r,o,u){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=u}}Sn.store="mutations",Sn.keyPath="batchId",Sn.userMutationsIndex="userMutationsIndex",Sn.userMutationsKeyPath=["userId","batchId"];class xi{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Zs(t)]}static key(e,t,r){return[e,Zs(t),r]}}xi.store="documentMutations",xi.PLACEHOLDER=new xi;class qp{constructor(e,t){this.path=e,this.readTime=t}}class kT{constructor(e,t){this.path=e,this.version=t}}class kn{constructor(e,t,r,o,u,d){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=d}}kn.store="remoteDocuments",kn.readTimeIndex="readTimeIndex",kn.readTimeIndexPath="readTime",kn.collectionReadTimeIndex="collectionReadTimeIndex",kn.collectionReadTimeIndexPath=["parentPath","readTime"];class ra{constructor(e){this.byteSize=e}}ra.store="remoteDocumentGlobal",ra.key="remoteDocumentGlobalKey";class Pi{constructor(e,t,r,o,u,d,m){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=d,this.query=m}}Pi.store="targets",Pi.keyPath="targetId",Pi.queryTargetsIndexName="queryTargetsIndex",Pi.queryTargetsKeyPath=["canonicalId","targetId"];class ei{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}ei.store="targetDocuments",ei.keyPath=["targetId","path"],ei.documentTargetsIndex="documentTargetsIndex",ei.documentTargetsKeyPath=["path","targetId"];class bs{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}bs.key="targetGlobalKey",bs.store="targetGlobal";class du{constructor(e,t){this.collectionId=e,this.parent=t}}du.store="collectionParents",du.keyPath=["collectionId","parent"];class ia{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}ia.store="clientMetadata",ia.keyPath="clientId";class Lc{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Lc.store="bundles",Lc.keyPath="bundleId";class hu{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}hu.store="namedQueries",hu.keyPath="name";const gE=[_l.store,Sn.store,xi.store,kn.store,Pi.store,Vr.store,bs.store,ei.store,ia.store,ra.store,du.store,Lc.store,hu.store],FT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ae((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ae?t:Ae.resolve(t)}catch(t){return Ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ae.reject(t)}static resolve(e){return new Ae((t,r)=>{t(e)})}static reject(e){return new Ae((t,r)=>{r(e)})}static waitFor(e){return new Ae((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},E=>r(E))}),d=!0,u===o&&t()})}static or(e){let t=Ae.resolve(!1);for(const r of e)t=t.next(o=>o?Ae.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class zp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Er,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new Wp(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const o=_E(r.target.error);this.It.reject(new Wp(e,o))}}static open(e,t,r,o){try{return new zp(t,e.transaction(o,r))}catch(u){throw new Wp(t,u)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new yE(t)}}class Qi{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===Qi.Pt((0,Bt.z$)())&&Un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),Fh(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Bt.hl)())return!1;if(Qi.vt())return!0;const e=(0,Bt.z$)(),t=Qi.Pt(e),r=0<t&&t<10,o=Qi.Vt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,ye.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new Wp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Re(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Re(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Wp(e,m))},u.onupgradeneeded=d=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Rt.Nt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,ye.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Ct(e);const E=zp.open(u.db,e,d?"readonly":"readwrite",r),D=o(E).catch(S=>(E.abort(S),Ae.reject(S))).toPromise();return D.catch(()=>{}),yield E.At,D}catch(E){const D="FirebaseError"!==E.name&&m<3;if(ke("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),u.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ab{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Fh(this.$t.delete())}}class Wp extends Re{constructor(e,t){super(ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fu(n){return"IndexedDbTransactionError"===n.name}class yE{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Fh(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),Fh(this.store.add(e))}get(e){return Fh(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),Fh(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),Fh(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Ut(r,(u,d)=>{o.push(d)}).next(()=>o)}qt(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const o=this.cursor(r);return this.Ut(o,(u,d,m)=>m.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Ut(o,t)}Qt(e){const t=this.cursor({});return new Ae((r,o)=>{t.onerror=u=>{const d=_E(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Ut(e,t){const r=[];return new Ae((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const E=new Ab(m),D=t(m.primaryKey,m.value,E);if(D instanceof Ae){const S=D.catch(O=>(E.done(),Ae.reject(O)));r.push(S)}E.isDone?o():null===E.Mt?m.continue():m.continue(E.Mt)}}).next(()=>Ae.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Fh(n){return new Ae((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=_E(r.target.error);t(o)}})}let Sb=!1;function _E(n){const e=Qi.Pt((0,Bt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Sb||(Sb=!0,setTimeout(()=>{throw r},0)),r}}return n}class vE extends mE{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function ki(n,e){const t=$e(n);return Qi.Dt(t.Wt,e)}class EE{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&wT(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Up(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Up(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dn())}isEqual(e){return this.batchId===e.batchId&&Tc(this.mutations,e.mutations,(t,r)=>IT(t,r))&&Tc(this.baseMutations,e.baseMutations,(t,r)=>IT(t,r))}}class uy{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ke(e.mutations.length===r.length);let o=Rh();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new uy(e,t,r,o)}}class pu{constructor(e,t,r,o,u=Dt.min(),d=Dt.min(),m=Fr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new pu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new pu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Mb{constructor(e){this.Gt=e}}function wE(n,e){if(e.document)return uE(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=st.fromSegments(e.noDocument.path),r=Uc(e.noDocument.readTime),o=Pn.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=st.fromSegments(e.unknownDocument.path),r=Uc(e.unknownDocument.version);return Pn.newUnknownDocument(t,r)}return nt()}function bE(n,e,t){const r=IE(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const u={name:yl(m=n.Gt,(E=e).key),fields:E.data.value.mapValue.fields,updateTime:Hp(m,E.version.toTimestamp())};return new kn(null,null,u,e.hasCommittedMutations,r,o)}var m,E;if(e.isNoDocument()){const u=e.key.path.toArray(),d=Vc(e.version),m=e.hasCommittedMutations;return new kn(null,new qp(u,d),null,m,r,o)}if(e.isUnknownDocument()){const u=e.key.path.toArray(),d=Vc(e.version);return new kn(new kT(u,d),null,null,!0,r,o)}return nt()}function IE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function DE(n){const e=new Gn(n[0],n[1]);return Dt.fromTimestamp(e)}function Vc(n){const e=n.toTimestamp();return new Oi(e.seconds,e.nanoseconds)}function Uc(n){const e=new Gn(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function Bc(n,e){const t=(e.baseMutations||[]).map(u=>sy(n.Gt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>sy(n.Gt,u)),o=Gn.fromMillis(e.localWriteTimeMs);return new EE(e.batchId,o,t,r)}function Kp(n){const e=Uc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Uc(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var o;return void 0!==n.query.documents?(Ke(1===(o=n.query).documents.length),r=Ws(pl(Eb(o.documents[0])))):r=Ws(ay(n.query)),new pu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Fr.fromBase64String(n.resumeToken))}function Rb(n,e){const t=Vc(e.snapshotVersion),r=Vc(e.lastLimboFreeSnapshotVersion);let o;o=bh(e.target)?dE(n.Gt,e.target):oy(n.Gt,e.target);const u=e.resumeToken.toBase64();return new Pi(e.targetId,xp(e.target),t,u,e.sequenceNumber,r,o)}function Nb(n){const e=ay({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Kv(e,e.limit,"L"):e}class Ob{getBundleMetadata(e,t){return LT(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Uc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return LT(e).put({bundleId:(r=t).id,createTime:Vc(Lr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return VT(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Nb(o.bundledQuery),readTime:Uc(o.readTime)};var o})}saveNamedQuery(e,t){return VT(e).put({name:(r=t).name,readTime:Vc(Lr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LT(n){return ki(n,Lc.store)}function VT(n){return ki(n,hu.store)}class mS{constructor(){this.zt=new xb}addToCollectionParentIndex(e,t){return this.zt.add(t),Ae.resolve()}getCollectionParents(e,t){return Ae.resolve(this.zt.getEntries(t))}}class xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new qn(Jt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new qn(Jt.comparator)).toArray()}}class yS{constructor(){this.Ht=new xb}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const u={collectionId:r,parent:Zs(o)};return UT(e).put(u)}return Ae.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Xw(t),""],!1,!0);return UT(e).Bt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(cu(d.parent))}return r})}}function UT(n){return ki(n,du.store)}const BT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Is{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Is(e,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Zp(n,e,t){const r=n.store(Sn.store),o=n.store(xi.store),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const E=r.jt({range:d},(S,O,V)=>(m++,V.delete()));u.push(E.next(()=>{Ke(1===m)}));const D=[];for(const S of t.mutations){const O=xi.key(e,S.key.path,t.batchId);u.push(o.delete(O)),D.push(S.key)}return Ae.waitFor(u).next(()=>D)}function TE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}Is.DEFAULT_COLLECTION_PERCENTILE=10,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Is.DEFAULT=new Is(41943040,Is.DEFAULT_COLLECTION_PERCENTILE,Is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Is.DISABLED=new Is(-1,0,0);class Yp{constructor(e,t,r,o){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=o,this.Yt={}}static Xt(e,t,r,o){Ke(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Yp(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gu(e).jt({index:Sn.userMutationsIndex,range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Lh(e),d=gu(e);return d.add({}).next(m=>{Ke("number"==typeof m);const E=new EE(m,t,r,o),D=function(V,q,Y){const ge=Y.baseMutations.map(at=>lE(V.Gt,at)),Ne=Y.mutations.map(at=>lE(V.Gt,at));return new Sn(q,Y.batchId,Y.localWriteTime.toMillis(),ge,Ne)}(this.k,this.userId,E),S=[];let O=new qn((V,q)=>jt(V.canonicalString(),q.canonicalString()));for(const V of o){const q=xi.key(this.userId,V.key.path,m);O=O.add(V.key.path.popLast()),S.push(d.put(D)),S.push(u.put(q,xi.PLACEHOLDER))}return O.forEach(V=>{S.push(this.Jt.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.Yt[m]=E.keys()}),Ae.waitFor(S).next(()=>E)})}lookupMutationBatch(e,t){return gu(e).get(t).next(r=>r?(Ke(r.userId===this.userId),Bc(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Ae.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Yt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return gu(e).jt({index:Sn.userMutationsIndex,range:o},(d,m,E)=>{m.userId===this.userId&&(Ke(m.batchId>=r),u=Bc(this.k,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return gu(e).jt({index:Sn.userMutationsIndex,range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gu(e).Bt(Sn.userMutationsIndex,t).next(r=>r.map(o=>Bc(this.k,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xi.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Lh(e).jt({range:o},(d,m,E)=>{const[D,S,O]=d,V=cu(S);if(D===this.userId&&t.path.isEqual(V))return gu(e).get(O).next(q=>{if(!q)throw nt();Ke(q.userId===this.userId),u.push(Bc(this.k,q))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(jt);const o=[];return t.forEach(u=>{const d=xi.prefixForPath(this.userId,u.path),m=IDBKeyRange.lowerBound(d),E=Lh(e).jt({range:m},(D,S,O)=>{const[V,q,Y]=D,ge=cu(q);V===this.userId&&u.path.isEqual(ge)?r=r.add(Y):O.done()});o.push(E)}),Ae.waitFor(o).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=xi.prefixForPath(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new qn(jt);return Lh(e).jt({range:d},(E,D,S)=>{const[O,V,q]=E,Y=cu(V);O===this.userId&&r.isPrefixOf(Y)?Y.length===o&&(m=m.add(q)):S.done()}).next(()=>this.te(e,m))}te(e,t){const r=[],o=[];return t.forEach(u=>{o.push(gu(e).get(u).next(d=>{if(null===d)throw nt();Ke(d.userId===this.userId),r.push(Bc(this.k,d))}))}),Ae.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return Zp(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Ae.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ae.resolve();const r=IDBKeyRange.lowerBound(xi.prefixForUser(this.userId)),o=[];return Lh(e).jt({range:r},(u,d,m)=>{if(u[0]===this.userId){const E=cu(u[1]);o.push(E)}else m.done()}).next(()=>{Ke(0===o.length)})})}containsKey(e,t){return jc(e,this.userId,t)}ne(e){return Pb(e).get(this.userId).next(t=>t||new _l(this.userId,-1,""))}}function jc(n,e,t){const r=xi.prefixForPath(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Lh(n).jt({range:u,Kt:!0},(m,E,D)=>{const[S,O,V]=m;S===e&&O===o&&(d=!0),D.done()}).next(()=>d)}function gu(n){return ki(n,Sn.store)}function Lh(n){return ki(n,xi.store)}function Pb(n){return ki(n,_l.store)}class mu{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new mu(0)}static re(){return new mu(-1)}}class kb{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new mu(t.highestTargetId);return t.highestTargetId=r.next(),this.ae(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Dt.fromTimestamp(new Gn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.ae(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ae(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$c(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(Ke(r.targetCount>0),r.targetCount-=1,this.ae(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return $c(e).jt((d,m)=>{const E=Kp(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>Ae.waitFor(u)).next(()=>o)}forEachTarget(e,t){return $c(e).jt((r,o)=>{const u=Kp(o);t(u)})}oe(e){return CE(e).get(bs.key).next(t=>(Ke(null!==t),t))}ae(e,t){return CE(e).put(bs.key,t)}ce(e,t){return $c(e).put(Rb(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=xp(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return $c(e).jt({range:o,index:Pi.queryTargetsIndexName},(d,m,E)=>{const D=Kp(m);Qm(t,D.target)&&(u=D,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Hc(e);return t.forEach(d=>{const m=Zs(d.path);o.push(u.put(new ei(r,m))),o.push(this.referenceDelegate.addReference(e,r,d))}),Ae.waitFor(o)}removeMatchingKeys(e,t,r){const o=Hc(e);return Ae.forEach(t,u=>{const d=Zs(u.path);return Ae.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Hc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Hc(e);let u=dn();return o.jt({range:r,Kt:!0},(d,m,E)=>{const D=cu(d[1]),S=new st(D);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Zs(t.path),o=IDBKeyRange.bound([r],[Xw(r)],!1,!0);let u=0;return Hc(e).jt({index:ei.documentTargetsIndex,Kt:!0,range:o},([d,m],E,D)=>{0!==d&&(u++,D.done())}).next(()=>u>0)}Et(e,t){return $c(e).get(t).next(r=>r?Kp(r):null)}}function $c(n){return ki(n,Pi.store)}function CE(n){return ki(n,bs.store)}function Hc(n){return ki(n,ei.store)}function vl(n){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,ye.Z)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==FT)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),Vh.apply(this,arguments)}function AE([n,e],[t,r]){const o=jt(n,t);return 0===o?jt(e,r):o}class _S{constructor(e){this.he=e,this.buffer=new qn(AE),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();AE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;ke("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ye.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){fu(o)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield vl(o)}yield t.me(e)}))}}class ES{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ae.resolve(vs.I);const r=new _S(t);return this.ge.forEachTarget(e,o=>r.de(o.sequenceNumber)).next(()=>this.ge.pe(e,o=>r.de(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(BT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BT):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,o,u,d,m,E,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(e,o))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(u=O,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(D=Date.now(),Fv()<=ol.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${O} documents in `+(D-E)+`ms\nTotal Duration: ${D-S}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:O})))}}class jT{constructor(e,t){this.db=e,this.garbageCollector=new ES(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,o)=>t(o))}addReference(e,t,r){return Uh(e,r)}removeReference(e,t,r){return Uh(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Uh(e,t)}Ae(e,t){return function(r,o){let u=!1;return Pb(r).Qt(d=>jc(r,d,o).next(m=>(m&&(u=!0),Ae.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Ie(e,(d,m)=>{if(m<=t){const E=this.Ae(e,d).next(D=>{if(!D)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d),Hc(e).delete([0,Zs(d.path)])))});o.push(E)}}).next(()=>Ae.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Uh(e,t)}Ie(e,t){const r=Hc(e);let o,u=vs.I;return r.jt({index:ei.documentTargetsIndex},([d,m],{path:E,sequenceNumber:D})=>{0===d?(u!==vs.I&&t(new st(cu(o)),u),u=D,o=E):u=vs.I}).next(()=>{u!==vs.I&&t(new st(cu(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uh(n,e){return Hc(n).put((r=n.currentSequenceNumber,new ei(0,Zs(e.path),r)));var r}class Bh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){Cc(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return tb(this.inner)}}class $T{constructor(){this.changes=new Bh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Dt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Pn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ae.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class HT{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return cr(e).put(ly(t),r)}removeEntry(e,t){const r=cr(e),o=ly(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return cr(e).get(ly(t)).next(r=>this.Pe(t,r))}be(e,t){return cr(e).get(ly(t)).next(r=>({document:this.Pe(t,r),size:TE(r)}))}getEntries(e,t){let r=Ks();return this.ve(e,t,(o,u)=>{const d=this.Pe(o,u);r=r.insert(o,d)}).next(()=>r)}Ve(e,t){let r=Ks(),o=new br(st.comparator);return this.ve(e,t,(u,d)=>{const m=this.Pe(u,d);r=r.insert(u,m),o=o.insert(u,TE(d))}).next(()=>({documents:r,Se:o}))}ve(e,t,r){if(t.isEmpty())return Ae.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator();let d=u.getNext();return cr(e).jt({range:o},(m,E,D)=>{const S=st.fromSegments(m);for(;d&&st.comparator(d,S)<0;)r(d,null),d=u.getNext();d&&d.isEqual(S)&&(r(d,E),d=u.hasNext()?u.getNext():null),d?D.Lt(d.path.toArray()):D.done()}).next(()=>{for(;d;)r(d,null),d=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Ks();const u=t.path.length+1,d={};if(r.isEqual(Dt.min())){const m=t.path.toArray();d.range=IDBKeyRange.lowerBound(m)}else{const m=t.path.toArray(),E=IE(r);d.range=IDBKeyRange.lowerBound([m,E],!0),d.index=kn.collectionReadTimeIndex}return cr(e).jt(d,(m,E,D)=>{if(m.length!==u)return;const S=wE(this.k,E);t.path.isPrefixOf(S.key.path)?Ch(t,S)&&(o=o.insert(S.key,S)):D.done()}).next(()=>o)}newChangeBuffer(e){return new SE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fb(e).get(ra.key).next(t=>(Ke(!!t),t))}Re(e,t){return Fb(e).put(ra.key,t)}Pe(e,t){if(t){const r=wE(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return Pn.newInvalidDocument(e)}}class SE extends $T{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Bh(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new qn((u,d)=>jt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Ce.get(u);if(d.document.isValidDocument()){const E=bE(this.De.k,d.document,this.getReadTime(u));o=o.add(u.path.popLast()),r+=TE(E)-m,t.push(this.De.addEntry(e,u,E))}else if(r-=m,this.trackRemovals){const E=bE(this.De.k,Pn.newNoDocument(u,Dt.min()),this.getReadTime(u));t.push(this.De.addEntry(e,u,E))}else t.push(this.De.removeEntry(e,u))}),o.forEach(u=>{t.push(this.De.Jt.addToCollectionParentIndex(e,u))}),t.push(this.De.updateMetadata(e,r)),Ae.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:o})=>(o.forEach((u,d)=>{this.Ce.set(u,d)}),r))}}function Fb(n){return ki(n,ra.store)}function cr(n){return ki(n,kn.store)}function ly(n){return n.path.toArray()}class ME{constructor(e){this.k=e}Nt(e,t,r,o){Ke(r<o&&r>=0&&o<=11);const u=new zp("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore(Vr.store),(m=e).createObjectStore(_l.store,{keyPath:_l.keyPath}),m.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0}),m.createObjectStore(xi.store),Lb(e),function(m){m.createObjectStore(kn.store)}(e));let d=Ae.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore(ei.store),m.deleteObjectStore(Pi.store),m.deleteObjectStore(bs.store)}(e),Lb(e)),d=d.next(()=>function(m){const E=m.store(bs.store),D=new bs(0,0,Dt.min().toTimestamp(),0);return E.put(bs.key,D)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,E){return E.store(Sn.store).Bt().next(D=>{m.deleteObjectStore(Sn.store),m.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0});const S=E.store(Sn.store),O=D.map(V=>S.put(V));return Ae.waitFor(O)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore(ia.store,{keyPath:ia.keyPath})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ne(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore(ra.store)}(e),this.ke(u)))),r<7&&o>=7&&(d=d.next(()=>this.xe(u))),r<8&&o>=8&&(d=d.next(()=>this.$e(e,u))),r<9&&o>=9&&(d=d.next(()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(e),function(m){const E=m.objectStore(kn.store);E.createIndex(kn.readTimeIndex,kn.readTimeIndexPath,{unique:!1}),E.createIndex(kn.collectionReadTimeIndex,kn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(d=d.next(()=>this.Fe(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore(Lc.store,{keyPath:Lc.keyPath})})(e),function(m){m.createObjectStore(hu.store,{keyPath:hu.keyPath})}(e)})),d}ke(e){let t=0;return e.store(kn.store).jt((r,o)=>{t+=TE(o)}).next(()=>{const r=new ra(t);return e.store(ra.store).put(ra.key,r)})}Ne(e){const t=e.store(_l.store),r=e.store(Sn.store);return t.Bt().next(o=>Ae.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.Bt(Sn.userMutationsIndex,d).next(m=>Ae.forEach(m,E=>{Ke(E.userId===u.userId);const D=Bc(this.k,E);return Zp(e,u.userId,D).next(()=>{})}))}))}xe(e){const t=e.store(ei.store),r=e.store(kn.store);return e.store(bs.store).get(bs.key).next(o=>{const u=[];return r.jt((d,m)=>{const E=new Jt(d),D=[0,Zs(E)];u.push(t.get(D).next(S=>S?Ae.resolve():t.put(new ei(0,Zs(E),o.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(u))})}$e(e,t){e.createObjectStore(du.store,{keyPath:du.keyPath});const r=t.store(du.store),o=new xb,u=d=>{if(o.add(d)){const m=d.lastSegment(),E=d.popLast();return r.put({collectionId:m,parent:Zs(E)})}};return t.store(kn.store).jt({Kt:!0},(d,m)=>{const E=new Jt(d);return u(E.popLast())}).next(()=>t.store(xi.store).jt({Kt:!0},([d,m,E],D)=>{const S=cu(m);return u(S.popLast())}))}Fe(e){const t=e.store(Pi.store);return t.jt((r,o)=>{const u=Kp(o),d=Rb(this.k,u);return t.put(d)})}}function Lb(n){n.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.documentTargetsIndex,ei.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Pi.store,{keyPath:Pi.keyPath}).createIndex(Pi.queryTargetsIndexName,Pi.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(bs.store)}const RE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qp{constructor(e,t,r,o,u,d,m,E,D,S){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=u,this.window=d,this.document=m,this.Me=D,this.Le=S,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=O=>Promise.resolve(),!Qp.bt())throw new Re(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jT(this,o),this.Ge=t+"main",this.k=new Mb(E),this.ze=new Qi(this.Ge,11,new ME(this.k)),this.He=new kb(this.referenceDelegate,this.k),this.Jt=new yS,this.Je=new HT(this.k,this.Jt),this.Ye=new Ob,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===S&&Un("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,RE);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new vs(e,this.Me)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,ye.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,ye.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jp(e).put(new ia(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.an(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(fu(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return jh(e).get(Vr.key).next(t=>Ae.resolve(this.un(t)))}hn(e){return Jp(e).delete(this.clientId)}ln(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ki(r,ia.store);return o.Bt().next(u=>{const d=e.dn(u,18e5),m=u.filter(E=>-1===d.indexOf(E));return Ae.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Ae.resolve(!0):jh(e).get(Vr.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Re(ce.FAILED_PRECONDITION,RE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jp(e).Bt().next(r=>void 0===this.dn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[Vr.store,ia.store],t=>{const r=new vE(t,vs.I);return e.an(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>Jp(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return Yp.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let u;return ke("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",gE,d=>(u=new vE(d,this.Be?this.Be.next():vs.I),"readwrite-primary"===t?this.rn(u).next(m=>!!m||this.on(u)).next(m=>{if(!m)throw Un(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.We(!1)),new Re(ce.FAILED_PRECONDITION,FT);return r(u)}).next(m=>this.cn(u).next(()=>m)):this.En(u).next(()=>r(u)))).then(d=>(u.raiseOnCommittedEvent(),d))}En(e){return jh(e).get(Vr.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(ce.FAILED_PRECONDITION,RE)})}cn(e){const t=new Vr(this.clientId,this.allowTabSynchronization,Date.now());return jh(e).put(Vr.key,t)}static bt(){return Qi.bt()}an(e){const t=jh(e);return t.get(Vr.key).next(r=>this.un(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete(Vr.key)):Ae.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Un(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Bt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Un("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Un("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jh(n){return ki(n,Vr.store)}function Jp(n){return ki(n,ia.store)}function NE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Vb{constructor(e,t){this.progress=e,this.In=t}}class OE{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Pn(e,t,r))}Pn(e,t,r){return this.Je.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return st.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Sn(e,t.path):Wv(t)?this.Dn(e,t,r):this.Cn(e,t,r);var o}Sn(e,t){return this.Rn(e,new st(t)).next(r=>{let o=nE();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Dn(e,t,r){const o=t.collectionGroup;let u=nE();return this.Jt.getCollectionParents(e,o).next(d=>Ae.forEach(d,m=>{const E=(D=t,S=m.child(o),new uu(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.Cn(e,E,r).next(D=>{D.forEach((S,O)=>{u=u.insert(S,O)})})}).next(()=>u))}Cn(e,t,r){let o,u;return this.Je.getDocumentsMatchingQuery(e,t,r).next(d=>(o=d,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(d=>(u=d,this.Nn(e,u,o).next(m=>{o=m;for(const E of u)for(const D of E.mutations){const S=D.key;let O=o.get(S);null==O&&(O=Pn.newInvalidDocument(S),o=o.insert(S,O)),Up(D,O,E.localWriteTime),O.isFoundDocument()||(o=o.remove(S))}}))).next(()=>(o.forEach((d,m)=>{Ch(t,m)||(o=o.remove(d))}),o))}Nn(e,t,r){let o=dn();for(const d of t)for(const m of d.mutations)m instanceof Es&&null===r.get(m.key)&&(o=o.add(m.key));let u=r;return this.Je.getEntries(e,o).next(d=>(d.forEach((m,E)=>{E.isFoundDocument()&&(u=u.insert(m,E))}),u))}}class xE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=o}static $n(e,t){let r=dn(),o=dn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xE(e,t.fromCache,r,o)}}class Ub{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Dt.min())?this.Mn(e,t):this.On.vn(e,o).next(u=>{const d=this.Ln(t,u);return(Th(t)||kp(t))&&this.Bn(t.limitType,d,o,r)?this.Mn(e,t):(Fv()<=ol.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Yv(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(m=>(d.forEach(E=>{m=m.insert(E.key,E)}),m)))});var u}Ln(e,t){let r=new qn(yT(e));return t.forEach((o,u)=>{Ch(e,u)&&(r=r.add(u))}),r}Bn(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Mn(e,t){return Fv()<=ol.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Yv(t)),this.On.getDocumentsMatchingQuery(e,t,Dt.min())}}class PE{constructor(e,t,r,o){this.persistence=e,this.Un=t,this.k=o,this.qn=new br(jt),this.Kn=new Bh(u=>xp(u),Qm),this.jn=Dt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new OE(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function Ys(n,e,t,r){return new PE(n,e,t,r)}function Bb(n,e){return kE.apply(this,arguments)}function kE(){return kE=(0,ye.Z)(function*(n,e){const t=$e(n);let r=t.An,o=t.Wn;const u=yield t.persistence.runTransaction("Handle user change","readonly",d=>{let m;return t.An.getAllMutationBatches(d).next(E=>(m=E,r=t.persistence.getMutationQueue(e),o=new OE(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(d))).next(E=>{const D=[],S=[];let O=dn();for(const V of m){D.push(V.batchId);for(const q of V.mutations)O=O.add(q.key)}for(const V of E){S.push(V.batchId);for(const q of V.mutations)O=O.add(q.key)}return o.vn(d,O).next(V=>({Gn:V,removedBatchIds:D,addedBatchIds:S}))})});return t.An=r,t.Wn=o,t.Un.Fn(t.Wn),u}),kE.apply(this,arguments)}function GT(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.Qn.newChangeBuffer({trackRemovals:!0});return function(d,m,E,D){const S=E.batch,O=S.keys();let V=Ae.resolve();return O.forEach(q=>{V=V.next(()=>D.getEntry(m,q)).next(Y=>{const ge=E.docVersions.get(q);Ke(null!==ge),Y.version.compareTo(ge)<0&&(S.applyToRemoteDocument(Y,E),Y.isValidDocument()&&D.addEntry(Y,E.commitVersion))})}),V.next(()=>d.An.removeMutationBatch(m,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,o))})}function FE(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function qT(n,e){const t=$e(n),r=e.snapshotVersion;let o=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Qn.newChangeBuffer({trackRemovals:!0});o=t.qn;const m=[];e.targetChanges.forEach((D,S)=>{const O=o.get(S);if(!O)return;m.push(t.He.removeMatchingKeys(u,D.removedDocuments,S).next(()=>t.He.addMatchingKeys(u,D.addedDocuments,S)));const V=D.resumeToken;if(V.approximateByteSize()>0){const q=O.withResumeToken(V,r).withSequenceNumber(u.currentSequenceNumber);o=o.insert(S,q),Y=O,Ne=D,Ke((ge=q).resumeToken.approximateByteSize()>0),(0===Y.resumeToken.approximateByteSize()||ge.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||Ne.addedDocuments.size+Ne.modifiedDocuments.size+Ne.removedDocuments.size>0)&&m.push(t.He.updateTargetData(u,q))}var Y,ge,Ne});let E=Ks();if(e.documentUpdates.forEach((D,S)=>{e.resolvedLimboDocuments.has(D)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),m.push(jb(u,d,e.documentUpdates,r,void 0).next(D=>{E=D})),!r.isEqual(Dt.min())){const D=t.He.getLastRemoteSnapshotVersion(u).next(S=>t.He.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(D)}return Ae.waitFor(m).next(()=>d.apply(u)).next(()=>t.Wn.Vn(u,E)).next(()=>E)}).then(u=>(t.qn=o,u))}function jb(n,e,t,r,o){let u=dn();return t.forEach(d=>u=u.add(d)),e.getEntries(n,u).next(d=>{let m=Ks();return t.forEach((E,D)=>{const S=d.get(E),O=(null==o?void 0:o.get(E))||r;D.isNoDocument()&&D.version.isEqual(Dt.min())?(e.removeEntry(E,O),m=m.insert(E,D)):!S.isValidDocument()||D.version.compareTo(S.version)>0||0===D.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(D,O),m=m.insert(E,D)):ke("LocalStore","Ignoring outdated watch update for ",E,". Current version:",S.version," Watch version:",D.version)}),m})}function $b(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function $h(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.He.getTargetData(r,e).next(u=>u?(o=u,Ae.resolve(o)):t.He.allocateTargetId(r).next(d=>(o=new pu(e,d,0,r.currentSequenceNumber),t.He.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.qn.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Xp(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=r.qn.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!fu(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qn=r.qn.remove(e),r.Kn.delete(o.target)}),cy.apply(this,arguments)}function eg(n,e,t){const r=$e(n);let o=Dt.min(),u=dn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,E,D){const S=$e(m),O=S.Kn.get(D);return void 0!==O?Ae.resolve(S.qn.get(O)):S.He.getTargetData(E,D)}(r,d,Ws(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(d,m.targetId).next(E=>{u=E})}).next(()=>r.Un.getDocumentsMatchingQuery(d,e,t?o:Dt.min(),t?u:dn())).next(m=>({documents:m,zn:u})))}function Hb(n,e){const t=$e(n),r=$e(t.He),o=t.qn.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function Gb(n){const e=$e(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,u){const d=$e(r);let m=Ks(),E=IE(u);const D=cr(o),S=IDBKeyRange.lowerBound(E,!0);return D.jt({index:kn.readTimeIndex,range:S},(O,V)=>{const q=wE(d.k,V);m=m.insert(q.key,q),E=V.readTime}).next(()=>({In:m,readTime:DE(E)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function Gc(){return Gc=(0,ye.Z)(function*(n){const e=$e(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=cr(r);let u=Dt.min();return o.jt({index:kn.readTimeIndex,reverse:!0},(d,m,E)=>{m.readTime&&(u=DE(m.readTime)),E.done()}).next(()=>u)}(t)).then(t=>{e.jn=t})}),Gc.apply(this,arguments)}function dy(){return dy=(0,ye.Z)(function*(n,e,t,r){const o=$e(n);let u=dn(),d=Ks(),m=Rh();for(const S of t){const O=e.Hn(S.metadata.name);S.document&&(u=u.add(O)),d=d.insert(O,e.Jn(S)),m=m.insert(O,e.Yn(S.metadata.readTime))}const E=o.Qn.newChangeBuffer({trackRemovals:!0}),D=yield $h(o,(S=r,Ws(pl(Jt.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>jb(S,E,d,Dt.min(),m).next(O=>(E.apply(S),O)).next(O=>o.He.removeMatchingKeysForTargetId(S,D.targetId).next(()=>o.He.addMatchingKeys(S,u,D.targetId)).next(()=>o.Wn.Vn(S,O)).next(()=>O)))}),dy.apply(this,arguments)}function zT(n,e){return hy.apply(this,arguments)}function hy(){return hy=(0,ye.Z)(function*(n,e,t=dn()){const r=yield $h(n,Ws(Nb(e.bundledQuery))),o=$e(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Lr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.Ye.saveNamedQuery(u,e);const m=r.withResumeToken(Fr.EMPTY_BYTE_STRING,d);return o.qn=o.qn.insert(m.targetId,m),o.He.updateTargetData(u,m).next(()=>o.He.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.He.addMatchingKeys(u,t,r.targetId)).next(()=>o.Ye.saveNamedQuery(u,e))})}),hy.apply(this,arguments)}class zb{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Ae.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Lr(r.createTime)}),Ae.resolve()}getNamedQuery(e,t){return Ae.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:Nb(r.bundledQuery),readTime:Lr(r.readTime)}),Ae.resolve();var r}}class VE{constructor(){this.ts=new qn(Ur.es),this.ns=new qn(Ur.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Ur(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Ur(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new st(new Jt([])),r=new Ur(t,e),o=new Ur(t,e+1),u=[];return this.ns.forEachInRange([r,o],d=>{this.os(d),u.push(d.key)}),u}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new st(new Jt([])),r=new Ur(t,e),o=new Ur(t,e+1);let u=dn();return this.ns.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Ur(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ur{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return st.comparator(e.key,t.key)||jt(e.fs,t.fs)}static ss(e,t){return jt(e.fs,t.fs)||st.comparator(e.key,t.key)}}class wS{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new qn(Ur.es)}checkEmpty(e){return Ae.resolve(0===this.An.length)}addMutationBatch(e,t,r,o){const u=this.ds;this.ds++;const d=new EE(u,t,r,o);this.An.push(d);for(const m of o)this.ws=this.ws.add(new Ur(m.key,u)),this.Jt.addToCollectionParentIndex(e,m.key.path.popLast());return Ae.resolve(d)}lookupMutationBatch(e,t){return Ae.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.gs(t+1),u=o<0?0:o;return Ae.resolve(this.An.length>u?this.An[u]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Ae.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ur(t,0),o=new Ur(t,Number.POSITIVE_INFINITY),u=[];return this.ws.forEachInRange([r,o],d=>{const m=this._s(d.fs);u.push(m)}),Ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qn(jt);return t.forEach(o=>{const u=new Ur(o,0),d=new Ur(o,Number.POSITIVE_INFINITY);this.ws.forEachInRange([u,d],m=>{r=r.add(m.fs)})}),Ae.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;st.isDocumentKey(u)||(u=u.child(""));const d=new Ur(new st(u),0);let m=new qn(jt);return this.ws.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(E.fs)),!0)},d),Ae.resolve(this.ys(m))}ys(e){const t=[];return e.forEach(r=>{const o=this._s(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ke(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Ae.forEach(t.mutations,o=>{const u=new Ur(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Ur(t,0),o=this.ws.firstAfterOrEqual(r);return Ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ae.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class bS{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new br(st.comparator),this.size=0}addEntry(e,t,r){const o=t.key,u=this.docs.get(o),d=u?u.size:0,m=this.Ts(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:m,readTime:r}),this.size+=m-d,this.Jt.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ae.resolve(r?r.document.clone():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Ks();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.clone():Pn.newInvalidDocument(o))}),Ae.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Ks();const u=new st(t.path.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:E,readTime:D}}=d.getNext();if(!t.path.isPrefixOf(m.path))break;D.compareTo(r)<=0||Ch(t,E)&&(o=o.insert(E.key,E.clone()))}return Ae.resolve(o)}Es(e,t){return Ae.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wb(this)}getSize(e){return Ae.resolve(this.size)}}class Wb extends $T{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.De.addEntry(e,o.document,this.getReadTime(r))):this.De.removeEntry(r)}),Ae.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class WT{constructor(e){this.persistence=e,this.Is=new Bh(t=>xp(t),Qm),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.As=0,this.Rs=new VE,this.targetCount=0,this.Ps=mu.ie()}forEachTarget(e,t){return this.Is.forEach((r,o)=>t(o)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Ae.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new mu(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Ae.resolve()}updateTargetData(e,t){return this.ce(t),Ae.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Is.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Is.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ae.waitFor(u).next(()=>o)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Ae.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Ae.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),Ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Ae.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Ae.resolve(r)}containsKey(e,t){return Ae.resolve(this.Rs.containsKey(t))}}class KT{constructor(e,t){this.bs={},this.Be=new vs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new WT(this),this.Jt=new mS,this.Je=new bS(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new Mb(t),this.Ye=new zb(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new wS(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const o=new ZT(this.Be.next());return this.referenceDelegate.Vs(),r(o).next(u=>this.referenceDelegate.Ss(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ds(e,t){return Ae.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class ZT extends mE{constructor(e){super(),this.currentSequenceNumber=e}}class Kb{constructor(e){this.persistence=e,this.Cs=new VE,this.Ns=null}static ks(e){return new Kb(e)}get xs(){if(this.Ns)return this.Ns;throw nt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Ae.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Ae.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Ae.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.xs.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,r=>{const o=st.fromPath(r);return this.$s(e,o).next(u=>{u||t.removeEntry(o)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Ae.or([()=>Ae.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function YT(n,e){return`firestore_clients_${n}_${e}`}function QT(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Zb(n,e){return`firestore_targets_${n}_${e}`}class UE{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Fs(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Re(o.error.code,o.error.message))),d?new UE(e,t,o.state,u):(Un("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Fs(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Re(r.error.code,r.error.message))),u?new tg(e,r.state,o):(Un("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class qc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=$p();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=vh(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new qc(e,u):(Un("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class BE{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new BE(t.clientId,t.onlineState):(Un("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jE{constructor(){this.activeTargetIds=$p()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fy{constructor(e,t,r,o,u){this.window=e,this.Oe=t,this.persistenceKey=r,this.Bs=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new br(jt),this.started=!1,this.js=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Qs=YT(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new jE),this.Gs=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(m){return`firestore_bundle_loaded_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.Tn();for(const o of t){if(o===e.Bs)continue;const u=e.getItem(YT(e.persistenceKey,o));if(u){const d=qc.Fs(o,u);d&&(e.Ks=e.Ks.insert(d.clientId,d))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const o=e.Zs(r);o&&e.ti(o)}for(const o of e.js)e.qs(o);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Zb(this.persistenceKey,e));if(r){const o=tg.Fs(e,r);o&&(t=o.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Zb(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.si(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ui(o,null)}{const o=t.hi(r.key,r.newValue);if(o)return t.ui(o.clientId,o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.li(r.key,r.newValue);if(o)return t.fi(o)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const o=t.di(r.key,r.newValue);if(o)return t.wi(o)}}else if(r.key===t.Js){if(null!==r.newValue){const o=t.Zs(r.newValue);if(o)return t.ti(o)}}else if(r.key===t.Ws){const o=function(u){let d=vs.I;if(null!=u)try{const m=JSON.parse(u);Ke("number"==typeof m),d=m}catch(m){Un("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==vs.I&&t.sequenceNumberHandler(o)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,r){const o=new UE(this.currentUser,e,t,r),u=QT(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Os())}si(e){const t=QT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const o=Zb(this.persistenceKey,e),u=new tg(e,t,r);this.setItem(o,u.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ci(e);return qc.Fs(r,t)}li(e,t){const r=this.zs.exec(e),o=Number(r[1]);return UE.Fs(new kr(void 0!==r[2]?r[2]:null),o,t)}di(e,t){const r=this.Hs.exec(e),o=Number(r[1]);return tg.Fs(o,t)}Zs(e){return BE.Fs(e)}fi(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),o=this.ei(this.Ks),u=this.ei(r),d=[],m=[];return u.forEach(E=>{o.has(E)||d.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.yi(d,m).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=$p();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class El{constructor(){this.pi=new jE,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new jE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Yb{Ei(e){}shutdown(){}}class py{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $E={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class JT{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class HE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Mi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,o,u){const d=this.Ui(e,t);ke("RestConnection","Sending: ",d,r);const m={};return this.qi(m,o,u),this.Ki(e,d,m,r).then(E=>(ke("RestConnection","Received: ",E),E),E=>{throw Ap("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}ji(e,t,r,o,u){return this.Bi(e,t,r,o,u)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}Ui(e,t){return`${this.Mi}/v1/${t}:${$E[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,o){return new Promise((u,d)=>{const m=new cS;m.listenOnce(eT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ou.NO_ERROR:const D=m.getResponseJson();ke("Connection","XHR received:",JSON.stringify(D)),u(D);break;case ou.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),d(new Re(ce.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:const S=m.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',S,"response text:",m.getResponseText()),S>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const V=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Y)>=0?Y:ce.UNKNOWN}(O.status);d(new Re(V,O.message))}else d(new Re(ce.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Re(ce.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}Qi(e,t,r){const o=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Yw(),d=Pv(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new lS({})),this.qi(m.initMessageHeaders,t,r),(0,Bt.uI)()||(0,Bt.b$)()||(0,Bt.d)()||(0,Bt.w1)()||(0,Bt.Mn)()||(0,Bt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");ke("Connection","Creating WebChannel: "+E,m);const D=u.createWebChannel(E,m);let S=!1,O=!1;const V=new JT({Vi:Y=>{O?ke("Connection","Not sending because WebChannel is closed:",Y):(S||(ke("Connection","Opening WebChannel transport."),D.open(),S=!0),ke("Connection","WebChannel sending:",Y),D.send(Y))},Si:()=>D.close()}),q=(Y,ge,Ne)=>{Y.listen(ge,at=>{try{Ne(at)}catch(mt){setTimeout(()=>{throw mt},0)}})};return q(D,gh.EventType.OPEN,()=>{O||ke("Connection","WebChannel transport opened.")}),q(D,gh.EventType.CLOSE,()=>{O||(O=!0,ke("Connection","WebChannel transport closed"),V.Fi())}),q(D,gh.EventType.ERROR,Y=>{O||(O=!0,Ap("Connection","WebChannel transport errored:",Y),V.Fi(new Re(ce.UNAVAILABLE,"The operation could not be completed")))}),q(D,gh.EventType.MESSAGE,Y=>{var ge;if(!O){const Ne=Y.data[0];Ke(!!Ne);const at=Ne,mt=at.error||(null===(ge=at[0])||void 0===ge?void 0:ge.error);if(mt){ke("Connection","WebChannel received error:",mt);const Pt=mt.status;let ft=function(dr){const Br=er[dr];if(void 0!==Br)return ty(Br)}(Pt),hn=mt.message;void 0===ft&&(ft=ce.INTERNAL,hn="Unknown error status: "+Pt+" with message "+mt.message),O=!0,V.Fi(new Re(ft,hn)),D.close()}else ke("Connection","WebChannel received:",Ne),V.Oi(Ne)}}),q(d,tT.STAT_EVENT,Y=>{Y.stat===Dc.PROXY?ke("Connection","Detected buffering proxy"):Y.stat===Dc.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.$i()},0),V}}function gy(){return"undefined"!=typeof window?window:null}function ng(){return"undefined"!=typeof document?document:null}function Hh(n){return new na(n,!0)}class Qb{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Oe=e,this.timerId=t,this.Wi=r,this.Gi=o,this.zi=u,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),o=Math.max(0,t-r);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class XT{constructor(e,t,r,o,u,d,m,E){this.Oe=e,this.nr=r,this.sr=o,this.ir=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new Qb(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,ye.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,ye.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,ye.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Un(t.toString()),Un("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===ce.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.rr===t&&this.Ir(r,o)},r=>{e(()=>{const o=new Re(ce.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(o)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(o=>{r(()=>this.Ar(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}dr(){var e=this;this.state=5,this.ur.Zi((0,ye.Z)(function*(){e.state=0,e.start()}))}Ar(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget(()=>this.rr===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IS extends XT{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.k=u}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:nt(),o=e.targetChange.targetIds||[],u=function(E,D){return E.C?(Ke(void 0===D||"string"==typeof D),Fr.fromBase64String(D||"")):(Ke(void 0===D||D instanceof Uint8Array),Fr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(E){const D=void 0===E.code?ce.UNKNOWN:ty(E.code);return new Re(D,E.message||"")}(d);t=new mb(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ws(n,r.document.name),u=Lr(r.document.updateTime),d=new pi({mapValue:{fields:r.document.fields}}),m=Pn.newFoundDocument(o,u,d);t=new ny(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=ws(n,r.document),u=r.readTime?Lr(r.readTime):Dt.min(),d=Pn.newNoDocument(o,u);t=new ny([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ws(n,r.document);t=new ny([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return nt();{const r=e.filter,u=new gS(r.count||0);t=new rE(r.targetId,u)}}var E;return t}(this.k,e),r=function(o){if(!("targetChange"in o))return Dt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Dt.min():u.readTime?Lr(u.readTime):Dt.min()}(e);return this.listener.Pr(t,r)}br(e){const t={};t.database=Ph(this.k),t.addTarget=function(o,u){let d;const m=u.target;return d=bh(m)?{documents:dE(o,m)}:{query:oy(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=ry(o,u.resumeToken):u.snapshotVersion.compareTo(Dt.min())>0&&(d.readTime=Hp(o,u.snapshotVersion.toTimestamp())),d}(this.k,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=Ph(this.k),t.removeTarget=e,this.gr(t)}}class DS extends XT{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.k=u,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(n,e){return n&&n.length>0?(Ke(void 0!==e),n.map(t=>function(r,o){let u=Lr(r.updateTime?r.updateTime:o);return u.isEqual(Dt.min())&&(u=Lr(o)),new db(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.Cr(r,t)}return Ke(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Ph(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>lE(this.k,r))};this.gr(t)}}class TS extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=o,this.$r=!1}Fr(){if(this.$r)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.ir.Bi(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ce.UNKNOWN,o.toString())})}ji(e,t,r){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.ir.ji(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ce.UNKNOWN,o.toString())})}terminate(){this.$r=!0}}class CS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Un(t),this.Lr=!1):ke("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class AS{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=u,this.Hr.Ei(m=>{r.enqueueAndForget((0,ye.Z)(function*(){var E;yu(d)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,ye.Z)(function*(D){const S=$e(D);S.Gr.add(4),yield qh(S),S.Jr.set("Unknown"),S.Gr.delete(4),yield Gh(S)}),function(D){return E.apply(this,arguments)})(d))}))}),this.Jr=new CS(r,o)}}function Gh(n){return GE.apply(this,arguments)}function GE(){return GE=(0,ye.Z)(function*(n){if(yu(n))for(const e of n.zr)yield e(!0)}),GE.apply(this,arguments)}function qh(n){return qE.apply(this,arguments)}function qE(){return qE=(0,ye.Z)(function*(n){for(const e of n.zr)yield e(!1)}),qE.apply(this,arguments)}function my(n,e){const t=$e(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),KE(t)?WE(t):ig(t).lr()&&yy(t,e))}function zh(n,e){const t=$e(n),r=ig(t);t.Wr.delete(e),r.lr()&&zE(t,e),0===t.Wr.size&&(r.lr()?r._r():yu(t)&&t.Jr.set("Unknown"))}function yy(n,e){n.Yr.X(e.targetId),ig(n).br(e)}function zE(n,e){n.Yr.X(e),ig(n).vr(e)}function WE(n){n.Yr=new ST({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),ig(n).start(),n.Jr.Br()}function KE(n){return yu(n)&&!ig(n).hr()&&n.Wr.size>0}function yu(n){return 0===$e(n).Gr.size}function rg(n){n.Yr=void 0}function eC(n){return _y.apply(this,arguments)}function _y(){return _y=(0,ye.Z)(function*(n){n.Wr.forEach((e,t)=>{yy(n,e)})}),_y.apply(this,arguments)}function vy(n,e){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ye.Z)(function*(n,e){rg(n),KE(n)?(n.Jr.Kr(e),WE(n)):n.Jr.set("Unknown")}),ZE.apply(this,arguments)}function tC(n,e,t){return YE.apply(this,arguments)}function YE(){return YE=(0,ye.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof mb&&2===e.state&&e.cause)try{yield(r=(0,ye.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.Wr.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Wr.delete(m),o.Yr.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ey(n,r)}else if(e instanceof ny?n.Yr.ot(e):e instanceof rE?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Dt.min()))try{const r=yield FE(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.Yr.gt(u);return d.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.Wr.get(E);D&&o.Wr.set(E,D.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const E=o.Wr.get(m);if(!E)return;o.Wr.set(m,E.withResumeToken(Fr.EMPTY_BYTE_STRING,E.snapshotVersion)),zE(o,m);const D=new pu(E.target,m,1,E.sequenceNumber);yy(o,D)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield Ey(n,r)}var r}),YE.apply(this,arguments)}function Ey(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,ye.Z)(function*(n,e,t){if(!fu(e))throw e;n.Gr.add(1),yield qh(n),n.Jr.set("Offline"),t||(t=()=>FE(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield Gh(n)}))}),Jb.apply(this,arguments)}function Xb(n,e){return e().catch(t=>Ey(n,t,e))}function Wh(n){return QE.apply(this,arguments)}function QE(){return QE=(0,ye.Z)(function*(n){const e=$e(n),t=i(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;nC(e);)try{const o=yield $b(e.localStore,r);if(null===o){0===e.Qr.length&&t._r();break}r=o.batchId,rC(e,o)}catch(o){yield Ey(e,o)}eI(e)&&tI(e)}),QE.apply(this,arguments)}function nC(n){return yu(n)&&n.Qr.length<10}function rC(n,e){n.Qr.push(e);const t=i(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function eI(n){return yu(n)&&!i(n).hr()&&n.Qr.length>0}function tI(n){i(n).start()}function iC(n){return nI.apply(this,arguments)}function nI(){return nI=(0,ye.Z)(function*(n){i(n).kr()}),nI.apply(this,arguments)}function SS(n){return rI.apply(this,arguments)}function rI(){return rI=(0,ye.Z)(function*(n){const e=i(n);for(const t of n.Qr)e.Dr(t.mutations)}),rI.apply(this,arguments)}function MS(n,e,t){return iI.apply(this,arguments)}function iI(){return iI=(0,ye.Z)(function*(n,e,t){const r=n.Qr.shift(),o=uy.from(r,e,t);yield Xb(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Wh(n)}),iI.apply(this,arguments)}function sC(n,e){return sI.apply(this,arguments)}function sI(){return sI=(0,ye.Z)(function*(n,e){var t;e&&i(n).Sr&&(yield(t=(0,ye.Z)(function*(r,o){if(tE(u=o.code)&&u!==ce.ABORTED){const d=r.Qr.shift();i(r).wr(),yield Xb(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Wh(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),eI(n)&&tI(n)}),sI.apply(this,arguments)}function oI(n,e){return aI.apply(this,arguments)}function aI(){return aI=(0,ye.Z)(function*(n,e){const t=$e(n);e?(t.Gr.delete(2),yield Gh(t)):e||(t.Gr.add(2),yield qh(t),t.Jr.set("Unknown"))}),aI.apply(this,arguments)}function ig(n){return n.Xr||(n.Xr=function(e,t,r){const o=$e(e);return o.Fr(),new IS(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:eC.bind(null,n),Ni:vy.bind(null,n),Pr:tC.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Xr.wr(),KE(n)?WE(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),rg(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function i(n){return n.Zr||(n.Zr=function(e,t,r){const o=$e(e);return o.Fr(),new DS(t,o.ir,o.authCredentials,o.appCheckCredentials,o.k,r)}(n.datastore,n.asyncQueue,{Di:iC.bind(null,n),Ni:sC.bind(null,n),Nr:SS.bind(null,n),Cr:MS.bind(null,n)}),n.zr.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Zr.wr(),yield Wh(n)):(yield n.Zr.stop(),n.Qr.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class s{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new s(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a(n,e){if(Un("AsyncQueue",`${e}: ${n}`),fu(n))return new Re(ce.UNAVAILABLE,`${e}: ${n}`);throw n}class l{constructor(e){this.comparator=e?(t,r)=>e(t,r)||st.comparator(t.key,r.key):(t,r)=>st.comparator(t.key,r.key),this.keyedMap=nE(),this.sortedSet=new br(this.comparator)}static emptySet(e){return new l(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof l)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class c{constructor(){this.eo=new br(st.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):nt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class g{constructor(e,t,r,o,u,d,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new g(e,t,l.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class _{constructor(){this.so=void 0,this.listeners=[]}}class w{constructor(){this.queries=new Bh(e=>Zv(e),Lp),this.onlineState="Unknown",this.io=new Set}}function b(n,e){return A.apply(this,arguments)}function A(){return A=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new _),o)try{u.so=yield t.onListen(r)}catch(d){const m=a(d,`Initialization of query '${Yv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.ro(t.onlineState),u.so&&e.oo(u.so)&&fe(t)}),A.apply(this,arguments)}function R(n,e){return k.apply(this,arguments)}function k(){return k=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),k.apply(this,arguments)}function $(n,e){const t=$e(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.oo(o)&&(r=!0);d.so=o}}r&&fe(t)}function Z(n,e,t){const r=$e(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function fe(n){n.io.forEach(e=>{e.next()})}class Pe{constructor(e,t,r){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new g(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=g.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class Ue{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Xe{constructor(e){this.k=e}Hn(e){return ws(this.k,e)}Jn(e){return e.metadata.exists?uE(this.k,e.document,!1):Pn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Lr(e)}}class Ie{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=ht(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new Xe(this.k);for(const o of e)if(o.metadata.queries){const u=r.Hn(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||dn()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function(n,e,t,r){return dy.apply(this,arguments)}(e.localStore,new Xe(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const o of e.queries)yield zT(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new Vb(Object.assign({},e.progress),t)})()}}function ht(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Lt{constructor(e){this.key=e}}class rn{constructor(e){this.key=e}}class Ji{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=dn(),this.mutatedKeys=dn(),this.Ao=yT(e),this.Ro=new l(this.Ao)}get Po(){return this.To}bo(e,t){const r=t?t.vo:new c,o=t?t.Ro:this.Ro;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const E=Th(this.query)&&o.size===this.query.limit?o.last():null,D=kp(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,O)=>{const V=o.get(S),q=Ch(this.query,O)?O:null,Y=!!V&&this.mutatedKeys.has(V.key),ge=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Ne=!1;V&&q?V.data.isEqual(q.data)?Y!==ge&&(r.track({type:3,doc:q}),Ne=!0):this.Vo(V,q)||(r.track({type:2,doc:q}),Ne=!0,(E&&this.Ao(q,E)>0||D&&this.Ao(q,D)<0)&&(m=!0)):!V&&q?(r.track({type:0,doc:q}),Ne=!0):V&&!q&&(r.track({type:1,doc:V}),Ne=!0,(E||D)&&(m=!0)),Ne&&(q?(d=d.add(q),u=ge?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))}),Th(this.query)||kp(this.query))for(;d.size>this.query.limit;){const S=Th(this.query)?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Ro:d,vo:r,Bn:m,mutatedKeys:u}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const u=e.vo.no();u.sort((D,S)=>function(O,V){const q=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return q(O)-q(V)}(D.type,S.type)||this.Ao(D.doc,S.doc)),this.So(r);const d=t?this.Do():[],m=0===this.Io.size&&this.current?1:0,E=m!==this.Eo;return this.Eo=m,0!==u.length||E?{snapshot:new g(this.query,e.Ro,o,u,e.mutatedKeys,0===m,E,!1),Co:d}:{Co:d}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new c,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=dn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new rn(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new Lt(r))}),t}ko(e){this.To=e.zn,this.Io=dn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return g.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class zc{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class JE{constructor(e){this.key=e,this.$o=!1}}class XE{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Fo={},this.Oo=new Bh(m=>Zv(m),Lp),this.Mo=new Map,this.Lo=new Set,this.Bo=new br(st.comparator),this.Uo=new Map,this.qo=new VE,this.Ko={},this.jo=new Map,this.Qo=mu.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function e0(n,e){return sg.apply(this,arguments)}function sg(){return sg=(0,ye.Z)(function*(n,e){const t=TC(n);let r,o;const u=t.Oo.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.xo();else{const d=yield $h(t.localStore,Ws(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield og(t,e,r,"current"===m),t.isPrimaryClient&&my(t.remoteStore,d)}return o}),sg.apply(this,arguments)}function og(n,e,t,r){return ag.apply(this,arguments)}function ag(){return ag=(0,ye.Z)(function*(n,e,t,r){n.Go=(S,O,V)=>{return(q=(0,ye.Z)(function*(Y,ge,Ne,at){let mt=ge.view.bo(Ne);mt.Bn&&(mt=yield eg(Y.localStore,ge.query,!1).then(({documents:hn})=>ge.view.bo(hn,mt)));const Pt=at&&at.targetChanges.get(ge.targetId),ft=ge.view.applyChanges(mt,Y.isPrimaryClient,Pt);return pC(Y,ge.targetId,ft.Co),ft.snapshot}),function(Y,ge,Ne,at){return q.apply(this,arguments)})(n,S,O,V);var q};const o=yield eg(n.localStore,e,!0),u=new Ji(e,o.zn),d=u.bo(o.documents),m=Oh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(d,n.isPrimaryClient,m);pC(n,t,E.Co);const D=new zc(e,t,u);return n.Oo.set(e,D),n.Mo.has(t)?n.Mo.get(t).push(e):n.Mo.set(t,[e]),E.snapshot}),ag.apply(this,arguments)}function t0(n,e){return ug.apply(this,arguments)}function ug(){return ug=(0,ye.Z)(function*(n,e){const t=$e(n),r=t.Oo.get(e),o=t.Mo.get(r.targetId);if(o.length>1)return t.Mo.set(r.targetId,o.filter(u=>!Lp(u,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Xp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),zh(t.remoteStore,r.targetId),wy(t,r.targetId)}).catch(vl))):(wy(t,r.targetId),yield Xp(t.localStore,r.targetId,!0))}),ug.apply(this,arguments)}function oC(){return oC=(0,ye.Z)(function*(n,e,t){const r=CC(n);try{const o=yield function(u,d){const m=$e(u),E=Gn.now(),D=d.reduce((O,V)=>O.add(V.key),dn());let S;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.Wn.vn(O,D).next(V=>{S=V;const q=[];for(const Y of d){const ge=bT(Y,S.get(Y.key));null!=ge&&q.push(new Es(Y.key,ge,Ym(ge.value.mapValue),Xn.exists(!0)))}return m.An.addMutationBatch(O,E,q,d)})).then(O=>(O.applyToLocalDocumentSet(S),{batchId:O.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let E=u.Ko[u.currentUser.toKey()];E||(E=new br(jt)),E=E.insert(d,m),u.Ko[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Wc(r,o.changes),yield Wh(r.remoteStore)}catch(o){const u=a(o,"Failed to persist write");t.reject(u)}}),oC.apply(this,arguments)}function RS(n,e){return aC.apply(this,arguments)}function aC(){return aC=(0,ye.Z)(function*(n,e){const t=$e(n);try{const r=yield qT(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.Uo.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.$o=!0:o.modifiedDocuments.size>0?Ke(d.$o):o.removedDocuments.size>0&&(Ke(d.$o),d.$o=!1))}),yield Wc(t,r,e)}catch(r){yield vl(r)}}),aC.apply(this,arguments)}function NS(n,e,t){const r=$e(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((u,d)=>{const m=d.view.ro(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=$e(u);m.onlineState=d;let E=!1;m.queries.forEach((D,S)=>{for(const O of S.listeners)O.ro(d)&&(E=!0)}),E&&fe(m)}(r.eventManager,e),o.length&&r.Fo.Pr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function RN(n,e,t){return uC.apply(this,arguments)}function uC(){return uC=(0,ye.Z)(function*(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Uo.get(e),u=o&&o.key;if(u){let d=new br(st.comparator);d=d.insert(u,Pn.newNoDocument(u,Dt.min()));const m=dn().add(u),E=new Nh(Dt.min(),new Map,new qn(jt),d,m);yield RS(r,E),r.Bo=r.Bo.remove(u),r.Uo.delete(e),gC(r)}else yield Xp(r.localStore,e,!1).then(()=>wy(r,e,t)).catch(vl)}),uC.apply(this,arguments)}function NN(n,e){return lC.apply(this,arguments)}function lC(){return lC=(0,ye.Z)(function*(n,e){const t=$e(n),r=e.batch.batchId;try{const o=yield GT(t.localStore,e);fC(t,r,null),hC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wc(t,o)}catch(o){yield vl(o)}}),lC.apply(this,arguments)}function ON(n,e,t){return cC.apply(this,arguments)}function cC(){return cC=(0,ye.Z)(function*(n,e,t){const r=$e(n);try{const o=yield function(u,d){const m=$e(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return m.An.lookupMutationBatch(E,d).next(S=>(Ke(null!==S),D=S.keys(),m.An.removeMutationBatch(E,S))).next(()=>m.An.performConsistencyCheck(E)).next(()=>m.Wn.vn(E,D))})}(r.localStore,e);fC(r,e,t),hC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wc(r,o)}catch(o){yield vl(o)}}),cC.apply(this,arguments)}function dC(){return dC=(0,ye.Z)(function*(n,e){const t=$e(n);yu(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=$e(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.An.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.jo.get(r)||[];o.push(e),t.jo.set(r,o)}catch(r){const o=a(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),dC.apply(this,arguments)}function hC(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function fC(n,e,t){const r=$e(n);let o=r.Ko[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.Ko[r.currentUser.toKey()]=o}}function wy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Mo.get(e))n.Oo.delete(r),t&&n.Fo.zo(r,t);n.Mo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||OS(n,r)})}function OS(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(zh(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),gC(n))}function pC(n,e,t){for(const r of t)r instanceof Lt?(n.qo.addReference(r.key,e),PN(n,r)):r instanceof rn?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||OS(n,r.key)):nt()}function PN(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.Lo.add(r),gC(n))}function gC(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new st(Jt.fromString(e)),r=n.Qo.next();n.Uo.set(r,new JE(t)),n.Bo=n.Bo.insert(t,r),my(n.remoteStore,new pu(Ws(pl(t.path)),r,2,vs.I))}}function Wc(n,e,t){return mC.apply(this,arguments)}function mC(){return mC=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=[],u=[],d=[];var m;r.Oo.isEmpty()||(r.Oo.forEach((m,E)=>{d.push(r.Go(E,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),o.push(D);const S=xE.$n(E.targetId,D);u.push(S)}}))}),yield Promise.all(d),r.Fo.Pr(o),yield(m=(0,ye.Z)(function*(E,D){const S=$e(E);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Ae.forEach(D,V=>Ae.forEach(V.kn,q=>S.persistence.referenceDelegate.addReference(O,V.targetId,q)).next(()=>Ae.forEach(V.xn,q=>S.persistence.referenceDelegate.removeReference(O,V.targetId,q)))))}catch(O){if(!fu(O))throw O;ke("LocalStore","Failed to update sequence numbers: "+O)}for(const O of D){const V=O.targetId;if(!O.fromCache){const q=S.qn.get(V),ge=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);S.qn=S.qn.insert(V,ge)}}}),function(E,D){return m.apply(this,arguments)})(r.localStore,u))}),mC.apply(this,arguments)}function kN(n,e){return yC.apply(this,arguments)}function yC(){return yC=(0,ye.Z)(function*(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield Bb(t.localStore,e);t.currentUser=e,(o=t).jo.forEach(d=>{d.forEach(m=>{m.reject(new Re(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wc(t,r.Gn)}var o}),yC.apply(this,arguments)}function FN(n,e){const t=$e(n),r=t.Uo.get(e);if(r&&r.$o)return dn().add(r.key);{let o=dn();const u=t.Mo.get(e);if(!u)return o;for(const d of u){const m=t.Oo.get(d);o=o.unionWith(m.view.Po)}return o}}function LN(n,e){return _C.apply(this,arguments)}function _C(){return _C=(0,ye.Z)(function*(n,e){const t=$e(n),r=yield eg(t.localStore,e.query,!0),o=e.view.ko(r);return t.isPrimaryClient&&pC(t,e.targetId,o.Co),o}),_C.apply(this,arguments)}function VN(n){return vC.apply(this,arguments)}function vC(){return vC=(0,ye.Z)(function*(n){const e=$e(n);return Gb(e.localStore).then(t=>Wc(e,t))}),vC.apply(this,arguments)}function UN(n,e,t,r){return EC.apply(this,arguments)}function EC(){return EC=(0,ye.Z)(function*(n,e,t,r){const o=$e(n),u=yield function(d,m){const E=$e(d),D=$e(E.An);return E.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Zt(S,m).next(O=>O?E.Wn.vn(S,O):Ae.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Wh(o.remoteStore):"acknowledged"===t||"rejected"===t?(fC(o,e,r||null),hC(o,e),m=e,$e($e(o.localStore).An).ee(m)):nt(),yield Wc(o,u)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),EC.apply(this,arguments)}function wC(){return wC=(0,ye.Z)(function*(n,e){const t=$e(n);if(TC(t),CC(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield xS(t,r.toArray());t.Wo=!0,yield oI(t.remoteStore,!0);for(const u of o)my(t.remoteStore,u)}else if(!1===e&&!1!==t.Wo){const r=[];let o=Promise.resolve();t.Mo.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(wy(t,d),Xp(t.localStore,d,!0))),zh(t.remoteStore,d)}),yield o,yield xS(t,r),function(u){const d=$e(u);d.Uo.forEach((m,E)=>{zh(d.remoteStore,E)}),d.qo.hs(),d.Uo=new Map,d.Bo=new br(st.comparator)}(t),t.Wo=!1,yield oI(t.remoteStore,!1)}}),wC.apply(this,arguments)}function xS(n,e,t){return bC.apply(this,arguments)}function bC(){return bC=(0,ye.Z)(function*(n,e,t){const r=$e(n),o=[],u=[];for(const d of e){let m;const E=r.Mo.get(d);if(E&&0!==E.length){m=yield $h(r.localStore,Ws(E[0]));for(const D of E){const S=r.Oo.get(D),O=yield LN(r,S);O.snapshot&&u.push(O.snapshot)}}else{const D=yield Hb(r.localStore,d);m=yield $h(r.localStore,D),yield og(r,PS(D),d,!1)}o.push(m)}return r.Fo.Pr(u),o}),bC.apply(this,arguments)}function PS(n){return ub(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function jN(n){const e=$e(n);return $e($e(e.localStore).persistence).Tn()}function $N(n,e,t,r){return IC.apply(this,arguments)}function IC(){return IC=(0,ye.Z)(function*(n,e,t,r){const o=$e(n);if(o.Wo)ke("SyncEngine","Ignoring unexpected query state notification.");else if(o.Mo.has(e))switch(t){case"current":case"not-current":{const u=yield Gb(o.localStore),d=Nh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Wc(o,u,d);break}case"rejected":yield Xp(o.localStore,e,!0),wy(o,e,r);break;default:nt()}}),IC.apply(this,arguments)}function HN(n,e,t){return DC.apply(this,arguments)}function DC(){return DC=(0,ye.Z)(function*(n,e,t){const r=TC(n);if(r.Wo){for(const o of e){if(r.Mo.has(o)){ke("SyncEngine","Adding an already active target "+o);continue}const u=yield Hb(r.localStore,o),d=yield $h(r.localStore,u);yield og(r,PS(u),d.targetId,!1),my(r.remoteStore,d)}for(const o of t)r.Mo.has(o)&&(yield Xp(r.localStore,o,!1).then(()=>{zh(r.remoteStore,o),wy(r,o)}).catch(vl))}}),DC.apply(this,arguments)}function TC(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RN.bind(null,e),e.Fo.Pr=$.bind(null,e.eventManager),e.Fo.zo=Z.bind(null,e.eventManager),e}function CC(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,e),e}class kS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.k=Hh(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return Ys(this.persistence,new Ub,e.initialUser,this.k)}Yo(e){return new KT(Kb.ks,this.k)}Jo(e){return new El}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FS extends kS{constructor(e,t,r){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e),yield function(n){return Gc.apply(this,arguments)}(r.localStore),yield r.ta.initialize(r,e),yield CC(r.ta.syncEngine),yield Wh(r.ta.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return Ys(this.persistence,new Ub,e.initialUser,this.k)}Xo(e){return new vS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Is.withCacheSize(this.cacheSizeBytes):Is.DEFAULT;return new Qp(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gy(),ng(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new El}}class qN extends FS{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ye.Z)(function*(){yield t().call(r,e);const o=r.ta.syncEngine;r.sharedClientState instanceof fy&&(r.sharedClientState.syncEngine={mi:UN.bind(null,o),gi:$N.bind(null,o),yi:HN.bind(null,o),Tn:jN.bind(null,o),_i:VN.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var u=(0,ye.Z)(function*(d){yield function(n,e){return wC.apply(this,arguments)}(r.ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}Jo(e){const t=gy();if(!fy.bt(t))throw new Re(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=NE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class AC{initialize(e,t){var r=this;return(0,ye.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>NS(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=kN.bind(null,r.syncEngine),yield oI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new w}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),r=new HE(e.databaseInfo);return new TS(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>NS(this.syncEngine,m,0),d=py.bt()?new py:new Yb,new AS(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,E,D){const S=new XE(r,o,u,d,m,E);return D&&(S.Wo=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const r=$e(t);ke("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield qh(r),r.Hr.shutdown(),r.Jr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function LS(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class zN{constructor(e,t){this.sa=e,this.k=t,this.metadata=new Er,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sa.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.ra()})()}ra(){var e=this;return(0,ye.Z)(function*(){const t=yield e.oa();if(null===t)return null;const r=e.ia.decode(t),o=Number(r);isNaN(o)&&e.aa(`length string (${r}) is not valid number`);const u=yield e.ca(o);return new Ue(JSON.parse(u),t.length+o)})()}ua(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oa(){var e=this;return(0,ye.Z)(function*(){for(;e.ua()<0&&!(yield e.ha()););if(0===e.buffer.length)return null;const t=e.ua();t<0&&e.aa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ca(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.ha())&&t.aa("Reached the end of bundle when more is expected.");const r=t.ia.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}ha(){var e=this;return(0,ye.Z)(function*(){const t=yield e.sa.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class WN{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ye.Z)(function*(u,d){const m=$e(u),E=Ph(m.k)+"/documents",D={documents:d.map(q=>yl(m.k,q))},S=yield m.ji("BatchGetDocuments",E,D),O=new Map;S.forEach(q=>{const Y=function(n,e){return"found"in e?function(t,r){Ke(!!r.found);const o=ws(t,r.found.name),u=Lr(r.found.updateTime),d=new pi({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Ke(!!r.missing),Ke(!!r.readTime);const o=ws(t,r.missing),u=Lr(r.readTime);return Pn.newNoDocument(o,u)}(n,e):nt()}(m.k,q);O.set(Y.key.toString(),Y)});const V=[];return d.forEach(q=>{const Y=O.get(q.toString());Ke(!!Y),V.push(Y)}),V}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=st.fromPath(o);e.mutations.push(new eE(u,e.precondition(u)))}),yield(r=(0,ye.Z)(function*(o,u){const d=$e(o),m=Ph(d.k)+"/documents",E={writes:u.map(D=>lE(d.k,D))};yield d.Bi("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Re(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Xn.updateTime(t):Xn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Re(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xn.updateTime(t)}return Xn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class KN{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.la=5,this.ur=new Qb(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){var e=this;this.ur.Zi((0,ye.Z)(function*(){const t=new WN(e.datastore),r=e.da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.wa(u)}))}).catch(o=>{e.wa(o)})}))}da(e){try{const t=this.updateFunction(e);return!Mc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget(()=>(this.fa(),Promise.resolve()))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!tE(t)}return!1}}class ZN{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=kr.UNAUTHENTICATED,this.clientId=Vv.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ye.Z)(function*(m){ke("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=a(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function VS(n,e){return SC.apply(this,arguments)}function SC(){return SC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ye.Z)(function*(u){r.isEqual(u)||(yield Bb(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SC.apply(this,arguments)}function US(n,e){return MC.apply(this,arguments)}function MC(){return MC=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield RC(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(u=(0,ye.Z)(function*(d,m){const E=$e(d);E.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const D=yu(E);E.Gr.add(3),yield qh(E),D&&E.Jr.set("Unknown"),yield E.remoteSyncer.handleCredentialChange(m),E.Gr.delete(3),yield Gh(E)}),function(d,m){return u.apply(this,arguments)})(e.remoteStore,o);var u}),n.onlineComponents=e}),MC.apply(this,arguments)}function RC(n){return NC.apply(this,arguments)}function NC(){return NC=(0,ye.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield VS(n,new kS)),n.offlineComponents}),NC.apply(this,arguments)}function lI(n){return OC.apply(this,arguments)}function OC(){return OC=(0,ye.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield US(n,new AC)),n.onlineComponents}),OC.apply(this,arguments)}function BS(n){return RC(n).then(e=>e.persistence)}function xC(n){return RC(n).then(e=>e.localStore)}function jS(n){return lI(n).then(e=>e.remoteStore)}function PC(n){return lI(n).then(e=>e.syncEngine)}function by(n){return kC.apply(this,arguments)}function kC(){return kC=(0,ye.Z)(function*(n){const e=yield lI(n),t=e.eventManager;return t.onListen=e0.bind(null,e.syncEngine),t.onUnlisten=t0.bind(null,e.syncEngine),t}),kC.apply(this,arguments)}function $S(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,E){const D=new uI({next:O=>{u.enqueueAndForget(()=>R(o,S));const V=O.docs.has(d);!V&&O.fromCache?E.reject(new Re(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&m&&"server"===m.source?E.reject(new Re(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),S=new Pe(pl(d.path),D,{includeMetadataChanges:!0,wo:!0});return b(o,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}function HS(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(o,u,d,m,E){const D=new uI({next:O=>{u.enqueueAndForget(()=>R(o,S)),O.fromCache&&"server"===m.source?E.reject(new Re(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),S=new Pe(d,D,{includeMetadataChanges:!0,wo:!0});return b(o,S)}(yield by(n),n.asyncQueue,e,t,r)})),r.promise}class iO{constructor(e,t,r,o,u,d,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class Iy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Iy&&e.projectId===this.projectId&&e.database===this.database}}const GS=new Map;function FC(n,e,t){if(!t)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qS(n,e,t,r){if(!0===e&&!0===r)throw new Re(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zS(n){if(!st.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WS(n){if(st.isDocumentKey(n))throw new Re(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cI(n);throw new Re(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KS(n,e){if(e<=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class r0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZS({}),this._settingsFrozen=!1,e instanceof Iy?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Re(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Iy(o.options.projectId)}(e))}get app(){if(!this._app)throw new Re(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Qw;switch(t.type){case"gapi":const r=t.client;return Ke(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new sT(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Re(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GS.get(e);t&&(ke("ComponentProvider","Removing Datastore"),GS.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class Xi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class wl extends Xi{constructor(e,t,r){super(e,t,pl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new st(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function YS(n,e,...t){if(n=(0,Bt.m9)(n),FC("collection","path",e),n instanceof r0){const r=Jt.fromString(e,...t);return WS(r),new wl(n,null,r)}{if(!(n instanceof Bn||n instanceof wl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return WS(r),new wl(n.firestore,null,r)}}function dI(n,e,...t){if(n=(0,Bt.m9)(n),1===arguments.length&&(e=Vv.A()),FC("doc","path",e),n instanceof r0){const r=Jt.fromString(e,...t);return zS(r),new Bn(n,null,new st(r))}{if(!(n instanceof Bn||n instanceof wl))throw new Re(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return zS(r),new Bn(n.firestore,n instanceof wl?n.converter:null,new st(r))}}function QS(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),(n instanceof Bn||n instanceof wl)&&(e instanceof Bn||e instanceof wl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JS(n,e){return n=(0,Bt.m9)(n),e=(0,Bt.m9)(e),n instanceof Xi&&e instanceof Xi&&n.firestore===e.firestore&&Lp(n._query,e._query)&&n.converter===e.converter}class aO{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new Qb(this,"async_queue_retry"),this.Ra=()=>{const t=ng();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=ng();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=ng();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise(()=>{});const t=new Er;return this.ba(()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ga.push(e),this.va()))}va(){var e=this;return(0,ye.Z)(function*(){if(0!==e.ga.length){try{yield e.ga[0](),e.ga.shift(),e.ur.reset()}catch(t){if(!fu(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.ga.length>0&&e.ur.Zi(()=>e.va())}})()}ba(e){const t=this.ma.then(()=>(this.Ea=!0,e().catch(r=>{throw this.Ta=r,this.Ea=!1,Un("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Ea=!1,r))));return this.ma=t,t}enqueueAfterDelay(e,t,r){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const o=s.createAndSchedule(this,e,t,r,u=>this.Va(u));return this.pa.push(o),o}Pa(){this.Ta&&nt()}verifyOperationInProgress(){}Sa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.ma,yield t}while(t!==e.ma)})()}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then(()=>{this.pa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()})}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function LC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class uO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Er,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tr extends r0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new aO,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||XS(this),this._firestoreClient.terminate()}}function ti(n){return n._firestoreClient||XS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function XS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iO(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new ZN(n._authCredentials,n._appCheckCredentials,n._queue,r)}function eM(n,e,t){const r=new Er;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield VS(n,t),yield US(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===ce.FAILED_PRECONDITION||u.code===ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function tM(n){if(n._initialized||n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(Fr.fromBase64String(e))}catch(t){throw new Re(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bl(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lg{constructor(e){this._methodName=e}}class hI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const _O=/^__.*__$/;class vO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bp(e,this.data,t,this.fieldTransforms)}}class nM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Es(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class fI{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=o,void 0===u&&this.ka(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new fI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.Ma(e),o}La(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$a({path:r,Oa:!1});return o.ka(),o}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return gI(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(rM(this.xa)&&_O.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class EO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||Hh(e)}ja(e,t,r,o=!1){return new fI({xa:e,methodName:t,Ka:r,path:Jr.emptyPath(),Oa:!1,qa:o},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function cg(n){const e=n._freezeSettings(),t=Hh(n._databaseId);return new EO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pI(n,e,t,r,o,u={}){const d=n.ja(u.merge||u.mergeFields?2:0,e,t,o);jC("Data must be an object, but it was:",d,r);const m=oM(r,d);let E,D;if(u.merge)E=new Ac(d.fieldMask),D=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const O of u.mergeFields){const V=$C(e,O,t);if(!d.contains(V))throw new Re(ce.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);uM(S,V)||S.push(V)}E=new Ac(S),D=d.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,D=d.fieldTransforms;return new vO(new pi(m),E,D)}class s0 extends lg{_toFieldTransform(e){if(2!==e.xa)throw e.Ua(1===e.xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s0}}function iM(n,e,t){return new fI({xa:3,Ka:e.settings.Ka,methodName:n._methodName,Oa:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class VC extends lg{_toFieldTransform(e){return new lu(e.path,new Sh)}isEqual(e){return e instanceof VC}}class wO extends lg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=iM(this,e,!0),r=this.Qa.map(u=>dg(u,t)),o=new Oc(r);return new lu(e.path,o)}isEqual(e){return this===e}}class bO extends lg{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=iM(this,e,!0),r=this.Qa.map(u=>dg(u,t)),o=new xc(r);return new lu(e.path,o)}isEqual(e){return this===e}}class IO extends lg{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Pc(e.k,Nc(e.k,this.Wa));return new lu(e.path,t)}isEqual(e){return this===e}}function UC(n,e,t,r){const o=n.ja(1,e,t);jC("Data must be an object, but it was:",o,r);const u=[],d=pi.empty();Cc(r,(E,D)=>{const S=HC(e,E,t);D=(0,Bt.m9)(D);const O=o.La(S);if(D instanceof s0)u.push(S);else{const V=dg(D,O);null!=V&&(u.push(S),d.set(S,V))}});const m=new Ac(u);return new nM(d,m,o.fieldTransforms)}function BC(n,e,t,r,o,u){const d=n.ja(1,e,t),m=[$C(e,r,t)],E=[o];if(u.length%2!=0)throw new Re(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push($C(e,u[V])),E.push(u[V+1]);const D=[],S=pi.empty();for(let V=m.length-1;V>=0;--V)if(!uM(D,m[V])){const q=m[V];let Y=E[V];Y=(0,Bt.m9)(Y);const ge=d.La(q);if(Y instanceof s0)D.push(q);else{const Ne=dg(Y,ge);null!=Ne&&(D.push(q),S.set(q,Ne))}}const O=new Ac(D);return new nM(S,O,d.fieldTransforms)}function sM(n,e,t,r=!1){return dg(t,n.ja(r?4:3,e))}function dg(n,e){if(aM(n=(0,Bt.m9)(n)))return jC("Unsupported field value:",e,n),oM(n,e);if(n instanceof lg)return function(t,r){if(!rM(r.xa))throw r.Ua(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Ua(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Oa&&4!==e.xa)throw e.Ua("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=dg(d,r.Ba(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Bt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Nc(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Gn.fromDate(t);return{timestampValue:Hp(r.k,o)}}if(t instanceof Gn){const o=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hp(r.k,o)}}if(t instanceof hI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bl)return{bytesValue:ry(r.k,t._byteString)};if(t instanceof Bn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.Ua(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:sE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Ua(`Unsupported field value: ${cI(t)}`)}(n,e)}function oM(n,e){const t={};return tb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(n,(r,o)=>{const u=dg(o,e.Fa(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function aM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof hI||n instanceof bl||n instanceof Bn||n instanceof lg)}function jC(n,e,t){if(!aM(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cI(t);throw e.Ua("an object"===r?n+" a custom object":n+" "+r)}var r}function $C(n,e,t){if((e=(0,Bt.m9)(e))instanceof Kc)return e._internalPath;if("string"==typeof e)return HC(n,e);throw gI("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const DO=new RegExp("[~\\*/\\[\\]]");function HC(n,e,t){if(e.search(DO)>=0)throw gI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kc(...e.split("."))._internalPath}catch(r){throw gI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||d)&&(E+=" (found",u&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new Re(ce.INVALID_ARGUMENT,m+n+E)}function uM(n,e){return n.some(t=>t.isEqual(e))}class o0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class TO extends o0{data(){return super.data()}}function mI(n,e){return"string"==typeof e?HC(n,e):e instanceof Kc?e._internalPath:e._delegate._internalPath}class hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zc extends o0{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new a0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class a0 extends Zc{data(e={}){return super.data(e)}}class Kh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new hg(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new a0(this._firestore,this._userDataWriter,r.key,r,new hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new a0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new a0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),D=u.indexOf(d.doc.key)),{type:CO(d.type),doc:m,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function CO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function lM(n,e){return n instanceof Zc&&e instanceof Zc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kh&&e instanceof Kh&&n._firestore===e._firestore&&JS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function cM(n){if(kp(n)&&0===n.explicitOrderBy.length)throw new Re(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u0{}function Zh(n,...e){for(const t of e)n=t._apply(n);return n}class AO extends u0{constructor(e,t,r){super(),this.Ga=e,this.za=t,this.Ha=r,this.type="where"}_apply(e){const t=cg(e.firestore),r=function(o,u,d,m,E,D,S){let O;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){mM(S,D);const q=[];for(const Y of S)q.push(gM(m,o,Y));O={arrayValue:{values:q}}}else O=gM(m,o,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||mM(S,D),O=sM(d,"where",S,"in"===D||"not-in"===D);const V=Ni.create(E,D,O);return function(q,Y){if(Y.V()){const Ne=zv(q);if(null!==Ne&&!Ne.isEqual(Y.field))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${Y.field.toString()}'`);const at=Fp(q);null!==at&&yM(0,Y.field,at)}const ge=function(Ne,at){for(const mt of Ne.filters)if(at.indexOf(mt.op)>=0)return mt.op;return null}(q,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Y.op));if(null!==ge)throw new Re(ce.INVALID_ARGUMENT,ge===Y.op?`Invalid query. You cannot use more than one '${Y.op.toString()}' filter.`:`Invalid query. You cannot use '${Y.op.toString()}' filters with '${ge.toString()}' filters.`)}(o,V),V}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Xi(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new uu(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class MO extends u0{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Dh(o,u);return function(m,E){if(null===Fp(m)){const D=zv(m);null!==D&&yM(0,D,E.field)}}(r,d),d}(e._query,this.Ga,this.Ja);return new Xi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new uu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class dM extends u0{constructor(e,t,r){super(),this.type=e,this.Ya=t,this.Xa=r}_apply(e){return new Xi(e.firestore,e.converter,Kv(e._query,this.Ya,this.Xa))}}class hM extends u0{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=pM(e,this.type,this.Za,this.tc);return new Xi(e.firestore,e.converter,(o=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class fM extends u0{constructor(e,t,r){super(),this.type=e,this.Za=t,this.tc=r}_apply(e){const t=pM(e,this.type,this.Za,this.tc);return new Xi(e.firestore,e.converter,(o=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function pM(n,e,t,r){if(t[0]=(0,Bt.m9)(t[0]),t[0]instanceof o0)return function(o,u,d,m,E){if(!m)throw new Re(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const S of gl(o))if(S.field.isKeyField())D.push(au(u,m.key));else{const O=m.data.field(S.field);if(Wm(O))throw new Re(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=S.field.canonicalString();throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}D.push(O)}return new Ih(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=cg(n.firestore);return function(u,d,m,E,D,S){const O=u.explicitOrderBy;if(D.length>O.length)throw new Re(ce.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let q=0;q<D.length;q++){const Y=D[q];if(O[q].field.isKeyField()){if("string"!=typeof Y)throw new Re(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof Y}`);if(!Wv(u)&&-1!==Y.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${E}() must be a plain document ID, but '${Y}' contains a slash.`);const ge=u.path.child(Jt.fromString(Y));if(!st.isDocumentKey(ge))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${E}() must result in a valid document path, but '${ge}' is not because it contains an odd number of segments.`);const Ne=new st(ge);V.push(au(d,Ne))}else{const ge=sM(m,E,Y);V.push(ge)}}return new Ih(V,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function gM(n,e,t){if("string"==typeof(t=(0,Bt.m9)(t))){if(""===t)throw new Re(ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wv(e)&&-1!==t.indexOf("/"))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!st.isDocumentKey(r))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return au(n,new st(r))}if(t instanceof Bn)return au(n,t._key);throw new Re(ce.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${cI(t)}.`)}function mM(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Re(ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yM(n,e,t){if(!t.isEqual(e))throw new Re(ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class GC{convertValue(e,t="none"){switch(Rc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const r={};return Cc(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new hI(wr(e.latitude),wr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Mp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}convertTimestamp(e){const t=Sc(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);Ke(fE(r));const o=new Iy(r.get(1),r.get(3)),u=new st(r.popFirst(5));return o.isEqual(t)||Un(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function yI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class LO extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}class _M{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cg(e)}set(e,t,r){this._verifyNotCommitted();const o=Yh(e,this._firestore),u=yI(o.converter,t,r),d=pI(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Xn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Yh(e,this._firestore);let d;return d="string"==typeof(t=(0,Bt.m9)(t))||t instanceof Kc?BC(this._dataReader,"WriteBatch.update",u._key,t,r,o):UC(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yh(e,this._firestore);return this._mutations=this._mutations.concat(new Mh(t._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,e){if((n=(0,Bt.m9)(n)).firestore!==e)throw new Re(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fg extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function vM(n,e,t){n=Xt(n,Bn);const r=Xt(n.firestore,tr),o=yI(n.converter,e,t);return Dy(r,[pI(cg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Xn.none())])}function EM(n,e,t,...r){n=Xt(n,Bn);const o=Xt(n.firestore,tr),u=cg(o);let d;return d="string"==typeof(e=(0,Bt.m9)(e))||e instanceof Kc?BC(u,"updateDoc",n._key,e,t,r):UC(u,"updateDoc",n._key,e),Dy(o,[d.toMutation(n._key,Xn.exists(!0))])}function wM(n,...e){var t,r,o;n=(0,Bt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||LC(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(LC(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[d+2]=null===(o=O.complete)||void 0===o?void 0:o.bind(O)}let E,D,S;if(n instanceof Bn)D=Xt(n.firestore,tr),S=pl(n._key.path),E={next:O=>{e[d]&&e[d](qC(D,n,O))},error:e[d+1],complete:e[d+2]};else{const O=Xt(n,Xi);D=Xt(O.firestore,tr),S=O._query;const V=new fg(D);E={next:q=>{e[d]&&e[d](new Kh(D,V,O,q))},error:e[d+1],complete:e[d+2]},cM(n._query)}return function(O,V,q,Y){const ge=new uI(Y),Ne=new Pe(V,ge,q);return O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return b(yield by(O),Ne)})),()=>{ge.na(),O.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return R(yield by(O),Ne)}))}}(ti(D),S,m,E)}function Dy(n,e){return function(t,r){const o=new Er;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e,t){return oC.apply(this,arguments)}(yield PC(t),r,o)})),o.promise}(ti(n),e)}function qC(n,e,t){const r=t.docs.get(e._key),o=new fg(n);return new Zc(n,o,e._key,r,new hg(t.hasPendingWrites,t.fromCache),e.converter)}class WO extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cg(e)}get(e){const t=Yh(e,this._firestore),r=new LO(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return nt();const u=o[0];if(u.isFoundDocument())return new o0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new o0(this._firestore,r,t._key,null,t.converter);throw nt()})}set(e,t,r){const o=Yh(e,this._firestore),u=yI(o.converter,t,r),d=pI(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Yh(e,this._firestore);let d;return d="string"==typeof(t=(0,Bt.m9)(t))||t instanceof Kc?BC(this._dataReader,"Transaction.update",u._key,t,r,o):UC(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Yh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yh(e,this._firestore),r=new fg(this._firestore);return super.get(e).then(o=>new Zc(this._firestore,r,t._key,o._document,new hg(!1,!1),t.converter))}}function zC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bM(){if("undefined"==typeof Uint8Array)throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function IM(){if("undefined"==typeof atob)throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Cp=Gs.SDK_VERSION,(0,Gs._registerComponent)(new fm.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new tr(o,new rT(t.getProvider("auth-internal")),new oT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Gs.registerVersion)(kv,"3.4.1",n),(0,Gs.registerVersion)(kv,"3.4.1","esm2017")}();class l0{constructor(e){this._delegate=e}static fromBase64String(e){return IM(),new l0(bl.fromBase64String(e))}static fromUint8Array(e){return bM(),new l0(bl.fromUint8Array(e))}toBase64(){return IM(),this._delegate.toBase64()}toUint8Array(){return bM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WC(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class rx{enableIndexedDbPersistence(e,t){return function(n,e){tM(n=Xt(n,tr));const t=ti(n),r=n._freezeSettings(),o=new AC;return eM(t,o,new FS(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){tM(n=Xt(n,tr));const e=ti(n),t=n._freezeSettings(),r=new AC;return eM(e,r,new qN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Re(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Er;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(r){if(!Qi.bt())return Promise.resolve();const o=r+"main";yield Qi.delete(o)}),function(r){return t.apply(this,arguments)})(NE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Iy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ap("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const u=(n=Xt(n,r0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ap("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=kr.MOCK_USER;else{d=(0,Bt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Re(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kr(E)}n._authCredentials=new Jw(new Lv(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield BS(n),t=yield jS(n);return e.setNetworkEnabled(!0),function(r){const o=$e(r);return o.Gr.delete(0),Gh(o)}(t)}))}(ti(n=Xt(n,tr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield BS(n),t=yield jS(n);return e.setNetworkEnabled(!1),(r=(0,ye.Z)(function*(o){const u=$e(o);u.Gr.add(0),yield qh(u),u.Jr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(ti(n=Xt(n,tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,qS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Er;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(n,e){return dC.apply(this,arguments)}(yield PC(e),t)})),t.promise}(ti(n=Xt(n,tr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new uI(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield by(n),o=t,$e(r).io.add(o),void o.next();var r,o})),()=>{t.na(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return r=yield by(n),o=t,void $e(r).io.delete(o);var r,o}))}}(ti(n=Xt(n,tr)),LC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ty(this,YS(this._delegate,e))}catch(t){throw Ds(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,dI(this._delegate,e))}catch(t){throw Ds(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ts(this,function(n,e){if(n=Xt(n,r0),FC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(n,null,(t=e,new uu(Jt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ds(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const r=yield(o=n,lI(o).then(u=>u.datastore));var o;new KN(n.asyncQueue,r,e,t).run()})),t.promise}(ti(n=Xt(n,tr)),t=>e(new WO(n,t)))}(this._delegate,t=>e(new TM(this,t)))}batch(){return ti(this._delegate),new CM(new _M(this._delegate,e=>Dy(this._delegate,e)))}loadBundle(e){return function(n,e){const t=ti(n=Xt(n,tr)),r=new uO;return function(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,D){if(E instanceof Uint8Array)return LS(E,D);if(E instanceof ArrayBuffer)return LS(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new zN(E,d);var E}(t,Hh(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function(n,e,t){const r=$e(n);var o;(o=(0,ye.Z)(function*(u,d,m){try{const E=yield d.getMetadata();if(yield function(V,q){const Y=$e(V),ge=Lr(q.createTime);return Y.persistence.runTransaction("hasNewerBundle","readonly",Ne=>Y.Ye.getBundleMetadata(Ne,q.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(ge)>=0)}(u.localStore,E))return yield d.close(),void m._completeWith((V=E,{taskState:"Success",documentsLoaded:V.totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}));m._updateProgress(ht(E));const D=new Ie(E,u.localStore,d.k);let S=yield d.Ho();for(;S;){const V=yield D.yo(S);V&&m._updateProgress(V),S=yield d.Ho()}const O=yield D.complete();yield Wc(u,O.In,void 0),yield function(V,q){const Y=$e(V);return Y.persistence.runTransaction("Save bundle","readwrite",ge=>Y.Ye.saveBundleMetadata(ge,q))}(u.localStore,E),m._completeWith(O.progress)}catch(E){Ap("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E)}var V}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield PC(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,r){const o=$e(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.Ye.getNamedQuery(u,r))}(yield xC(n),e)}))}(ti(n=Xt(n,tr)),e).then(t=>t?new Xi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ts(this,t):null)}}class _I extends GC{constructor(e){super(),this.firestore=e}convertBytes(e){return new l0(new bl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class TM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new _I(e)}get(e){const t=gg(e);return this._delegate.get(t).then(r=>new c0(this._firestore,new Zc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=gg(e);return r?(zC("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=gg(e);return this._delegate.delete(t),this}}class CM{constructor(e){this._delegate=e}set(e,t,r){const o=gg(e);return r?(zC("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=gg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new a0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new d0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new pg(e,new _I(e),t),o.set(t,u)),u}}pg.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _I(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Bn(t._delegate,r,new st(e)))}static forKey(e,t,r){return new sa(t,new Bn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,YS(this._delegate,e))}catch(t){throw Ds(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Bt.m9)(e))instanceof Bn&&QS(this._delegate,e)}set(e,t){t=zC("DocumentReference.set",t);try{return t?vM(this._delegate,e,t):vM(this._delegate,e)}catch(r){throw Ds(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?EM(this._delegate,e):EM(this._delegate,e,t,...r)}catch(o){throw Ds(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Dy(Xt(n.firestore,tr),[new Mh(n._key,Xn.none())])}(this._delegate)}onSnapshot(...e){const t=AM(e),r=SM(e,o=>new c0(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return wM(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Xt(n,Bn);const e=Xt(n.firestore,tr),t=ti(e),r=new fg(e);return function(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield function(E,D){const S=$e(E);return S.persistence.runTransaction("read document","readonly",O=>S.Wn.Rn(O,D))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Re(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=a(m,`Failed to get document '${u} from cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield xC(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Zc(e,r,n._key,o,new hg(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Xt(n,Bn);const e=Xt(n.firestore,tr);return $S(ti(e),n._key,{source:"server"}).then(t=>qC(e,n,t))}(this._delegate):function(n){n=Xt(n,Bn);const e=Xt(n.firestore,tr);return $S(ti(e),n._key).then(t=>qC(e,n,t))}(this._delegate),t.then(r=>new c0(this.firestore,new Zc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function Ds(n,e,t){return n.message=n.message.replace(e,t),n}function AM(n){for(const e of n)if("object"==typeof e&&!WC(e))return e;return{}}function SM(n,e){var t,r;let o;return o=WC(n[0])?n[0]:WC(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class c0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lM(this._delegate,e._delegate)}}class d0 extends c0{data(e){const t=this._delegate.data(e);return function(n,e){n||nt()}(void 0!==t),t}}class Ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new _I(e)}where(e,t,r){try{return new Ts(this.firestore,Zh(this._delegate,function(n,e,t){const r=e,o=mI("where",n);return new AO(o,r,t)}(e,t,r)))}catch(o){throw Ds(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ts(this.firestore,Zh(this._delegate,function(n,e="asc"){const t=e,r=mI("orderBy",n);return new MO(r,t)}(e,t)))}catch(r){throw Ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ts(this.firestore,Zh(this._delegate,function(n){return KS("limit",n),new dM("limit",n,"F")}(e)))}catch(t){throw Ds(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ts(this.firestore,Zh(this._delegate,function(n){return KS("limitToLast",n),new dM("limitToLast",n,"L")}(e)))}catch(t){throw Ds(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ts(this.firestore,Zh(this._delegate,function(...n){return new hM("startAt",n,!0)}(...e)))}catch(t){throw Ds(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ts(this.firestore,Zh(this._delegate,function(...n){return new hM("startAfter",n,!1)}(...e)))}catch(t){throw Ds(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ts(this.firestore,Zh(this._delegate,function(...n){return new fM("endBefore",n,!0)}(...e)))}catch(t){throw Ds(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ts(this.firestore,Zh(this._delegate,function(...n){return new fM("endAt",n,!1)}(...e)))}catch(t){throw Ds(t,"endAt()","Query.endAt()")}}isEqual(e){return JS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Xt(n,Xi);const e=Xt(n.firestore,tr),t=ti(e),r=new fg(e);return function(n,e){const t=new Er;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(r=(0,ye.Z)(function*(o,u,d){try{const m=yield eg(o,u,!0),E=new Ji(u,m.zn),D=E.bo(m.documents),S=E.applyChanges(D,!1);d.resolve(S.snapshot)}catch(m){const E=a(m,`Failed to execute query '${u} against cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield xC(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Kh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Xt(n,Xi);const e=Xt(n.firestore,tr),t=ti(e),r=new fg(e);return HS(t,n._query,{source:"server"}).then(o=>new Kh(e,r,n,o))}(this._delegate):function(n){n=Xt(n,Xi);const e=Xt(n.firestore,tr),t=ti(e),r=new fg(e);return cM(n._query),HS(t,n._query).then(o=>new Kh(e,r,n,o))}(this._delegate),t.then(r=>new KC(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=AM(e),r=SM(e,o=>new KC(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return wM(this._delegate,t,r)}withConverter(e){return new Ts(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}class sx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new d0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class KC{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new d0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new sx(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new d0(this._firestore,r))})}isEqual(e){return lM(this._delegate,e._delegate)}}class Ty extends Ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?dI(this._delegate):dI(this._delegate,e))}catch(t){throw Ds(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Xt(n.firestore,tr),r=dI(n),o=yI(n.converter,e);return Dy(t,[pI(cg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return QS(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?pg.getInstance(this.firestore,e):null))}}function gg(n){return Xt(n,Bn)}class ZC{constructor(...e){this._delegate=new Kc(...e)}static documentId(){return new ZC(Jr.keyField().canonicalString())}isEqual(e){return(e=(0,Bt.m9)(e))instanceof Kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class mg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new VC("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mg(e)}static delete(){const e=new s0("deleteField");return e._methodName="FieldValue.delete",new mg(e)}static arrayUnion(...e){const t=function(...n){return new wO("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mg(t)}static arrayRemove(...e){const t=function(...n){return new bO("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mg(t)}static increment(e){const t=function(n){return new IO("increment",n)}(e);return t._methodName="FieldValue.increment",new mg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ox={Firestore:DM,GeoPoint:hI,Timestamp:Gn,Blob:l0,Transaction:TM,WriteBatch:CM,DocumentReference:sa,DocumentSnapshot:c0,Query:Ts,QueryDocumentSnapshot:d0,QuerySnapshot:KC,CollectionReference:Ty,FieldPath:ZC,FieldValue:mg,setLogLevel:function(n){!function(n){ot.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new fm.wA("firestore-compat",t=>((e,t)=>new DM(e,t,new rx))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},ox)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.10")}(ID.Z);var lx=P(6451),vI=P(5363),cx=P(6063);class dx extends Zn.x{constructor(e=1/0,t=1/0,r=cx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)m=E;m&&r.splice(0,m+1)}}}var hx=P(3099);function MM(n,e,t){var r,o;let u,d=!1;return n&&"object"==typeof n?(u=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(o=n.windowTime)&&void 0!==o?o:1/0,d=!!n.refCount,t=n.scheduler):u=null!=n?n:1/0,(0,hx.B)({connector:()=>new dx(u,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}function RM(n,e){return(0,ff.m)(e)?Vn(()=>n,e):Vn(()=>n)}var YC=P(9468);P(5867);const OM=new Map,yx={activated:!1,tokenObservers:[]},_x={initialized:!1,enabled:!1};function gi(n){return OM.get(n)||yx}function _u(n,e){OM.set(n,e)}function wI(){return _x}class Ix{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new Bt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Bt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Cs=new Bt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function PM(n){if(!gi(n).activated)throw Cs.create("use-before-activation",{appName:n.name})}function eA(n,e){return tA.apply(this,arguments)}function tA(){return tA=(0,ye.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(O){throw Cs.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==d.status)throw Cs.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(O){throw Cs.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Cs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),S=Date.now();return{token:m.attestationToken,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),tA.apply(this,arguments)}function Mx(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const h0="firebase-app-check-store";let DI=null;function FM(){return DI||(DI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Cs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(h0,{keyPath:"compositeKey"})}}catch(t){e(Cs.create("storage-open",{originalErrorMessage:t.message}))}}),DI)}function nA(){return nA=(0,ye.Z)(function*(n,e){const r=(yield FM()).transaction(h0,"readwrite"),u=r.objectStore(h0).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=E=>{d()},r.onerror=E=>{var D;m(Cs.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})}),nA.apply(this,arguments)}const f0=new ol.Yd("@firebase/app-check");function BM(n,e){return(0,Bt.hl)()?function(n,e){return function(n,e){return nA.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{f0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jM(){return wI().enabled}function $M(){return oA.apply(this,arguments)}function oA(){return oA=(0,ye.Z)(function*(){const n=wI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),oA.apply(this,arguments)}const Ux={error:"UNKNOWN_ERROR"};function Bx(n){return Bt.US.encodeString(JSON.stringify(n),!1)}function TI(n){return aA.apply(this,arguments)}function aA(){return aA=(0,ye.Z)(function*(n,e=!1){const t=n.app;PM(t);const r=gi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&CI(E)&&(o=E)}if(!e&&o&&CI(o))return{token:o.token};let m,d=!1;if(jM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=eA(Mx(t,yield $M()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),d=!0);const E=yield r.exchangeTokenPromise;return yield BM(t,E),_u(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?f0.warn(E.message):f0.error(E),u=E}return o?(m={token:o.token},_u(t,Object.assign(Object.assign({},r),{token:o})),yield BM(t,o)):m=$x(u),d&&GM(t,m),m}),aA.apply(this,arguments)}function lA(n,e){const t=gi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),_u(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function HM(n){const{app:e}=n,t=gi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new Ix((0,ye.Z)(function*(){let r;if(r=gi(e).token?yield TI(n,!0):yield TI(n),r.error)throw r.error}),()=>!0,()=>{const t=gi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),_u(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function GM(n,e){const t=gi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function CI(n){return n.expireTimeMillis-Date.now()>0}function $x(n){return{token:Bx(Ux),error:n}}class Hx{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=gi(this.app);for(const t of e)lA(this.app,t.next);return Promise.resolve()}}const JM="app-check-internal";(0,Gs._registerComponent)(new fm.wA("app-check",n=>function(n,e){return new Hx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JM).initialize()})),(0,Gs._registerComponent)(new fm.wA(JM,n=>function(n){return{getToken:e=>TI(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,u=gi(o),d={next:t,error:r,type:e};if(_u(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&CI(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),HM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>HM(n))}(n,"INTERNAL",e),removeTokenListener:e=>lA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Gs.registerVersion)("@firebase/app-check","0.5.2");class fA{constructor(){return(0,yr.vb)("app-check")}}"undefined"!=typeof window&&window;var uP=P(127);const eR=new f.OlP("angularfire2.auth.use-emulator"),tR=new f.OlP("angularfire2.auth.settings"),nR=new f.OlP("angularfire2.auth.tenant-id"),rR=new f.OlP("angularfire2.auth.langugage-code"),iR=new f.OlP("angularfire2.auth.use-device-language"),sR=new f.OlP("angularfire.auth.persistence"),oR=(n,e,t,r,o,u,d,m)=>(0,ci.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),d)for(const[D,S]of Object.entries(d))E.settings[D]=S;return m&&E.setPersistence(m),E},[t,r,o,u,d,m]);let aR=(()=>{class n{constructor(t,r,o,u,d,m,E,D,S,O,V,q){const Y=new Zn.x,ge=tt(void 0).pipe((0,vI.Q)(d.outsideAngular),Vn(()=>u.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,9259)))),(0,At.U)(()=>(0,ci.on)(t,u,r)),(0,At.U)(Ne=>oR(Ne,u,m,D,S,O,E,V)),MM({bufferSize:1,refCount:!1}));if(pr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=tt(null);else{ge.pipe(Fa()).subscribe();const at=ge.pipe(Vn(ft=>ft.getRedirectResult().then(hn=>hn,()=>null)),yr.iC,MM({bufferSize:1,refCount:!1})),mt=ge.pipe(Vn(ft=>new oi.y(hn=>({unsubscribe:u.runOutsideAngular(()=>ft.onAuthStateChanged(dr=>hn.next(dr),dr=>hn.error(dr),()=>hn.complete()))})))),Pt=ge.pipe(Vn(ft=>new oi.y(hn=>({unsubscribe:u.runOutsideAngular(()=>ft.onIdTokenChanged(dr=>hn.next(dr),dr=>hn.error(dr),()=>hn.complete()))}))));this.authState=at.pipe(RM(mt),(0,YC.R)(d.outsideAngular),(0,vI.Q)(d.insideAngular)),this.user=at.pipe(RM(Pt),(0,YC.R)(d.outsideAngular),(0,vI.Q)(d.insideAngular)),this.idToken=this.user.pipe(Vn(ft=>ft?(0,pn.D)(ft.getIdToken()):tt(null))),this.idTokenResult=this.user.pipe(Vn(ft=>ft?(0,pn.D)(ft.getIdTokenResult()):tt(null))),this.credential=(0,lx.T)(at,Y,this.authState.pipe(qr(ft=>!ft))).pipe((0,At.U)(ft=>(null==ft?void 0:ft.user)?ft:null),(0,YC.R)(d.outsideAngular),(0,vI.Q)(d.insideAngular))}return(0,ci.pX)(this,ge,u,{spy:{apply:(Ne,at,mt)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&mt.then(Pt=>Y.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ci.Dh),f.LFG(ci.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(yr.HU),f.LFG(eR,8),f.LFG(tR,8),f.LFG(nR,8),f.LFG(rR,8),f.LFG(iR,8),f.LFG(sR,8),f.LFG(fA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function uR(n,e){return function(n,e=ED.z){return new oi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function gA(n,e){return uR(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function SI(n,e){return gA(n,e).pipe(Si(void 0),L_(),(0,At.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const E=o.find(S=>S.doc.ref.isEqual(d.ref)),D=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function lR(n,e,t){return SI(n,t).pipe(ji((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function(n,e=us.y){return n=null!=n?n:pw,(0,Ar.e)((t,r)=>{let o,u=!0;t.subscribe(new On.Q(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,At.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function mA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function cR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class dR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Si(void 0),L_(),qr(([r,o])=>o.length>0||!r),(0,At.U)(([r,o])=>o),yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ji((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cR(e);return lR(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return gA(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),yr.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(yr.iC)}add(e){return this.ref.add(e)}doc(e){return new hR(this.ref.doc(e),this.afs)}}class hR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=gR(r,t);return new dR(o,u,this.afs)}snapshotChanges(){return function(n,e){return uR(n,e).pipe(Si(void 0),L_(),(0,At.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(yr.iC)}}class pP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SI(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qr(t=>t.length>0),yr.iC):SI(this.query,this.afs.schedulers.outsideAngular).pipe(yr.iC)}auditTrail(e){return this.stateChanges(e).pipe(ji((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cR(e);return lR(this.query,t,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(e={}){return gA(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),yr.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(yr.iC)}}const fR=new f.OlP("angularfire2.enableFirestorePersistence"),pR=new f.OlP("angularfire2.firestore.persistenceSettings"),gP=new f.OlP("angularfire2.firestore.settings"),mP=new f.OlP("angularfire2.firestore.use-emulator");function gR(n,e=(t=>t)){return{query:e(n),ref:n}}let mR=(()=>{class n{constructor(t,r,o,u,d,m,E,D,S,O,V,q,Y,ge,Ne,at,mt){this.schedulers=E;const Pt=(0,ci.on)(t,m,r),ft=S;O&&oR(Pt,m,V,Y,ge,Ne,q,at),[this.firestore,this.persistenceEnabled$]=(0,ci.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const hn=m.runOutsideAngular(()=>Pt.firestore());if(u&&hn.settings(u),ft&&hn.useEmulator(...ft),o&&!pr(d)){const dr=()=>{try{return(0,pn.D)(hn.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Br){return"undefined"!=typeof console&&console.warn(Br),tt(!1)}};return[hn,m.runOutsideAngular(dr)]}return[hn,tt(!1)]},[u,ft,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=gR(o,r),m=this.schedulers.ngZone.run(()=>u);return new dR(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new pP(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new hR(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ci.Dh),f.LFG(ci.xv,8),f.LFG(fR,8),f.LFG(gP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(yr.HU),f.LFG(pR,8),f.LFG(mP,8),f.LFG(aR,8),f.LFG(eR,8),f.LFG(tR,8),f.LFG(nR,8),f.LFG(rR,8),f.LFG(iR,8),f.LFG(sR,8),f.LFG(fA,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yP=(()=>{class n{constructor(){uP.Z.registerVersion("angularfire",yr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:fR,useValue:!0},{provide:pR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[mR]}),n})(),yR=(()=>{class n{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(mR))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _R{}const Yc="*";function vP(n,e){return{type:7,name:n,definitions:e,options:{}}}function vR(n,e=null){return{type:4,styles:e,timings:n}}function ER(n,e=null){return{type:2,steps:n,options:e}}function p0(n){return{type:6,styles:n,offset:null}}function yA(n,e,t){return{type:0,name:n,styles:e,options:t}}function wR(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function bR(n){Promise.resolve(null).then(n)}class Cy{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class IR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const u=this.players.length;0==u?bR(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++r==u&&this._onDestroy()}),d.onStart(()=>{++o==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const DR=["toast-component",""];function EP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function wP(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function bP(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,wP,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function IP(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function DP(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function TP(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}function CP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().remove()}),f.TgZ(1,"span",6),f._uU(2,"\xd7"),f.qZA(),f.qZA()}}function AP(n,e){if(1&n&&(f.ynx(0),f._uU(1),f.BQk()),2&n){const t=f.oxw(2);f.xp6(1),f.hij("[",t.duplicatesCount+1,"]")}}function SP(n,e){if(1&n&&(f.TgZ(0,"div"),f._uU(1),f.YNc(2,AP,2,1,"ng-container",4),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.titleClass),f.uIk("aria-label",t.title),f.xp6(1),f.hij(" ",t.title," "),f.xp6(1),f.Q6J("ngIf",t.duplicatesCount)}}function MP(n,e){if(1&n&&f._UZ(0,"div",7),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.Q6J("innerHTML",t.message,f.oJD)}}function RP(n,e){if(1&n&&(f.TgZ(0,"div",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.Tol(t.options.messageClass),f.uIk("aria-label",t.message),f.xp6(1),f.hij(" ",t.message," ")}}function NP(n,e){if(1&n&&(f.TgZ(0,"div"),f._UZ(1,"div",9),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Udp("width",t.width+"%")}}class OP{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class MI{constructor(e,t,r,o,u,d){this.toastId=e,this.config=t,this.message=r,this.title=o,this.toastType=u,this.toastRef=d,this._onTap=new Zn.x,this._onAction=new Zn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const TR={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},CR=new f.OlP("ToastConfig");class PP{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Zn.x,this._activate=new Zn.x,this._manualClose=new Zn.x,this._resetTimeout=new Zn.x,this._countDuplicate=new Zn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class kP{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===MI?this._toastPackage:this._parentInjector.get(e,t,r)}}class FP extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let o;return o=r.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class LP{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let VP=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UP=(()=>{class n{constructor(t,r,o,u){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=o,this._document=u,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const o=this._document.createElement("div");return o.id="toast-container",o.classList.add(t),o.classList.add("toast-container"),r?r.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(t){return new FP(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new LP(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(VP),f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RI=(()=>{class n{constructor(t,r,o,u,d){this.overlay=r,this._injector=o,this.sanitizer=u,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,o={},u=""){return this._preBuildNotification(u,t,r,this.applyConfig(o))}success(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(o))}error(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(o))}info(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(o))}warning(t,r,o={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(o))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(t="",r="",o,u){const{includeTitleDuplicates:d}=this.toastrConfig;for(const m of this.toasts){const E=d&&m.title===t;if((!d||E)&&m.message===r)return m.toastRef.onDuplicate(o,u),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,o,u){return u.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,o,u)):this._buildNotification(t,r,o,u)}_buildNotification(t,r,o,u){if(!u.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(o,r,this.toastrConfig.resetTimeoutOnDuplicate&&u.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(u.positionClass,this.overlayContainer);this.index=this.index+1;let D=r;r&&u.enableHtml&&(D=this.sanitizer.sanitize(f.q3G.HTML,r));const S=new PP(E),O=new MI(this.index,u,D,o,t,S),V=new kP(O,this._injector),q=new OP(u.toastComponent,V),Y=E.attach(q,this.toastrConfig.newestOnTop);S.componentInstance=Y.instance;const ge={toastId:this.index,title:o||"",message:r||"",toastRef:S,onShown:S.afterActivate(),onHidden:S.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:Y};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ge.toastRef.activate()})),this.toasts.push(ge),ge}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(CR),f.LFG(UP),f.LFG(f.zs3),f.LFG(lo),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BP=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.ngZone=o,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(RI),f.Y36(MI),f.Y36(f.R0b))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.d8E("@flyInOut",r.state),f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:DR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,EP,3,0,"button",0),f.YNc(1,bP,3,5,"div",1),f.YNc(2,IP,1,3,"div",2),f.YNc(3,DP,2,4,"div",3),f.YNc(4,TP,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[ii],encapsulation:2,data:{animation:[vP("flyInOut",[yA("inactive",p0({opacity:0})),yA("active",p0({opacity:1})),yA("removed",p0({opacity:0})),wR("inactive => active",vR("{{ easeTime }}ms {{ easing }}")),wR("active => removed",vR("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const jP=Object.assign(Object.assign({},TR),{toastComponent:BP});let $P=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:CR,useValue:{default:jP,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Iu]]}),n})(),HP=(()=>{class n{constructor(t,r,o){this.toastrService=t,this.toastPackage=r,this.appRef=o,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(u=>{this.duplicatesCount=u})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(RI),f.Y36(MI),f.Y36(f.z2F))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(f.Tol(r.toastClasses),f.Udp("display",r.displayStyle))},attrs:DR,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(f.YNc(0,CP,3,0,"button",0),f.YNc(1,SP,3,5,"div",1),f.YNc(2,MP,1,3,"div",2),f.YNc(3,RP,2,4,"div",3),f.YNc(4,NP,2,2,"div",4)),2&t&&(f.Q6J("ngIf",r.options.closeButton),f.xp6(1),f.Q6J("ngIf",r.title),f.xp6(1),f.Q6J("ngIf",r.message&&r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.message&&!r.options.enableHtml),f.xp6(1),f.Q6J("ngIf",r.options.progressBar))},directives:[ii],encapsulation:2}),n})();function GP(n,e){1&n&&(f.TgZ(0,"div",17),f.TgZ(1,"span",18),f._uU(2,"Loading..."),f.qZA(),f.qZA())}function qP(n,e){1&n&&(f.TgZ(0,"span",19),f._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),f.qZA())}Object.assign(Object.assign({},TR),{toastComponent:HP});let AR=(()=>{class n{constructor(t,r,o,u,d){this.fb=t,this._empleadoSevice=r,this.router=o,this.toastr=u,this.aRoute=d,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",Ki.required],apellido:["",Ki.required],cedula:["",Ki.required],salario:["",Ki.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),console.log(this.id)}ngOnInit(){this.esEditar()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,cedula:this.createEmpleado.value.cedula,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoSevice.agregarEmpleado(t).then(()=>{this.toastr.success("Empleado registrado exitosamente","Empleado Registrado!",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(r=>{console.log(r),this.loading=!1})}editarEmpleado(t){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,cedula:this.createEmpleado.value.cedula,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoSevice.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("Los datos del Empleado fueron actulizado exitosamente","Empleado Modificado!",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-empleados"])})}esEditar(){null!==this.id&&(this.loading=!0,this.titulo="Editar Empleado",this._empleadoSevice.getEmpleado(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,cedula:t.payload.data().cedula,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(fw),f.Y36(yR),f.Y36(li),f.Y36(RI),f.Y36(ja))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-create-empleados"]],decls:22,vars:4,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],[1,"text-center"],["class","spinner-border float-end","role","status",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","cedula","placeholder","C\xe9dula",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-empleado","routerLinkActive","router-link-active",1,"button","btn","btn-secondary","btn-lg","me-3"],["type","submit",1,"button","btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","float-end"],[1,"visually-hidden"],[1,"badge","bg-danger"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"div",4),f.TgZ(5,"h3",5),f._uU(6),f.YNc(7,GP,3,0,"div",6),f.qZA(),f.YNc(8,qP,2,0,"span",7),f.TgZ(9,"form",8),f.NdJ("ngSubmit",function(){return r.agregarEditarEmpleado()}),f.TgZ(10,"div",1),f.TgZ(11,"div",9),f._UZ(12,"input",10),f.qZA(),f.TgZ(13,"div",9),f._UZ(14,"input",11),f.qZA(),f.qZA(),f._UZ(15,"input",12),f._UZ(16,"input",13),f.TgZ(17,"div",14),f.TgZ(18,"button",15),f._uU(19,"Volver"),f.qZA(),f.TgZ(20,"button",16),f._uU(21,"Agregar"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(6),f.hij("",r.titulo," "),f.xp6(1),f.Q6J("ngIf",r.loading),f.xp6(1),f.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),f.xp6(1),f.Q6J("formGroup",r.createEmpleado))},directives:[ii,K0,U0,sm,s_,V0,O_,Z0,p,M],styles:[""]}),n})();function zP(n,e){1&n&&(f.TgZ(0,"h5",7),f._uU(1,"No hay datos para mostrar"),f.qZA())}const WP=function(n){return["/edit-empleado/",n]};function KP(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr"),f.TgZ(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f._uU(8),f.ALo(9,"currency"),f.qZA(),f.TgZ(10,"td"),f._UZ(11,"i",10),f.TgZ(12,"i",11),f.NdJ("click",function(){const u=f.CHM(t).$implicit;return f.oxw(2).eliminarEmpleado(u.id)}),f.qZA(),f.qZA(),f.qZA()}if(2&n){const t=e.$implicit;f.xp6(2),f.Oqu(t.nombre),f.xp6(2),f.Oqu(t.apellido),f.xp6(2),f.Oqu(t.cedula),f.xp6(2),f.Oqu(f.lcZ(9,5,t.salario)),f.xp6(3),f.Q6J("routerLink",f.VKq(7,WP,t.id))}}function ZP(n,e){if(1&n&&(f.TgZ(0,"table",8),f.TgZ(1,"thead"),f.TgZ(2,"tr"),f.TgZ(3,"th"),f._uU(4,"Nombre"),f.qZA(),f.TgZ(5,"th"),f._uU(6,"Apellido"),f.qZA(),f.TgZ(7,"th"),f._uU(8,"C\xe9dula"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Salario"),f.qZA(),f._UZ(11,"th"),f.qZA(),f.qZA(),f.TgZ(12,"tbody"),f.YNc(13,KP,13,9,"tr",9),f.qZA(),f.qZA()),2&n){const t=f.oxw();f.xp6(13),f.Q6J("ngForOf",t.empleados)}}const YP=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class n{constructor(t,r){this._empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpleado()}getEmpleado(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(t){this._empleadoService.eliminarEmpleado(t).then(()=>{this.toastr.error("El empleado fue eliminado exitosamente","Registro Eliminado!",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(yR),f.Y36(RI))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-empleado","routerLinkActive","router-link-active",1,"btn","btn-dark","btn-lg","float-end"],["class","mt-5",4,"ngIf"],["class","table table-striped mt-5",4,"ngIf"],[1,"mt-5"],[1,"table","table-striped","mt-5"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","me-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"span",3),f._uU(4,"Listado de Empleados"),f.qZA(),f.TgZ(5,"button",4),f._uU(6,"Agregar"),f.qZA(),f.YNc(7,zP,2,0,"h5",5),f.YNc(8,ZP,14,1,"table",6),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngIf",0==r.empleados.length),f.xp6(1),f.Q6J("ngIf",r.empleados.length>0))},directives:[p,M,ii,Li],pipes:[Ii],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})()},{path:"create-empleado",component:AR},{path:"edit-empleado/:id",component:AR},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let QP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[jd.forRoot(YP)],jd]}),n})();function SR(){return"undefined"!=typeof window&&void 0!==window.document}function vA(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qh(n){switch(n.length){case 0:return new Cy;case 1:return n[0];default:return new IR(n)}}function MR(n,e,t,r,o={},u={}){const d=[],m=[];let E=-1,D=null;if(r.forEach(S=>{const O=S.offset,V=O==E,q=V&&D||{};Object.keys(S).forEach(Y=>{let ge=Y,Ne=S[Y];if("offset"!==Y)switch(ge=e.normalizePropertyName(ge,d),Ne){case"!":Ne=o[Y];break;case Yc:Ne=u[Y];break;default:Ne=e.normalizeStyleValue(Y,ge,Ne,d)}q[ge]=Ne}),V||m.push(q),D=q,E=O}),d.length){const S="\n - ";throw new Error(`Unable to animate due to the following errors:${S}${d.join(S)}`)}return m}function EA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&wA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&wA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&wA(t,"destroy",n)))}}function wA(n,e,t){const r=t.totalTime,u=bA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(u._data=d),u}function bA(n,e,t,r,o="",u=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:u,disabled:!!d}}function To(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function RR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let IA=(n,e)=>!1,NR=(n,e,t)=>[];(vA()||"undefined"!=typeof Element)&&(IA=SR()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),NR=(n,e,t)=>{let r=[];if(t){const o=n.querySelectorAll(e);for(let u=0;u<o.length;u++)r.push(o[u])}else{const o=n.querySelector(e);o&&r.push(o)}return r});let yg=null,OR=!1;function DA(n){yg||(yg=("undefined"!=typeof document?document.body:null)||{},OR=!!yg.style&&"WebkitAppearance"in yg.style);let e=!0;return yg.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in yg.style,!e&&OR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in yg.style)),e}const TA=IA,CA=NR;function xR(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let PR=(()=>{class n{validateStyleProperty(t){return DA(t)}matchesElement(t,r){return!1}containsElement(t,r){return TA(t,r)}query(t,r,o){return CA(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,u,d,m=[],E){return new Cy(o,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),AA=(()=>{class n{}return n.NOOP=new PR,n})();const SA="ng-enter",NI="ng-leave",OI="ng-trigger",xI=".ng-trigger",FR="ng-animating",MA=".ng-animating";function _g(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:RA(parseFloat(e[1]),e[2])}function RA(n,e){return"s"===e?1e3*n:n}function PI(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let o,u=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};o=RA(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(u=RA(parseFloat(E),m[4]));const D=m[5];D&&(d=D)}else o=n;if(!t){let m=!1,E=e.length;o<0&&(e.push("Duration values below 0 are not allowed for this animation step."),m=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&e.splice(E,0,`The provided timing value "${n}" is invalid.`)}return{duration:o,delay:u,easing:d}}(n,e,t)}function Ay(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Jh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ay(n,t);return t}function VR(n,e,t){return t?e+":"+t+";":""}function UR(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=VR(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=VR(0,sk(t),n.style[t]));n.setAttribute("style",e)}function Il(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=OA(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),vA()&&UR(n))}function vg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=OA(t);n.style[r]=""}),vA()&&UR(n))}function g0(n){return Array.isArray(n)?1==n.length?n[0]:ER(n):n}const NA=new RegExp("{{\\s*(.+?)\\s*}}","g");function BR(n){let e=[];if("string"==typeof n){let t;for(;t=NA.exec(n);)e.push(t[1]);NA.lastIndex=0}return e}function kI(n,e,t){const r=n.toString(),o=r.replace(NA,(u,d)=>{let m=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),m=""),m.toString()});return o==r?n:o}function FI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ik=/-+([a-z0-9])/g;function OA(n){return n.replace(ik,(...e)=>e[1].toUpperCase())}function sk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jR(n,e){return 0===n||0===e}function $R(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],d=[];if(r.forEach(m=>{u.hasOwnProperty(m)||d.push(m),u[m]=t[m]}),d.length)for(var o=1;o<e.length;o++){let m=e[o];d.forEach(function(E){m[E]=xA(n,E)})}}return e}function Co(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function xA(n,e){return window.getComputedStyle(n)[e]}function ok(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const E=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const o=r[1],u=r[2],d=r[3];e.push(HR(o,d));"<"==u[0]&&!("*"==o&&"*"==d)&&e.push(HR(d,o))}(r,t,e)):t.push(n),t}const VI=new Set(["true","1"]),UI=new Set(["false","0"]);function HR(n,e){const t=VI.has(n)||UI.has(n),r=VI.has(e)||UI.has(e);return(o,u)=>{let d="*"==n||n==o,m="*"==e||e==u;return!d&&t&&"boolean"==typeof o&&(d=o?VI.has(n):UI.has(n)),!m&&r&&"boolean"==typeof u&&(m=u?VI.has(e):UI.has(e)),d&&m}}const lk=new RegExp("s*:selfs*,?","g");function PA(n,e,t){return new ck(n).build(e,t)}class ck{constructor(e){this._driver=e}build(e,t){const r=new fk(t);return this._resetContextStyleTimingState(r),Co(this,g0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,D=E.name;D.toString().split(/\s*,\s*/).forEach(S=>{E.name=S,u.push(this.visitState(E,t))}),E.name=D}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,o+=E.depCount,d.push(E)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:d,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,d=o||{};if(r.styles.forEach(m=>{if(BI(m)){const E=m;Object.keys(E).forEach(D=>{BR(E[D]).forEach(S=>{d.hasOwnProperty(S)||u.add(S)})})}}),u.size){const m=FI(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Co(this,g0(e.animation),t);return{type:1,matchers:ok(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Eg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Co(this,r,t)),options:Eg(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const u=e.steps.map(d=>{t.currentTime=r;const m=Co(this,d,t);return o=Math.max(o,t.currentTime),m});return t.currentTime=o,{type:3,steps:u,options:Eg(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return kA(PI(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=kA(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||PI(r,e),kA(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,u=e.styles?e.styles:p0({});if(5==u.type)o=this.visitKeyframes(u,t);else{let d=e.styles,m=!1;if(!d){m=!0;const D={};r.easing&&(D.easing=r.easing),d=p0(D)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(d,t);E.isEmptyStep=m,o=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Yc?r.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(e.styles);let o=!1,u=null;return r.forEach(d=>{if(BI(d)){const m=d,E=m.easing;if(E&&(u=E,delete m.easing),!o)for(let D in m)if(m[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void t.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const E=t.collectedStyles[t.currentQuerySelector],D=E[m];let S=!0;D&&(u!=o&&u>=D.startTime&&o<=D.endTime&&(t.errors.push(`The CSS property "${m}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${o}ms"`),S=!1),u=D.startTime),S&&(E[m]={startTime:u,endTime:o}),t.options&&function(n,e,t){const r=e.params||{},o=BR(n);o.length&&o.forEach(u=>{r.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(d[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let u=0;const d=[];let m=!1,E=!1,D=0;const S=e.steps.map(at=>{const mt=this._makeStyleAst(at,t);let Pt=null!=mt.offset?mt.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(BI(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(BI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(mt.styles),ft=0;return null!=Pt&&(u++,ft=mt.offset=Pt),E=E||ft<0||ft>1,m=m||ft<D,D=ft,d.push(ft),mt});E&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&t.errors.push("Please ensure that all keyframe offsets are in order");const O=e.steps.length;let V=0;u>0&&u<O?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(V=1/(O-1));const q=O-1,Y=t.currentTime,ge=t.currentAnimateTimings,Ne=ge.duration;return S.forEach((at,mt)=>{const Pt=V>0?mt==q?1:V*mt:d[mt],ft=Pt*Ne;t.currentTime=Y+ge.delay+ft,ge.duration=ft,this._validateStyleAst(at,t),at.offset=Pt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:Co(this,g0(e.animation),t),options:Eg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Eg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Eg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(lk,"")),n=n.replace(/@\*/g,xI).replace(/@\w+/g,t=>xI+"-"+t.substr(1)).replace(/:animating/g,MA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,To(t.collectedStyles,t.currentQuerySelector,{});const m=Co(this,g0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:o.limit||0,optional:!!o.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:Eg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:PI(e.timings,t.errors,!0);return{type:12,animation:Co(this,g0(e.animation),t),timings:r,options:null}}}class fk{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function BI(n){return!Array.isArray(n)&&"object"==typeof n}function Eg(n){return n?(n=Ay(n)).params&&(n.params=function(n){return n?Ay(n):null}(n.params)):n={},n}function kA(n,e,t){return{duration:n,delay:e,easing:t}}function FA(n,e,t,r,o,u,d=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:u,totalTime:o+u,easing:d,subTimeline:m}}class jI{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const _k=new RegExp(":enter","g"),Ek=new RegExp(":leave","g");function LA(n,e,t,r,o,u={},d={},m,E,D=[]){return(new wk).buildKeyframes(n,e,t,r,o,u,d,m,E,D)}class wk{buildKeyframes(e,t,r,o,u,d,m,E,D,S=[]){D=D||new jI;const O=new VA(e,t,D,o,u,S,[]);O.options=E,O.currentTimeline.setStyles([d],null,O.errors,E),Co(this,r,O);const V=O.timelines.filter(q=>q.containsAnimation());if(V.length&&Object.keys(m).length){const q=V[V.length-1];q.allowOnlyTimelineStyles()||q.setStyles([m],null,O.errors,E)}return V.length?V.map(q=>q.buildKeyframes()):[FA(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const o=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,o,o.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const d=null!=r.duration?_g(r.duration):null,m=null!=r.delay?_g(r.delay):null;return 0!==d&&e.forEach(E=>{const D=t.appendInstructionToTimeline(E,d,m);u=Math.max(u,D.duration+D.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Co(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const u=e.options;if(u&&(u.params||u.delay)&&(o=t.createSubContext(u),o.transformIntoNewTimeline(),null!=u.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=$I);const d=_g(u.delay);o.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Co(this,d,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?_g(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);u&&m.delayNextStep(u),Co(this,d,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return PI(t.params?kI(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,u=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*u),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(o+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},u=o.delay?_g(o.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=$I);let d=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((D,S)=>{t.currentQueryIndex=S;const O=t.createSubContext(e.options,D);u&&O.delayNextStep(u),D===t.element&&(E=O.currentTimeline),Co(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),m=d*(t.currentQueryTotal-1);let E=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const S=t.currentTimeline;E&&S.delayNextStep(E);const O=S.currentTime;Co(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-O+(o.startTime-r.currentTimeline.startTime)}}const $I={};class VA{constructor(e,t,r,o,u,d,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=u,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new HI(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=_g(r.duration)),null!=r.delay&&(o.delay=_g(r.delay));const u=r.params;if(u){let d=o.params;d||(d=this.options.params={}),Object.keys(u).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=kI(u[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,u=new VA(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=$I,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new bk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(u),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,u,d){let m=[];if(o&&m.push(this.element),e.length>0){e=(e=e.replace(_k,"."+this._enterClassName)).replace(Ek,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),m.push(...D)}return!u&&0==m.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),m}}class HI{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new HI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Yc,this._currentKeyframe[t]=Yc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const u=o&&o.params||{},d=function(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(u=>{t[u]=Yc})):Jh(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const E=kI(d[m],u,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Yc),this._updateStyle(m,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,E)=>{const D=Jh(m,!0);Object.keys(D).forEach(S=>{const O=D[S];"!"==O?e.add(S):O==Yc&&t.add(S)}),r||(D.offset=E/this.duration),o.push(D)});const u=e.size?FI(e.values()):[],d=t.size?FI(t.values()):[];if(r){const m=o[0],E=Ay(m);m.offset=0,E.offset=1,o=[m,E]}return FA(this.element,o,u,d,this.duration,this.startTime,this.easing,!1)}}class bk extends HI{constructor(e,t,r,o,u,d,m=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=u,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=r+t,m=t/d,E=Jh(e[0],!1);E.offset=0,u.push(E);const D=Jh(e[0],!1);D.offset=zR(m),u.push(D);const S=e.length-1;for(let O=1;O<=S;O++){let V=Jh(e[O],!1);V.offset=zR((t+V.offset*r)/d),u.push(V)}r=d,t=0,o="",e=u}return FA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function zR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UA{}class Dk extends UA{normalizePropertyName(e,t){return OA(e)}normalizeStyleValue(e,t,r,o){let u="";const d=r.toString().trim();if(Tk[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(`Please provide a CSS unit value for ${e}:${r}`)}return d+u}}const Tk=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function WR(n,e,t,r,o,u,d,m,E,D,S,O,V){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:u,toState:r,toStyles:d,timelines:m,queriedElements:E,preStyleProps:D,postStyleProps:S,totalTime:O,errors:V}}const BA={};class KR{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function(n,e,t,r,o){return n.some(u=>u(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],u=this._stateStyles[e],d=o?o.buildStyles(t,r):{};return u?u.buildStyles(t,r):d}build(e,t,r,o,u,d,m,E,D,S){const O=[],V=this.ast.options&&this.ast.options.params||BA,Y=this.buildStyles(r,m&&m.params||BA,O),ge=E&&E.params||BA,Ne=this.buildStyles(o,ge,O),at=new Set,mt=new Map,Pt=new Map,ft="void"===o,hn={params:Object.assign(Object.assign({},V),ge)},dr=S?[]:LA(e,t,this.ast.animation,u,d,Y,Ne,hn,D,O);let Br=0;if(dr.forEach(Jc=>{Br=Math.max(Jc.duration+Jc.delay,Br)}),O.length)return WR(t,this._triggerName,r,o,ft,Y,Ne,[],[],mt,Pt,Br,O);dr.forEach(Jc=>{const Xc=Jc.element,bN=To(mt,Xc,{});Jc.preStyleProps.forEach(wg=>bN[wg]=!0);const y0=To(Pt,Xc,{});Jc.postStyleProps.forEach(wg=>y0[wg]=!0),Xc!==t&&at.add(Xc)});const Qc=FI(at.values());return WR(t,this._triggerName,r,o,ft,Y,Ne,dr,Qc,mt,Pt,Br)}}class Sk{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Ay(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(o[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(m=>{let E=d[m];E.length>1&&(E=kI(E,o,t));const D=this.normalizer.normalizePropertyName(m,t);E=this.normalizer.normalizeStyleValue(m,D,E,t),r[D]=E})}}),r}}class Rk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new Sk(o.style,o.options&&o.options.params||{},r)}),ZR(this.states,"true","1"),ZR(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new KR(e,o,this.states))}),this.fallbackTransition=function(n,e,t){return new KR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(d=>d.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ZR(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Ok=new jI;class xk{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],o=PA(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=o}_buildPlayer(e,t,r){const o=e.element,u=MR(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],u=this._animations[e];let d;const m=new Map;if(u?(d=LA(this._driver,t,u,SA,NI,{},{},r,Ok,o),d.forEach(S=>{const O=To(m,S.element,{});S.postStyleProps.forEach(V=>O[V]=null)})):(o.push("The requested animation doesn't exist or has already been destroyed"),d=[]),o.length)throw new Error(`Unable to create the animation due to the following errors: ${o.join("\n")}`);m.forEach((S,O)=>{Object.keys(S).forEach(V=>{S[V]=this._driver.computeStyle(O,V,Yc)})});const D=Qh(d.map(S=>{const O=m.get(S.element);return this._buildPlayer(S,{},O)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,o){const u=bA(t,"","","");return EA(this._getPlayer(e),r,u,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const YR="ng-animate-queued",jA="ng-animate-disabled",Vk=[],QR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Uk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oa="__ng_removed";class $A{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const u=Ay(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const m0="void",HA=new $A(m0);class Bk{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,aa(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const u=To(this._elementListeners,e,[]),d={name:t,phase:r,callback:o};u.push(d);const m=To(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(aa(e,OI),aa(e,OI+"-"+t),m[t]=HA),()=>{this._engine.afterFlush(()=>{const E=u.indexOf(d);E>=0&&u.splice(E,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,o=!0){const u=this._getTrigger(t),d=new GA(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(aa(e,OI),aa(e,OI+"-"+t),this._engine.statesByElement.set(e,m={}));let E=m[t];const D=new $A(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&D.absorbOptions(E.options),m[t]=D,E||(E=HA),D.value!==m0&&E.value===D.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const u=t[o];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(E.params,D.params)){const ge=[],Ne=u.matchStyles(E.value,E.params,ge),at=u.matchStyles(D.value,D.params,ge);ge.length?this._engine.reportError(ge):this._engine.afterFlush(()=>{vg(e,Ne),Il(e,at)})}return}const V=To(this._engine.playersByElement,e,[]);V.forEach(ge=>{ge.namespaceId==this.id&&ge.triggerName==t&&ge.queued&&ge.destroy()});let q=u.matchTransition(E.value,D.value,e,D.params),Y=!1;if(!q){if(!o)return;q=u.fallbackTransition,Y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:E,toState:D,player:d,isFallbackTransition:Y}),Y||(aa(e,YR),d.onStart(()=>{Sy(e,YR)})),d.onDone(()=>{let ge=this.players.indexOf(d);ge>=0&&this.players.splice(ge,1);const Ne=this._engine.playersByElement.get(e);if(Ne){let at=Ne.indexOf(d);at>=0&&Ne.splice(at,1)}}),this.players.push(d),V.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,xI,!0);r.forEach(o=>{if(o[oa])return;const u=this._engine.fetchNamespacesByElement(o);u.size?u.forEach(d=>d.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const u=this._engine.statesByElement.get(e);if(u){const d=[];if(Object.keys(u).forEach(m=>{if(this._triggers[m]){const E=this.trigger(e,m,m0,o);E&&d.push(E)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Qh(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(u=>{const d=u.name;if(o.has(d))return;o.add(d);const E=this._triggers[d].fallbackTransition,D=r[d]||HA,S=new $A(m0),O=new GA(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:E,fromState:D,toState:S,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)o=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[oa];(!u||u===QR)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){aa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const u=r.element,d=this._elementListeners.get(u);d&&d.forEach(m=>{if(m.name==r.triggerName){const E=bA(u,r.triggerName,r.fromState.value,r.toState.value);E._data=e,EA(r.player,m.phase,E,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const u=r.transition.ast.depCount,d=o.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class jk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Bk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let o=!1;for(let u=r;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),o=!0;break}o||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let u=0;u<o.length;u++){const d=r[o[u]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&t.add(m)}}}return t}trigger(e,t,r,o){if(GI(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!GI(t))return;const u=t[oa];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),aa(e,jA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sy(e,jA))}removeNode(e,t,r,o){if(GI(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o){this.collectedLeaveElements.push(t),t[oa]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,o,u){return GI(t)?this._fetchNamespace(e).listen(t,r,o,u):()=>{}}_buildInstruction(e,t,r,o,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,xI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,MA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[oa];if(r&&r.setForRemoval){if(e[oa]=QR,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(jA))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)aa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qh(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new jI,o=[],u=new Map,d=[],m=new Map,E=new Map,D=new Map,S=new Set;this.disabledNodes.forEach(rt=>{S.add(rt);const yt=this.driver.query(rt,".ng-animate-queued",!0);for(let Rt=0;Rt<yt.length;Rt++)S.add(yt[Rt])});const O=this.bodyNode,V=Array.from(this.statesByElement.keys()),q=eN(V,this.collectedEnterElements),Y=new Map;let ge=0;q.forEach((rt,yt)=>{const Rt=SA+ge++;Y.set(yt,Rt),rt.forEach(sn=>aa(sn,Rt))});const Ne=[],at=new Set,mt=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const yt=this.collectedLeaveElements[rt],Rt=yt[oa];Rt&&Rt.setForRemoval&&(Ne.push(yt),at.add(yt),Rt.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(sn=>at.add(sn)):mt.add(yt))}const Pt=new Map,ft=eN(V,Array.from(at));ft.forEach((rt,yt)=>{const Rt=NI+ge++;Pt.set(yt,Rt),rt.forEach(sn=>aa(sn,Rt))}),e.push(()=>{q.forEach((rt,yt)=>{const Rt=Y.get(yt);rt.forEach(sn=>Sy(sn,Rt))}),ft.forEach((rt,yt)=>{const Rt=Pt.get(yt);rt.forEach(sn=>Sy(sn,Rt))}),Ne.forEach(rt=>{this.processLeaveNode(rt)})});const hn=[],dr=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(t).forEach(Rt=>{const sn=Rt.player,mi=Rt.element;if(hn.push(sn),this.collectedEnterElements.length){const Tl=mi[oa];if(Tl&&Tl.setForMove)return void sn.destroy()}const Dl=!O||!this.driver.containsElement(O,mi),Ao=Pt.get(mi),Xh=Y.get(mi),hr=this._buildInstruction(Rt,r,Xh,Ao,Dl);if(hr.errors&&hr.errors.length)dr.push(hr);else{if(Dl)return sn.onStart(()=>vg(mi,hr.fromStyles)),sn.onDestroy(()=>Il(mi,hr.toStyles)),void o.push(sn);if(Rt.isFallbackTransition)return sn.onStart(()=>vg(mi,hr.fromStyles)),sn.onDestroy(()=>Il(mi,hr.toStyles)),void o.push(sn);hr.timelines.forEach(Tl=>Tl.stretchStartingKeyframe=!0),r.append(mi,hr.timelines),d.push({instruction:hr,player:sn,element:mi}),hr.queriedElements.forEach(Tl=>To(m,Tl,[]).push(sn)),hr.preStyleProps.forEach((Tl,_0)=>{const KI=Object.keys(Tl);if(KI.length){let bg=E.get(_0);bg||E.set(_0,bg=new Set),KI.forEach(KA=>bg.add(KA))}}),hr.postStyleProps.forEach((Tl,_0)=>{const KI=Object.keys(Tl);let bg=D.get(_0);bg||D.set(_0,bg=new Set),KI.forEach(KA=>bg.add(KA))})}});if(dr.length){const rt=[];dr.forEach(yt=>{rt.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Rt=>rt.push(`- ${Rt}\n`))}),hn.forEach(yt=>yt.destroy()),this.reportError(rt)}const Br=new Map,Qc=new Map;d.forEach(rt=>{const yt=rt.element;r.has(yt)&&(Qc.set(yt,yt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Br))}),o.forEach(rt=>{const yt=rt.element;this._getPreviousPlayers(yt,!1,rt.namespaceId,rt.triggerName,null).forEach(sn=>{To(Br,yt,[]).push(sn),sn.destroy()})});const Jc=Ne.filter(rt=>nN(rt,E,D)),Xc=new Map;XR(Xc,this.driver,mt,D,Yc).forEach(rt=>{nN(rt,E,D)&&Jc.push(rt)});const y0=new Map;q.forEach((rt,yt)=>{XR(y0,this.driver,new Set(rt),E,"!")}),Jc.forEach(rt=>{const yt=Xc.get(rt),Rt=y0.get(rt);Xc.set(rt,Object.assign(Object.assign({},yt),Rt))});const wg=[],IN=[],DN={};d.forEach(rt=>{const{element:yt,player:Rt,instruction:sn}=rt;if(r.has(yt)){if(S.has(yt))return Rt.onDestroy(()=>Il(yt,sn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(sn.totalTime),void o.push(Rt);let mi=DN;if(Qc.size>1){let Ao=yt;const Xh=[];for(;Ao=Ao.parentNode;){const hr=Qc.get(Ao);if(hr){mi=hr;break}Xh.push(Ao)}Xh.forEach(hr=>Qc.set(hr,mi))}const Dl=this._buildAnimation(Rt.namespaceId,sn,Br,u,y0,Xc);if(Rt.setRealPlayer(Dl),mi===DN)wg.push(Rt);else{const Ao=this.playersByElement.get(mi);Ao&&Ao.length&&(Rt.parentPlayer=Qh(Ao)),o.push(Rt)}}else vg(yt,sn.fromStyles),Rt.onDestroy(()=>Il(yt,sn.toStyles)),IN.push(Rt),S.has(yt)&&o.push(Rt)}),IN.forEach(rt=>{const yt=u.get(rt.element);if(yt&&yt.length){const Rt=Qh(yt);rt.setRealPlayer(Rt)}}),o.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<Ne.length;rt++){const yt=Ne[rt],Rt=yt[oa];if(Sy(yt,NI),Rt&&Rt.hasAnimation)continue;let sn=[];if(m.size){let Dl=m.get(yt);Dl&&Dl.length&&sn.push(...Dl);let Ao=this.driver.query(yt,MA,!0);for(let Xh=0;Xh<Ao.length;Xh++){let hr=m.get(Ao[Xh]);hr&&hr.length&&sn.push(...hr)}}const mi=sn.filter(Dl=>!Dl.destroyed);mi.length?qk(this,yt,mi):this.processLeaveNode(yt)}return Ne.length=0,wg.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const yt=this.players.indexOf(rt);this.players.splice(yt,1)}),rt.play()}),wg}elementContainsData(e,t){let r=!1;const o=t[oa];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,u){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const E=!u||u==m0;m.forEach(D=>{D.queued||!E&&D.triggerName!=o||d.push(D)})}}return(r||o)&&(d=d.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),d}_beforeAnimationBuild(e,t,r){const u=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const D=E.element,S=D!==u,O=To(r,D,[]);this._getPreviousPlayers(D,S,d,m,t.toState).forEach(q=>{const Y=q.getRealPlayer();Y.beforeDestroy&&Y.beforeDestroy(),q.destroy(),O.push(q)})}vg(u,t.fromStyles)}_buildAnimation(e,t,r,o,u,d){const m=t.triggerName,E=t.element,D=[],S=new Set,O=new Set,V=t.timelines.map(Y=>{const ge=Y.element;S.add(ge);const Ne=ge[oa];if(Ne&&Ne.removedBeforeQueried)return new Cy(Y.duration,Y.delay);const at=ge!==E,mt=function(n){const e=[];return tN(n,e),e}((r.get(ge)||Vk).map(Br=>Br.getRealPlayer())).filter(Br=>!!Br.element&&Br.element===ge),Pt=u.get(ge),ft=d.get(ge),hn=MR(0,this._normalizer,0,Y.keyframes,Pt,ft),dr=this._buildPlayer(Y,hn,mt);if(Y.subTimeline&&o&&O.add(ge),at){const Br=new GA(e,m,ge);Br.setRealPlayer(dr),D.push(Br)}return dr});D.forEach(Y=>{To(this.playersByQueriedElement,Y.element,[]).push(Y),Y.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Y.element,Y))}),S.forEach(Y=>aa(Y,FR));const q=Qh(V);return q.onDestroy(()=>{S.forEach(Y=>Sy(Y,FR)),Il(E,t.toStyles)}),O.forEach(Y=>{To(o,Y,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Cy(e.duration,e.delay)}}class GA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Cy,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>EA(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){To(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GI(n){return n&&1===n.nodeType}function JR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function XR(n,e,t,r,o){const u=[];t.forEach(E=>u.push(JR(E)));const d=[];r.forEach((E,D)=>{const S={};E.forEach(O=>{const V=S[O]=e.computeStyle(D,O,o);(!V||0==V.length)&&(D[oa]=Uk,d.push(D))}),n.set(D,S)});let m=0;return t.forEach(E=>JR(E,u[m++])),d}function eN(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const o=new Set(e),u=new Map;function d(m){if(!m)return 1;let E=u.get(m);if(E)return E;const D=m.parentNode;return E=t.has(D)?D:o.has(D)?1:d(D),u.set(m,E),E}return e.forEach(m=>{const E=d(m);1!==E&&t.get(E).push(m)}),t}function aa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Sy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function qk(n,e,t){Qh(t).onDone(()=>n.processLeaveNode(e))}function tN(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof IR?tN(r.players,e):e.push(r)}}function nN(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(u=>o.add(u)):e.set(n,r),t.delete(n),!0}class qI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,u)=>{},this._transitionEngine=new jk(e,t,r),this._timelineEngine=new xk(e,t,r),this._transitionEngine.onRemovalComplete=(o,u)=>this.onRemovalComplete(o,u)}registerTrigger(e,t,r,o,u){const d=e+"-"+o;let m=this._triggerCache[d];if(!m){const E=[],D=PA(this._driver,u,E);if(E.length)throw new Error(`The animation trigger "${o}" has failed to build due to the following errors:\n - ${E.join("\n - ")}`);m=function(n,e,t){return new Rk(n,e,t)}(o,D,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,o,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[u,d]=RR(r);this._timelineEngine.command(u,t,d,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,u){if("@"==r.charAt(0)){const[d,m]=RR(r);return this._timelineEngine.listen(d,t,m,u)}return this._transitionEngine.listen(e,t,r,o,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function rN(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qA(e[0]),e.length>1&&(r=qA(e[e.length-1]))):e&&(t=qA(e)),t||r?new Kk(n,t,r):null}let Kk=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Il(this._element,this._initialStyles),this._endStyles&&(Il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(vg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(vg(this._element,this._endStyles),this._endStyles=null),Il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qA(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];Zk(o)&&(e=e||{},e[o]=n[o])}return e}function Zk(n){return"display"===n||"position"===n}const iN="animation",sN="animationend";class Jk{constructor(e,t,r,o,u,d,m){this._element=e,this._name=t,this._duration=r,this._delay=o,this._easing=u,this._fillMode=d,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=E=>this._handleCallback(E)}apply(){(function(n,e){const t=WA(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),zI(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uN(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){oN(this._element,this._name,"paused")}resume(){oN(this._element,this._name,"running")}setPosition(e){const t=aN(this._element,this._name);this._position=e*this._duration,zI(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uN(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=WA(n,"").split(","),o=zA(r,e);o>=0&&(r.splice(o,1),zI(n,"",r.join(",")))}(this._element,this._name))}}function oN(n,e,t){zI(n,"PlayState",t,aN(n,e))}function aN(n,e){const t=WA(n,"");return t.indexOf(",")>0?zA(t.split(","),e):zA([t],e)}function zA(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function uN(n,e,t){t?n.removeEventListener(sN,e):n.addEventListener(sN,e)}function zI(n,e,t,r){const o=iN+e;if(null!=r){const u=n.style[o];if(u.length){const d=u.split(",");d[r]=t,t=d.join(",")}}n.style[o]=t}function WA(n,e){return n.style[iN+e]||""}class lN{constructor(e,t,r,o,u,d,m,E){this.element=e,this.keyframes=t,this.animationName=r,this._duration=o,this._delay=u,this._finalStyles=m,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=o+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Jk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:xA(this.element,r))})}this.currentSnapshot=e}}class i1 extends Cy{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=xR(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class dN{constructor(){this._count=0}validateStyleProperty(e){return DA(e)}matchesElement(e,t){return!1}containsElement(e,t){return TA(e,t)}query(e,t,r){return CA(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(m=>xR(m));let o=`@keyframes ${t} {\n`,u="";r.forEach(m=>{u=" ";const E=parseFloat(m.offset);o+=`${u}${100*E}% {\n`,u+=" ",Object.keys(m).forEach(D=>{const S=m[D];switch(D){case"offset":return;case"easing":return void(S&&(o+=`${u}animation-timing-function: ${S};\n`));default:return void(o+=`${u}${D}: ${S};\n`)}}),o+=`${u}}\n`}),o+="}\n";const d=document.createElement("style");return d.textContent=o,d}animate(e,t,r,o,u,d=[],m){const E=d.filter(Ne=>Ne instanceof lN),D={};jR(r,o)&&E.forEach(Ne=>{let at=Ne.currentSnapshot;Object.keys(at).forEach(mt=>D[mt]=at[mt])});const S=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(o=>{"offset"==o||"easing"==o||(e[o]=r[o])})}),e}(t=$R(e,t,D));if(0==r)return new i1(e,S);const O="gen_css_kf_"+this._count++,V=this.buildKeyframeElement(e,O,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(V);const Y=rN(e,t),ge=new lN(e,t,O,r,o,u,S,Y);return ge.onDestroy(()=>function(n){n.parentNode.removeChild(n)}(V)),ge}}class fN{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:xA(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class l1{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pN().toString()),this._cssKeyframesDriver=new dN}validateStyleProperty(e){return DA(e)}matchesElement(e,t){return!1}containsElement(e,t){return TA(e,t)}query(e,t,r){return CA(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,o,u,d=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,o,u,d);const S={duration:r,delay:o,fill:0==o?"both":"forwards"};u&&(S.easing=u);const O={},V=d.filter(Y=>Y instanceof fN);jR(r,o)&&V.forEach(Y=>{let ge=Y.currentSnapshot;Object.keys(ge).forEach(Ne=>O[Ne]=ge[Ne])});const q=rN(e,t=$R(e,t=t.map(Y=>Jh(Y,!1)),O));return new fN(e,t,S,q)}}function pN(){return SR()&&Element.prototype.animate||{}}let d1=(()=>{class n extends _R{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?ER(t):t;return gN(this._renderer,null,r,"register",[o]),new h1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class h1 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new f1(this._id,e,t||{},this._renderer)}}class f1{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return gN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function gN(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const mN="@.disabled";let p1=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,d)=>{const m=null==d?void 0:d.parentNode(u);m&&d.removeChild(m,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new yN("",u,this.engine),this._rendererCache.set(u,S)),S}const d=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=S=>{Array.isArray(S)?S.forEach(E):this.engine.registerTrigger(d,m,t,S.name,S)};return r.data.animation.forEach(E),new g1(this,m,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,m]=u;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(qI),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class yN{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==mN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class g1 extends yN{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==mN?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,o,u,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let _1=(()=>{class n extends qI{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re),f.LFG(AA),f.LFG(UA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const _N=new f.OlP("AnimationModuleType"),vN=[{provide:_R,useClass:d1},{provide:UA,useFactory:function(){return new Dk}},{provide:qI,useClass:_1},{provide:f.FYo,useFactory:function(n,e,t){return new p1(n,e,t)},deps:[as,qI,f.R0b]}],EN=[{provide:AA,useFactory:function(){return"function"==typeof pN()?new l1:new dN}},{provide:_N,useValue:"BrowserAnimations"},...vN],b1=[{provide:AA,useClass:PR},{provide:_N,useValue:"NoopAnimations"},...vN];let I1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?b1:EN}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:EN,imports:[Fo]}),n})(),D1=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1"]],template:function(t,r){1&t&&(f.TgZ(0,"nav",0),f.TgZ(1,"div",1),f.TgZ(2,"span",2),f._uU(3,"APP Empleados"),f.qZA(),f.qZA(),f.qZA())},styles:[""]}),n})(),T1=(()=>{class n{constructor(){this.title="empleados"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(f._UZ(0,"app-navbar"),f._UZ(1,"router-outlet"))},directives:[D1,Ad],styles:[""]}),n})();const wN_firebase={apiKey:"AIzaSyALIQbH3GvyKxJSx5mm-5suHjBaTuNxf5s",authDomain:"empleados-81660.firebaseapp.com",projectId:"empleados-81660",storageBucket:"empleados-81660.appspot.com",messagingSenderId:"760436724533",appId:"1:760436724533:web:549ae7d488e499cc5b727c"};let C1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[T1]}),n.\u0275inj=f.cJS({providers:[],imports:[[Fo,QP,ci.hO.initializeApp(wN_firebase),yP,hm,$P.forRoot(),I1]]}),n})();(0,f.G48)(),ko().bootstrapModule(C1).catch(n=>console.error(n))},5867:(it,De,P)=>{"use strict";P.d(De,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=P(9681);(0,f.registerVersion)("firebase","9.6.1","app")},127:(it,De,P)=>{"use strict";P.d(De,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.6.1","app-compat")},9259:(it,De,P)=>{"use strict";P.r(De);var f=P(5861),Q=P(3942),x=P(2090),ae=P(9681);function ie(y,h){var p={};for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&h.indexOf(v)<0&&(p[v]=y[v]);if(null!=y&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(v=Object.getOwnPropertySymbols(y);C<v.length;C++)h.indexOf(v[C])<0&&Object.prototype.propertyIsEnumerable.call(y,v[C])&&(p[v[C]]=y[v[C]])}return p}var xe=P(1877),de=P(4859);const Ir=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},jr=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},an=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dn=new xe.Yd("@firebase/auth");function yi(y,...h){Dn.logLevel<=xe.in.ERROR&&Dn.error(`Auth (${ae.SDK_VERSION}): ${y}`,...h)}function Vt(y,...h){throw Fi(y,...h)}function wn(y,...h){return Fi(y,...h)}function So(y,h,p){const v=Object.assign(Object.assign({},jr()),{[h]:p});return new x.LL("auth","Firebase",v).create(h,{appName:y.name})}function _i(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Vt(y,"argument-error"),So(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fi(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return an.create(y,...h)}function Ce(y,h,...p){if(!y)throw Fi(h,...p)}function zn(y){const h="INTERNAL ASSERTION FAILED: "+y;throw yi(h),new Error(h)}function Fn(y,h){y||zn(h)}const pt=new Map;function $t(y){Fn(y instanceof Function,"Expected a class definition");let h=pt.get(y);return h?(Fn(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,pt.set(y,h),h)}function lt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function gt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class qt{constructor(h,p){this.shortDelay=h,this.longDelay=p,Fn(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,x.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ze(y,h){Fn(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class ut{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},As=new qt(3e4,6e4);function zt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function vt(y,h,p,v){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(y,h,p,v,C={}){return Al(y,C,(0,f.Z)(function*(){let M={},U={};v&&("GET"===h?U=v:M={body:JSON.stringify(v)});const X=(0,x.xO)(Object.assign({key:y.config.apiKey},U)).slice(1),Oe=yield y._getAdditionalHeaders();return Oe["Content-Type"]="application/json",y.languageCode&&(Oe["X-Firebase-Locale"]=y.languageCode),ut.fetch()(_e(y,y.config.apiHost,p,X),Object.assign({method:h,headers:Oe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Al(y,h,p){return H.apply(this,arguments)}function H(){return(H=(0,f.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Cl),h);try{const C=new te(y),M=yield Promise.race([p(),C.promise]);C.clearNetworkTimeout();const U=yield M.json();if("needConfirmation"in U)throw We(y,"account-exists-with-different-credential",U);if(M.ok&&!("errorMessage"in U))return U;{const X=M.ok?U.errorMessage:U.error.message,[Oe,Me]=X.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw We(y,"credential-already-in-use",U);if("EMAIL_EXISTS"===Oe)throw We(y,"email-already-in-use",U);const Je=v[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Me)throw So(y,Je,Me);Vt(y,Je)}}catch(C){if(C instanceof x.ZR)throw C;Vt(y,"network-request-failed")}})).apply(this,arguments)}function L(y,h,p,v){return G.apply(this,arguments)}function G(){return(G=(0,f.Z)(function*(y,h,p,v,C={}){const M=yield vt(y,h,p,v,C);return"mfaPendingCredential"in M&&Vt(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function _e(y,h,p,v){const C=`${h}${p}?${v}`;return y.config.emulator?ze(y.config,C):`${y.config.apiScheme}://${C}`}class te{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(wn(this.auth,"timeout")),As.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function We(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const C=wn(y,h,v);return C.customData._tokenResponse=p,C}function Wt(){return(Wt=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function nr(y,h){return bn.apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Gr(y,h){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function rr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function ca(){return(ca=(0,f.Z)(function*(y,h=!1){const p=(0,x.m9)(y),v=yield p.getIdToken(h),C=Js(v);Ce(C&&C.exp&&C.auth_time&&C.iat,p.auth,"internal-error");const M="object"==typeof C.firebase?C.firebase:void 0,U=null==M?void 0:M.sign_in_provider;return{claims:C,token:v,authTime:rr(vu(C.auth_time)),issuedAtTime:rr(vu(C.iat)),expirationTime:rr(vu(C.exp)),signInProvider:U||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function vu(y){return 1e3*Number(y)}function Js(y){const[h,p,v]=y.split(".");if(void 0===h||void 0===p||void 0===v)return yi("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,x.tV)(p);return C?JSON.parse(C):(yi("Failed to decode base64 JWT payload"),null)}catch(C){return yi("Caught error parsing JWT payload as JSON",C),null}}function un(y,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof x.ZR&&ni(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function ni({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ir{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const C=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Eu{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function es(y){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),C=yield un(y,Gr(p,{idToken:v}));Ce(null==C?void 0:C.users.length,p,"internal-error");const M=C.users[0];y._notifyReloadListener(M);const U=(null===(h=M.providerUserInfo)||void 0===h?void 0:h.length)?ed(M.providerUserInfo):[],X=Mn(y.providerData,U),Je=!!y.isAnonymous&&!(y.email&&M.passwordHash||(null==X?void 0:X.length)),et={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:X,metadata:new Eu(M.createdAt,M.lastLoginAt),isAnonymous:Je};Object.assign(y,et)})).apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(y){const h=(0,x.m9)(y);yield es(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Mn(y,h){return[...y.filter(v=>!h.some(C=>C.providerId===v.providerId)),...h]}function ed(y){return y.map(h=>{var{providerId:p}=h,v=ie(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Be(){return(Be=(0,f.Z)(function*(y,h){const p=yield Al(y,{},(0,f.Z)(function*(){const v=(0,x.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:C,apiKey:M}=y.config,U=_e(y,C,"/v1/token",`key=${M}`),X=yield y._getAdditionalHeaders();return X["Content-Type"]="application/x-www-form-urlencoded",ut.fetch()(U,{method:"POST",headers:X,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ce(h.idToken,"internal-error"),Ce(void 0!==h.idToken,"internal-error"),Ce(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function(y){const h=Js(y);return Ce(h,"internal-error"),Ce(void 0!==h.exp,"internal-error"),Ce(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,f.Z)(function*(){return Ce(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,f.Z)(function*(){const{accessToken:C,refreshToken:M,expiresIn:U}=yield function(y,h){return Be.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(C,M,Number(U))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:C,expirationTime:M}=p,U=new Et;return v&&(Ce("string"==typeof v,"internal-error",{appName:h}),U.refreshToken=v),C&&(Ce("string"==typeof C,"internal-error",{appName:h}),U.accessToken=C),M&&(Ce("number"==typeof M,"internal-error",{appName:h}),U.expirationTime=M),U}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return zn("not implemented")}}function Gt(y,h){Ce("string"==typeof y||void 0===y,"internal-error",{appName:h})}class Tn{constructor(h){var{uid:p,auth:v,stsTokenManager:C}=h,M=ie(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.metadata=new Eu(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const v=yield un(p,p.stsTokenManager.getToken(p.auth,h));return Ce(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function(y){return ca.apply(this,arguments)}(this,h)}reload(){return function(y){return ts.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ce(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Tn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,f.Z)(function*(){let C=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),C=!0),p&&(yield es(v)),yield v.auth._persistUserIfCurrent(v),C&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield un(h,function(y,h){return Wt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,C,M,U,X,Oe,Me,Je;const et=null!==(v=p.displayName)&&void 0!==v?v:void 0,Ut=null!==(C=p.email)&&void 0!==C?C:void 0,En=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,js=null!==(U=p.photoURL)&&void 0!==U?U:void 0,$s=null!==(X=p.tenantId)&&void 0!==X?X:void 0,Bd=null!==(Oe=p._redirectEventId)&&void 0!==Oe?Oe:void 0,jd=null!==(Me=p.createdAt)&&void 0!==Me?Me:void 0,Kg=null!==(Je=p.lastLoginAt)&&void 0!==Je?Je:void 0,{uid:el,emailVerified:Zg,isAnonymous:$d,providerData:Hd,stsTokenManager:Wf}=p;Ce(el&&Wf,h,"internal-error");const Kf=Et.fromJSON(this.name,Wf);Ce("string"==typeof el,h,"internal-error"),Gt(et,h.name),Gt(Ut,h.name),Ce("boolean"==typeof Zg,h,"internal-error"),Ce("boolean"==typeof $d,h,"internal-error"),Gt(En,h.name),Gt(js,h.name),Gt($s,h.name),Gt(Bd,h.name),Gt(jd,h.name),Gt(Kg,h.name);const tl=new Tn({uid:el,auth:h,email:Ut,emailVerified:Zg,displayName:et,isAnonymous:$d,photoURL:js,phoneNumber:En,tenantId:$s,stsTokenManager:Kf,createdAt:jd,lastLoginAt:Kg});return Hd&&Array.isArray(Hd)&&(tl.providerData=Hd.map(Gd=>Object.assign({},Gd))),Bd&&(tl._redirectEventId=Bd),tl}static _fromIdTokenResponse(h,p,v=!1){return(0,f.Z)(function*(){const C=new Et;C.updateFromServerResponse(p);const M=new Tn({uid:p.localId,auth:h,stsTokenManager:C,isAnonymous:v});return yield es(M),M})()}}const mn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,v){var C=this;return(0,f.Z)(function*(){C.storage[p]=v})()}_get(p){var v=this;return(0,f.Z)(function*(){const C=v.storage[p];return void 0===C?null:C})()}_remove(p){var v=this;return(0,f.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function Wn(y,h,p){return`firebase:${y}:${h}:${p}`}class en{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:C,name:M}=this.auth;this.fullUserKey=Wn(this.userKey,C.apiKey,M),this.fullPersistenceKey=Wn("persistence",C.apiKey,M),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Tn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,f.Z)(function*(){if(!p.length)return new en($t(mn),h,v);const C=(yield Promise.all(p.map(function(){var Me=(0,f.Z)(function*(Je){if(yield Je._isAvailable())return Je});return function(Je){return Me.apply(this,arguments)}}()))).filter(Me=>Me);let M=C[0]||$t(mn);const U=Wn(v,h.config.apiKey,h.name);let X=null;for(const Me of p)try{const Je=yield Me._get(U);if(Je){const et=Tn._fromJSON(h,Je);Me!==M&&(X=et),M=Me;break}}catch(Je){}const Oe=C.filter(Me=>Me._shouldAllowMigration);return M._shouldAllowMigration&&Oe.length?(M=Oe[0],X&&(yield M._set(U,X.toJSON())),yield Promise.all(p.map(function(){var Me=(0,f.Z)(function*(Je){if(Je!==M)try{yield Je._remove(U)}catch(et){}});return function(Je){return Me.apply(this,arguments)}}())),new en(M,h,v)):new en(M,h,v)})()}}function Ln(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ms(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Mo(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Li(h))return"Blackberry";if(fr(h))return"Webos";if(wt(h))return"Safari";if((h.includes("chrome/")||da(h))&&!h.includes("edge/"))return"Chrome";if(eo(h))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function Mo(y=(0,x.z$)()){return/firefox\//i.test(y)}function wt(y=(0,x.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function da(y=(0,x.z$)()){return/crios\//i.test(y)}function Ms(y=(0,x.z$)()){return/iemobile/i.test(y)}function eo(y=(0,x.z$)()){return/android/i.test(y)}function Li(y=(0,x.z$)()){return/blackberry/i.test(y)}function fr(y=(0,x.z$)()){return/webos/i.test(y)}function ns(y=(0,x.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ro(y=(0,x.z$)()){return ns(y)||eo(y)||fr(y)||Li(y)||/windows phone/i.test(y)||Ms(y)}function Vi(y,h=[]){let p;switch(y){case"Browser":p=Ln((0,x.z$)());break;case"Worker":p=`${Ln((0,x.z$)())}-${y}`;break;default:p=y}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ae.SDK_VERSION}/${v}`}class Ui{constructor(h,p){this.app=h,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rs(this),this.idTokenSubscription=new rs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=an,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=$t(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var C,M;if(!v._deleted&&(v.persistenceManager=yield en.create(v,h),!v._deleted)){if(null===(C=v._popupRedirectResolver)||void 0===C?void 0:C._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(U){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var v;let C=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const M=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,U=null==C?void 0:C._redirectEventId,X=yield p.tryRedirectSignIn(h);(!M||M===U)&&(null==X?void 0:X.user)&&(C=X.user)}return C?C._redirectEventId?(Ce(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===C._redirectEventId?p.directlySetCurrentUser(C):p.reloadAndSetCurrentUserOrClear(C)):p.reloadAndSetCurrentUserOrClear(C):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(C){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){try{yield es(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const v=h?(0,x.m9)(h):null;return v&&Ce(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){if(!p._deleted)return h&&Ce(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,f.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence($t(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new x.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,f.Z)(function*(){const C=yield v.getOrInitRedirectPersistenceManager(p);return null===h?C.removeCurrentUser():C.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&$t(h)||p._popupRedirectResolver;Ce(v,p,"argument-error"),p.redirectPersistenceManager=yield en.create(p,[$t(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var v,C;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,C){if(this._deleted)return()=>{};const M="function"==typeof p?p:p.next.bind(p),U=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(U,this,"internal-error"),U.then(()=>M(this.currentUser)),"function"==typeof p?h.addObserver(p,v,C):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Vi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){const p={"X-Client-Version":h.clientVersion};return h.app.options.appId&&(p["X-Firebase-gmpid"]=h.app.options.appId),p})()}}function $n(y){return(0,x.m9)(y)}class rs{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,x.ne)(p=>this.observer=p)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function si(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Ig(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class No{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return zn("not implemented")}_getIdTokenResponse(h){return zn("not implemented")}_linkToIdToken(h,p){return zn("not implemented")}_getReauthenticationResolver(h){return zn("not implemented")}}function tf(y,h){return nd.apply(this,arguments)}function nd(){return(nd=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:resetPassword",zt(y,h))})).apply(this,arguments)}function nf(y,h){return rd.apply(this,arguments)}function rd(){return(rd=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Dg(y,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:update",zt(y,h))})).apply(this,arguments)}function id(){return(id=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithPassword",zt(y,h))})).apply(this,arguments)}function Rl(y,h){return sd.apply(this,arguments)}function sd(){return(sd=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:sendOobCode",zt(y,h))})).apply(this,arguments)}function Tg(y,h){return od.apply(this,arguments)}function od(){return(od=(0,f.Z)(function*(y,h){return Rl(y,h)})).apply(this,arguments)}function Cg(y,h){return rf.apply(this,arguments)}function rf(){return(rf=(0,f.Z)(function*(y,h){return Rl(y,h)})).apply(this,arguments)}function bu(y,h){return fa.apply(this,arguments)}function fa(){return(fa=(0,f.Z)(function*(y,h){return Rl(y,h)})).apply(this,arguments)}function Nl(y,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,f.Z)(function*(y,h){return Rl(y,h)})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithEmailLink",zt(y,h))})).apply(this,arguments)}class xo extends No{constructor(h,p,v,C=null){super("password",v),this._email=h,this._password=p,this._tenantId=C}static _fromEmailAndPassword(h,p){return new xo(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new xo(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function(y,h){return id.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(y,h){return Ii.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Vt(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return nf(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(y,h){return Rs.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:Vt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ns(y,h){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithIdp",zt(y,h))})).apply(this,arguments)}class sr extends No{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new sr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Vt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:C}=p,M=ie(p,["providerId","signInMethod"]);if(!v||!C)return null;const U=new sr(v,C);return U.idToken=M.idToken||void 0,U.accessToken=M.accessToken||void 0,U.secret=M.secret,U.nonce=M.nonce,U.pendingToken=M.pendingToken||null,U}_getIdTokenResponse(h){return Ns(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Ns(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ns(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,x.xO)(p)}return h}}function is(y,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:sendVerificationCode",zt(y,h))})).apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,h))})).apply(this,arguments)}function xl(){return(xl=(0,f.Z)(function*(y,h){const p=yield L(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,h));if(p.temporaryProof)throw We(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Du={USER_NOT_FOUND:"user-not-found"};function ga(){return(ga=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithPhoneNumber",zt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Du)})).apply(this,arguments)}class to extends No{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new to({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new to({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function(y,h){return pr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function(y,h){return xl.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function(y,h){return ga.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:C}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:C}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:C,temporaryProof:M}=h;return v||p||C||M?new to({verificationId:p,verificationCode:v,phoneNumber:C,temporaryProof:M}):null}}class no{constructor(h){var p,v,C,M,U,X;const Oe=(0,x.zd)((0,x.pd)(h)),Me=null!==(p=Oe.apiKey)&&void 0!==p?p:null,Je=null!==(v=Oe.oobCode)&&void 0!==v?v:null,et=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=Oe.mode)&&void 0!==C?C:null);Ce(Me&&Je&&et,"argument-error"),this.apiKey=Me,this.operation=et,this.code=Je,this.continueUrl=null!==(M=Oe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(U=Oe.languageCode)&&void 0!==U?U:null,this.tenantId=null!==(X=Oe.tenantId)&&void 0!==X?X:null}static parseLink(h){const p=function(y){const h=(0,x.zd)((0,x.pd)(y)).link,p=h?(0,x.zd)((0,x.pd)(h)).deep_link_id:null,v=(0,x.zd)((0,x.pd)(y)).deep_link_id;return(v?(0,x.zd)((0,x.pd)(v)).link:null)||v||p||h||y}(h);try{return new no(p)}catch(v){return null}}}let ro=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return xo._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const C=no.parseLink(v);return Ce(C,"argument-error"),xo._fromEmailAndCode(p,C.code,C.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Tr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Di extends Tr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Nn extends Di{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ce("providerId"in p&&"signInMethod"in p,"argument-error"),sr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ce(h.idToken||h.accessToken,"argument-error"),sr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Nn.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Nn.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:C,pendingToken:M,nonce:U,providerId:X}=h;if(!v&&!C&&!p&&!M||!X)return null;try{return new Nn(X)._credential({idToken:p,accessToken:v,nonce:U,pendingToken:M})}catch(Oe){return null}}}let Tu=(()=>{class y extends Di{constructor(){super("facebook.com")}static credential(p){return sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),io=(()=>{class y extends Di{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:C}=p;if(!v&&!C)return null;try{return y.credential(v,C)}catch(M){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),so=(()=>{class y extends Di{constructor(){super("github.com")}static credential(p){return sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ss extends No{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Ns(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Ns(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ns(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:C,pendingToken:M}=p;return v&&C&&M&&v===C?new ss(v,M):null}static _create(h,p){return new ss(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends Tr{constructor(h){Ce(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return oo.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return oo.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=ss.fromJSON(h);return Ce(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return ss._create(v,p)}catch(C){return null}}}let Cr=(()=>{class y extends Di{constructor(){super("twitter.com")}static credential(p,v){return sr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:C}=p;if(!v||!C)return null;try{return y.credential(v,C)}catch(M){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ya(y,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signUp",zt(y,h))})).apply(this,arguments)}class Qe{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,C=!1){return(0,f.Z)(function*(){const M=yield Tn._fromIdTokenResponse(h,v,C),U=Cu(v);return new Qe({user:M,providerId:U,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const C=Cu(v);return new Qe({user:h,providerId:C,_tokenResponse:v,operationType:p})})()}}function Cu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Po(){return(Po=(0,f.Z)(function*(y){var h;const p=$n(y);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Qe({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield ya(p,{returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class va extends x.ZR{constructor(h,p,v,C){var M;super(p.code,p.message),this.operationType=v,this.user=C,Object.setPrototypeOf(this,va.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,C){return new va(h,p,v,C)}}function Au(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?va._fromErrorAndOperation(y,M,h,v):M})}function Su(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function be(){return(be=(0,f.Z)(function*(y,h){const p=(0,x.m9)(y);yield yn(!0,p,h);const{providerUserInfo:v}=yield nr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),C=Su(v||[]);return p.providerData=p.providerData.filter(M=>C.has(M.providerId)),C.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ot(y,h){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(y,h,p=!1){const v=yield un(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return Qe._forOperation(y,"link",v)})).apply(this,arguments)}function yn(y,h,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(y,h,p){yield es(h);const C=!1===y?"provider-already-linked":"no-such-provider";Ce(Su(h.providerData).has(p)===y,h.auth,C)})).apply(this,arguments)}function as(y,h){return or.apply(this,arguments)}function or(){return(or=(0,f.Z)(function*(y,h,p=!1){const{auth:v}=y,C="reauthenticate";try{const M=yield un(y,Au(v,C,h,y),p);Ce(M.idToken,v,"internal-error");const U=Js(M.idToken);Ce(U,v,"internal-error");const{sub:X}=U;return Ce(y.uid===X,v,"user-mismatch"),Qe._forOperation(y,C,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Vt(v,"user-mismatch"),M}})).apply(this,arguments)}function Mu(y,h){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(y,h,p=!1){const v="signIn",C=yield Au(y,v,h),M=yield Qe._fromIdTokenResponse(y,v,C);return p||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function kl(y,h){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,f.Z)(function*(y,h){return Mu($n(y),h)})).apply(this,arguments)}function wa(y,h){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(y,h){const p=(0,x.m9)(y);return yield yn(!1,p,h.providerId),Ot(p,h)})).apply(this,arguments)}function Kn(y,h){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,f.Z)(function*(y,h){return as((0,x.m9)(y),h)})).apply(this,arguments)}function ba(y,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(y,h){return L(y,"POST","/v1/accounts:signInWithCustomToken",zt(y,h))})).apply(this,arguments)}function Ia(){return(Ia=(0,f.Z)(function*(y,h){const p=$n(y),v=yield ba(p,{token:h,returnSecureToken:!0}),C=yield Qe._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(C.user),C})).apply(this,arguments)}class Da{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Ta._fromServerResponse(h,p):Vt(h,"internal-error")}}class Ta extends Da{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Ta(p)}}function Ru(y,h,p){var v;Ce((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),Ce(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ce(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ce(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ko(){return(ko=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y),C={requestType:"PASSWORD_RESET",email:h};p&&Ru(v,C,p),yield Cg(v,C)})).apply(this,arguments)}function Fo(){return(Fo=(0,f.Z)(function*(y,h,p){yield tf((0,x.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Ou(){return(Ou=(0,f.Z)(function*(y,h){yield Dg((0,x.m9)(y),{oobCode:h})})).apply(this,arguments)}function xu(y,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(y,h){const p=(0,x.m9)(y),v=yield tf(p,{oobCode:h}),C=v.requestType;switch(Ce(C,p,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(v.mfaInfo,p,"internal-error");default:Ce(v.email,p,"internal-error")}let M=null;return v.mfaInfo&&(M=Da._fromServerResponse($n(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:C}})).apply(this,arguments)}function Sa(){return(Sa=(0,f.Z)(function*(y,h){const{data:p}=yield xu((0,x.m9)(y),h);return p.email})).apply(this,arguments)}function Ma(){return(Ma=(0,f.Z)(function*(y,h,p){const v=$n(y),C=yield ya(v,{returnSecureToken:!0,email:h,password:p}),M=yield Qe._fromIdTokenResponse(v,"signIn",C);return yield v._updateCurrentUser(M.user),M})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y),C={requestType:"EMAIL_SIGNIN",email:h};Ce(p.handleCodeInApp,v,"argument-error"),p&&Ru(v,C,p),yield bu(v,C)})).apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y),C=ro.credentialWithLink(h,p||lt());return Ce(C._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),kl(v,C)})).apply(this,arguments)}function of(y,h){return af.apply(this,arguments)}function af(){return(af=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:createAuthUri",zt(y,h))})).apply(this,arguments)}function uf(){return(uf=(0,f.Z)(function*(y,h){const v={identifier:h,continueUri:gt()?lt():"http://localhost"},{signinMethods:C}=yield of((0,x.m9)(y),v);return C||[]})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(y,h){const p=(0,x.m9)(y),C={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&Ru(p.auth,C,h);const{email:M}=yield Tg(p.auth,C);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&Ru(v.auth,M,p);const{email:U}=yield Nl(v.auth,M);U!==y.email&&(yield y.reload())})).apply(this,arguments)}function gd(y,h){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function fn(){return(fn=(0,f.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,x.m9)(y),M={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},U=yield un(v,gd(v.auth,M));v.displayName=U.displayName||null,v.photoURL=U.photoUrl||null;const X=v.providerData.find(({providerId:Oe})=>"password"===Oe);X&&(X.displayName=v.displayName,X.photoURL=v.photoURL),yield v._updateTokensIfNecessary(U)})).apply(this,arguments)}function lf(y,h,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(y,h,p){const{auth:v}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(M.email=h),p&&(M.password=p);const U=yield un(y,nf(v,M));yield y._updateTokensIfNecessary(U,!0)})).apply(this,arguments)}class lo{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Fu extends lo{constructor(h,p,v,C){super(h,p,v),this.username=C}}class cf extends lo{constructor(h,p){super(h,"facebook.com",p)}}class My extends Fu{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class pn extends lo{constructor(h,p){super(h,"google.com",p)}}class co extends Fu{constructor(h,p,v){super(h,"twitter.com",p,v)}}function tt(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(y){var h,p;if(!y)return null;const{providerId:v}=y,C=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const U=null===(p=null===(h=Js(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(U)return new lo(M,"anonymous"!==U&&"custom"!==U?U:null)}if(!v)return null;switch(v){case"facebook.com":return new cf(M,C);case"github.com":return new My(M,C);case"google.com":return new pn(M,C);case"twitter.com":return new co(M,C,y.screenName||null);case"custom":case"anonymous":return new lo(M,null);default:return new lo(M,v,C)}}(p)}class Fs{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Fs("enroll",h)}static _fromMfaPendingCredential(h){return new Fs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Fs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return Fs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class us{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=$n(h),C=p.customData._serverResponse,M=(C.mfaInfo||[]).map(X=>Da._fromServerResponse(v,X));Ce(C.mfaPendingCredential,v,"internal-error");const U=Fs._fromMfaPendingCredential(C.mfaPendingCredential);return new us(U,M,function(){var X=(0,f.Z)(function*(Oe){const Me=yield Oe._process(v,U);delete C.mfaInfo,delete C.mfaPendingCredential;const Je=Object.assign(Object.assign({},C),{idToken:Me.idToken,refreshToken:Me.refreshToken});switch(p.operationType){case"signIn":const et=yield Qe._fromIdTokenResponse(v,p.operationType,Je);return yield v._updateCurrentUser(et.user),et;case"reauthenticate":return Ce(p.user,v,"internal-error"),Qe._forOperation(p.user,p.operationType,Je);default:Vt(v,"internal-error")}});return function(Oe){return X.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function df(y,h){return vt(y,"POST","/v2/accounts/mfaEnrollment:start",zt(y,h))}class Bo{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>Da._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Bo(h)}getSession(){var h=this;return(0,f.Z)(function*(){return Fs._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,f.Z)(function*(){const C=h,M=yield v.getSession(),U=yield un(v.user,C._process(v.user.auth,M,p));return yield v.user._updateTokensIfNecessary(U),v.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const v="string"==typeof h?h:h.uid,C=yield p.user.getIdToken(),M=yield un(p.user,function(y,h){return vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(y,h))}(p.user.auth,{idToken:C,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:U})=>U!==v),yield p.user._updateTokensIfNecessary(M);try{yield p.user.reload()}catch(U){if("auth/user-token-expired"!==U.code)throw U}})()}}const On=new WeakMap,ls="__sak";class yd{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ls,"1"),this.storage.removeItem(ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pa=(()=>{class y extends yd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,x.z$)();return wt(y)||ns(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ro(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const C=this.storage.getItem(v),M=this.localCache[v];C!==M&&p(v,M,C)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((X,Oe,Me)=>{this.notifyListeners(X,Me)});const C=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const X=this.storage.getItem(C);if(p.newValue!==X)null!==p.newValue?this.storage.setItem(C,p.newValue):this.storage.removeItem(C);else if(this.localCache[C]===p.newValue&&!v)return}const M=()=>{const X=this.storage.getItem(C);!v&&this.localCache[C]===X||this.notifyListeners(C,X)},U=this.storage.getItem(C);(0,x.w1)()&&10===document.documentMode&&U!==p.newValue&&p.newValue!==p.oldValue?setTimeout(M,10):M()}notifyListeners(p,v){this.localCache[p]=v;const C=this.listeners[p];if(C)for(const M of Array.from(C))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var C=()=>super._set,M=this;return(0,f.Z)(function*(){yield C().call(M,p,v),M.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,C=this;return(0,f.Z)(function*(){const M=yield v().call(C,p);return C.localCache[p]=JSON.stringify(M),M})()}_remove(p){var v=()=>super._remove,C=this;return(0,f.Z)(function*(){yield v().call(C,p),delete C.localCache[p]})()}}return y.type="LOCAL",y})(),Hn=(()=>{class y extends yd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let ka=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(M=>M.isListeningto(p));if(v)return v;const C=new y(p);return this.receivers.push(C),C}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,f.Z)(function*(){const C=p,{eventId:M,eventType:U,data:X}=C.data,Oe=v.handlersMap[U];if(!(null==Oe?void 0:Oe.size))return;C.ports[0].postMessage({status:"ack",eventId:M,eventType:U});const Me=Array.from(Oe).map(function(){var et=(0,f.Z)(function*(Ut){return Ut(C.origin,X)});return function(Ut){return et.apply(this,arguments)}}()),Je=yield function(y){return Promise.all(y.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Me);C.ports[0].postMessage({status:"done",eventId:M,eventType:U,response:Je})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function po(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}class Ar{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var C=this;return(0,f.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let U,X;return new Promise((Oe,Me)=>{const Je=po("",20);M.port1.start();const et=setTimeout(()=>{Me(new Error("unsupported_event"))},v);X={messageChannel:M,onMessage(Ut){const En=Ut;if(En.data.eventId===Je)switch(En.data.status){case"ack":clearTimeout(et),U=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(U),Oe(En.data.response);break;default:clearTimeout(et),clearTimeout(U),Me(new Error("invalid_response"))}}},C.handlers.add(X),M.port1.addEventListener("message",X.onMessage),C.target.postMessage({eventType:h,eventId:Je,data:p},[M.port2])}).finally(()=>{X&&C.removeMessageHandler(X)})})()}}function gn(){return window}function Vn(){return void 0!==gn().WorkerGlobalScope&&"function"==typeof gn().importScripts}function Si(){return(Si=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const qr="firebaseLocalStorageDb",cn="firebaseLocalStorage",ff="fbase_key";class cs{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function nn(y,h){return y.transaction([cn],h?"readwrite":"readonly").objectStore(cn)}function pf(){const y=indexedDB.open(qr,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(cn,{keyPath:ff})}catch(C){p(C)}}),y.addEventListener("success",(0,f.Z)(function*(){const v=y.result;v.objectStoreNames.contains(cn)?h(v):(v.close(),yield function(){const y=indexedDB.deleteDatabase(qr);return new cs(y).toPromise()}(),h(yield pf()))}))})}function gf(y,h,p){return mf.apply(this,arguments)}function mf(){return(mf=(0,f.Z)(function*(y,h,p){const v=nn(y,!0).put({[ff]:h,value:p});return new cs(v).toPromise()})).apply(this,arguments)}function Sr(){return(Sr=(0,f.Z)(function*(y,h){const p=nn(y,!1).get(h),v=yield new cs(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function _d(y,h){const p=nn(y,!0).delete(h);return new cs(p).toPromise()}const Us=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield pf()),p.db})()}_withRetries(p){var v=this;return(0,f.Z)(function*(){let C=0;for(;;)try{const M=yield v._openDb();return yield p(M)}catch(M){if(C++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return Vn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=ka._getInstance(Vn()?self:null),p.receiver._subscribe("keyChanged",function(){var v=(0,f.Z)(function*(C,M){return{keyProcessed:(yield p._poll()).includes(M.key)}});return function(C,M){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,f.Z)(function*(C,M){return["keyChanged"]});return function(C,M){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var v,C;if(p.activeServiceWorker=yield function(){return Si.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Ar(p.activeServiceWorker);const M=yield p.sender._send("ping",{},800);!M||(null===(v=M[0])||void 0===v?void 0:v.fulfilled)&&(null===(C=M[0])||void 0===C?void 0:C.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,f.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(C){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield pf();return yield gf(p,ls,"1"),yield _d(p,ls),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,f.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(M=>gf(M,p,v)),C.localCache[p]=v,C.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,f.Z)(function*(){const C=yield v._withRetries(M=>function(y,h){return Sr.apply(this,arguments)}(M,p));return v.localCache[p]=C,C})()}_remove(p){var v=this;return(0,f.Z)(function*(){return v._withPendingWrite((0,f.Z)(function*(){return yield v._withRetries(C=>_d(C,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const v=yield p._withRetries(U=>{const X=nn(U,!1).getAll();return new cs(X).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const C=[],M=new Set;for(const{fbase_key:U,value:X}of v)M.add(U),JSON.stringify(p.localCache[U])!==JSON.stringify(X)&&(p.notifyListeners(U,X),C.push(U));for(const U of Object.keys(p.localCache))p.localCache[U]&&!M.has(U)&&(p.notifyListeners(U,null),C.push(U));return C})()}notifyListeners(p,v){this.localCache[p]=v;const C=this.listeners[p];if(C)for(const M of Array.from(C))M(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function La(y,h){return vt(y,"POST","/v2/accounts/mfaSignIn:start",zt(y,h))}function zr(){return(zr=(0,f.Z)(function*(y){return(yield vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $l(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=C=>{const M=wn("internal-error");M.customData=C,p(M)},v.type="text/javascript",v.charset="UTF-8",function(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}function $o(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Va=1e12;class Hl{constructor(h){this.auth=h,this.counter=Va,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new _f(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||Va;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Va))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var v;return null===(v=p._widgets.get(h||Va))||void 0===v||v.execute(),""})()}}class _f{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof h?document.getElementById(h):h;Ce(C,"argument-error",{appName:p}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<50;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}();const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bt=$o("rcb"),gr=new qt(3e4,6e4);class Go{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gn().grecaptcha}load(h,p=""){return Ce((y=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(gn().grecaptcha):new Promise((v,C)=>{const M=gn().setTimeout(()=>{C(wn(h,"network-request-failed"))},gr.get());gn()[bt]=()=>{gn().clearTimeout(M),delete gn()[bt];const X=gn().grecaptcha;if(!X)return void C(wn(h,"internal-error"));const Oe=X.render;X.render=(Me,Je)=>{const et=Oe(Me,Je);return this.counter++,et},this.hostLanguage=p,v(X)},$l(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:bt,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(M),C(wn(h,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!gn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ef{load(h){return(0,f.Z)(function*(){return new Hl(h)})()}clearedOneInstance(){}}const wd="recaptcha",wf={theme:"light",type:"image"};class mr{constructor(h,p=Object.assign({},wf),v){this.parameters=p,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(v),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof h?document.getElementById(h):h;Ce(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ef:new Go,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(M=>{const U=X=>{!X||(h.tokenChangeListeners.delete(U),M(X))};h.tokenChangeListeners.add(U),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=gn()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){Ce(gt()&&!Vn(),h.auth,"internal-error"),yield function(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function(y){return zr.apply(this,arguments)}(h.auth);Ce(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ju{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=to._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function qi(){return(qi=(0,f.Z)(function*(y,h,p){const v=$n(y),C=yield ds(v,h,(0,x.m9)(p));return new ju(C,M=>kl(v,M))})).apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y);yield yn(!1,v,"phone");const C=yield ds(v.auth,h,(0,x.m9)(p));return new ju(C,M=>wa(v,M))})).apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y),C=yield ds(v.auth,h,(0,x.m9)(p));return new ju(C,M=>Kn(v,M))})).apply(this,arguments)}function ds(y,h,p){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,f.Z)(function*(y,h,p){var v;const C=yield p.verify();try{let M;if(Ce("string"==typeof C,y,"argument-error"),Ce(p.type===wd,y,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const U=M.session;if("phoneNumber"in M)return Ce("enroll"===U.type,y,"internal-error"),(yield df(y,{idToken:U.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{Ce("signin"===U.type,y,"internal-error");const X=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return Ce(X,y,"missing-multi-factor-info"),(yield La(y,{mfaPendingCredential:U.credential,mfaEnrollmentId:X,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:U}=yield is(y,{phoneNumber:M.phoneNumber,recaptchaToken:C});return U}}finally{p._reset()}})).apply(this,arguments)}function Wl(){return(Wl=(0,f.Z)(function*(y,h){yield Ot((0,x.m9)(y),h)})).apply(this,arguments)}let I=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=$n(p)}verifyPhoneNumber(p,v){return ds(this.auth,p,(0,x.m9)(v))}static credential(p,v){return to._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:C}=p;return v&&C?to._fromTokenResponse(v,C):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function T(y,h){return h?$t(h):(Ce(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class N extends No{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ns(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ns(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ns(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function F(y){return Mu(y.auth,new N(y),y.bypassAuthState)}function W(y){const{auth:h,user:p}=y;return Ce(p,h,"internal-error"),as(p,new N(y),y.bypassAuthState)}function z(y){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(y){const{auth:h,user:p}=y;return Ce(p,h,"internal-error"),Ot(p,new N(y),y.bypassAuthState)})).apply(this,arguments)}class Ze{constructor(h,p,v,C,M=!1){this.auth=h,this.resolver=v,this.user=C,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(v,C){h.pendingPromise={resolve:v,reject:C};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(v,C){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:C,postBody:M,tenantId:U,error:X,type:Oe}=h;if(X)return void p.reject(X);const Me={auth:p.auth,requestUri:v,sessionId:C,tenantId:U||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Oe)(Me))}catch(Je){p.reject(Je)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return F;case"linkViaPopup":case"linkViaRedirect":return z;case"reauthViaPopup":case"reauthViaRedirect":return W;default:Vt(this.auth,"internal-error")}}resolve(h){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const je=new qt(2e3,1e4);function Zt(){return(Zt=(0,f.Z)(function*(y,h,p){const v=$n(y);_i(y,h,Tr);const C=T(v,p);return new mo(v,"signInViaPopup",h,C).executeNotNull()})).apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y);_i(v.auth,h,Tr);const C=T(v.auth,p);return new mo(v.auth,"reauthViaPopup",h,C,v).executeNotNull()})).apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y);_i(v.auth,h,Tr);const C=T(v.auth,p);return new mo(v.auth,"linkViaPopup",h,C,v).executeNotNull()})).apply(this,arguments)}let mo=(()=>{class y extends Ze{constructor(p,v,C,M,U){super(p,v,M,U),this.provider=C,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const v=yield p.execute();return Ce(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,f.Z)(function*(){Fn(1===p.filter.length,"Popup operations only handle one event");const v=po();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(C=>{p.reject(C)}),p.resolver._isIframeWebStorageSupported(p.auth,C=>{C||p.reject(wn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,C;this.pollId=(null===(C=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===C?void 0:C.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,je.get())};p()}}return y.currentPopupAction=null,y})();const zi=new Map;class hs extends Ze{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let v=zi.get(p.auth._key());if(!v){try{const M=(yield function(y,h){return Ua.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(M)}catch(C){v=()=>Promise.reject(C)}zi.set(p.auth._key(),v)}return p.bypassAuthState||zi.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const C=yield v.auth._redirectUserForId(h.eventId);if(C)return v.user=C,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Ua(){return(Ua=(0,f.Z)(function*(y,h){const p=_o(h),v=Ba(y);if(!(yield v._isAvailable()))return!1;const C="true"===(yield v._get(p));return yield v._remove(p),C})).apply(this,arguments)}function Kl(y,h){return If.apply(this,arguments)}function If(){return(If=(0,f.Z)(function*(y,h){return Ba(y)._set(_o(h),"true")})).apply(this,arguments)}function Ba(y){return $t(y._redirectPersistence)}function _o(y){return Wn("pendingRedirect",y.config.apiKey,y.name)}function bd(){return(bd=(0,f.Z)(function*(y,h,p){const v=$n(y);_i(y,h,Tr);const C=T(v,p);return yield Kl(C,v),C._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Id(){return(Id=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y);_i(v.auth,h,Tr);const C=T(v.auth,p);yield Kl(C,v.auth);const M=yield ja(v);return C._openRedirect(v.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(y,h,p){const v=(0,x.m9)(y);_i(v.auth,h,Tr);const C=T(v.auth,p);yield yn(!1,v,h.providerId),yield Kl(C,v.auth);const M=yield ja(v);return C._openRedirect(v.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(y,h){return yield $n(y)._initializationPromise,Zl(y,h,!1)})).apply(this,arguments)}function Zl(y,h){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,f.Z)(function*(y,h,p=!1){const v=$n(y),C=T(v,h),U=yield new hs(v,C,p).execute();return U&&!p&&(delete U.user._redirectEventId,yield v._persistUserIfCurrent(U.user),yield v._setRedirectUser(null,h)),U})).apply(this,arguments)}function ja(y){return $a.apply(this,arguments)}function $a(){return($a=(0,f.Z)(function*(y){const h=po(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class qu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yl(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!Yl(h)){const C=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(wn(this.auth,C))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(h))}saveEventToCache(h){this.cachedEventUids.add(Dd(h)),this.lastProcessedEventTime=Date.now()}}function Dd(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function Yl({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Td(y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,f.Z)(function*(y,h={}){return vt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const xy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jl=/^https?/;function fs(){return(fs=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Td(y);for(const p of h)try{if(zu(p))return}catch(v){}Vt(y,"unauthorized-domain")})).apply(this,arguments)}function zu(y){const h=lt(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const U=new URL(y);return""===U.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&U.hostname===v}if(!Jl.test(p))return!1;if(xy.test(y))return v===y;const C=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(v)}const Xl=new qt(3e4,6e4);function Wu(){const y=gn().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let ec=null;function xg(y){return ec=ec||function(y){return new Promise((h,p)=>{var v,C,M;function U(){Wu(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Wu(),p(wn(y,"network-request-failed"))},timeout:Xl.get()})}if(null===(C=null===(v=gn().gapi)||void 0===v?void 0:v.iframes)||void 0===C?void 0:C.Iframe)h(gapi.iframes.getContext());else{if(!(null===(M=gn().gapi)||void 0===M?void 0:M.load)){const X=$o("iframefcb");return gn()[X]=()=>{gapi.load?U():p(wn(y,"network-request-failed"))},$l(`https://apis.google.com/js/api.js?onload=${X}`).catch(Oe=>p(Oe))}U()}}).catch(h=>{throw ec=null,h})}(y),ec}const ky=new qt(5e3,15e3),Ly={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pg(y){const h=y.config;Ce(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?ze(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:y.name,v:ae.SDK_VERSION},C=Vy.get(y.config.apiHost);C&&(v.eid=C);const M=y._getFrameworks();return M.length&&(v.fw=M.join(",")),`${p}?${(0,x.xO)(v).slice(1)}`}function Rf(){return Rf=(0,f.Z)(function*(y){const h=yield xg(y),p=gn().gapi;return Ce(p,y,"internal-error"),h.open({where:document.body,url:Pg(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ly,dontclear:!0},v=>new Promise(function(){var C=(0,f.Z)(function*(M,U){yield v.restyle({setHideOnLeave:!1});const X=wn(y,"network-request-failed"),Oe=gn().setTimeout(()=>{U(X)},ky.get());function Me(){gn().clearTimeout(Oe),M(v)}v.ping(Me).then(Me,()=>{U(X)})});return function(M,U){return C.apply(this,arguments)}}()))}),Rf.apply(this,arguments)}const Ha={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nf{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function gs(y,h,p,v,C,M){Ce(y.config.authDomain,y,"auth-domain-config-required"),Ce(y.config.apiKey,y,"invalid-api-key");const U={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:ae.SDK_VERSION,eventId:C};if(h instanceof Tr){h.setDefaultLanguage(y.languageCode),U.providerId=h.providerId||"",(0,x.xb)(h.getCustomParameters())||(U.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Oe,Me]of Object.entries(M||{}))U[Oe]=Me}if(h instanceof Di){const Oe=h.getScopes().filter(Me=>""!==Me);Oe.length>0&&(U.scopes=Oe.join(","))}y.tenantId&&(U.tid=y.tenantId);const X=U;for(const Oe of Object.keys(X))void 0===X[Oe]&&delete X[Oe];return`${function({config:y}){return y.emulator?ze(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,x.xO)(X).slice(1)}`}const tc="webStorageSupport";class qa extends class{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return zn("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qa(h)}_finalizeEnroll(h,p,v){return function(y,h){return vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",zt(y,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function(y,h){return vt(y,"POST","/v2/accounts/mfaSignIn:finalize",zt(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let By=(()=>{class y{constructor(){}static assertion(p){return qa._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var y,Yu="@firebase/auth";class Ug{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var C;h((null===(C=v)||void 0===C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function za(){return window}function Sd(){return Sd=(0,f.Z)(function*(y,h,p){var v;const{BuildInfo:C}=za();Fn(h.sessionId,"AuthEvent did not contain a session ID");const M=yield Hy(h.sessionId),U={};return ns()?U.ibi=C.packageName:eo()?U.apn=C.packageName:Vt(y,"operation-not-supported-in-this-environment"),C.displayName&&(U.appDisplayName=C.displayName),U.sessionId=M,gs(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,U)}),Sd.apply(this,arguments)}function Wa(){return Wa=(0,f.Z)(function*(y){const{BuildInfo:h}=za(),p={};ns()?p.iosBundleId=h.packageName:eo()?p.androidPackageName=h.packageName:Vt(y,"operation-not-supported-in-this-environment"),yield Td(y,p)}),Wa.apply(this,arguments)}function Pf(){return Pf=(0,f.Z)(function*(y,h,p){const{cordova:v}=za();let C=()=>{};try{yield new Promise((M,U)=>{let X=null;function Oe(){var et;M();const Ut=null===(et=v.plugins.browsertab)||void 0===et?void 0:et.close;"function"==typeof Ut&&Ut(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Me(){X||(X=window.setTimeout(()=>{U(wn(y,"redirect-cancelled-by-user"))},2e3))}function Je(){"visible"===(null==document?void 0:document.visibilityState)&&Me()}h.addPassiveListener(Oe),document.addEventListener("resume",Me,!1),eo()&&document.addEventListener("visibilitychange",Je,!1),C=()=>{h.removePassiveListener(Oe),document.removeEventListener("resume",Me,!1),document.removeEventListener("visibilitychange",Je,!1),X&&window.clearTimeout(X)}})}finally{C()}}),Pf.apply(this,arguments)}function Hy(y){return rc.apply(this,arguments)}function rc(){return rc=(0,f.Z)(function*(y){const h=Gy(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(C=>C.toString(16).padStart(2,"0")).join("")}),rc.apply(this,arguments)}function Gy(y){if(Fn(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}y="Browser",(0,ae._registerComponent)(new de.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),{apiKey:C,authDomain:M}=v.options;return(U=>{Ce(C&&!C.includes(":"),"invalid-api-key",{appName:U.name}),Ce(!(null==M?void 0:M.includes(":")),"argument-error",{appName:U.name});const X={apiKey:C,authDomain:M,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vi(y)},Oe=new Ui(U,X);return function(y,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map($t);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(Oe,p),Oe})(v)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new de.wA("auth-internal",h=>{const p=$n(h.getProvider("auth").getImmediate());return new Ug(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Yu,"0.19.4",void 0),(0,ae.registerVersion)(Yu,"0.19.4","esm2017");class Qn extends qu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Od(y){return ur.apply(this,arguments)}function ur(){return ur=(0,f.Z)(function*(y){const h=yield Ff()._get(Lf(y));return h&&(yield Ff()._remove(Lf(y))),h}),ur.apply(this,arguments)}function kf(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function Ff(){return $t(Pa)}function Lf(y){return Wn("authEvent",y.config.apiKey,y.name)}function Ju(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...p]=y.split("?");return(0,x.zd)(p.join("?"))}function oc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:wn("no-auth-event")}}function Za(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function $g(y=(0,x.z$)()){return!("file:"!==Za()&&"ionic:"!==Za()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hg(){try{const y=self.localStorage,h=po();if(y)return y.setItem(h,"1"),y.removeItem(h),!function(y=(0,x.z$)()){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,x.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,x.hl)()}catch(y){return Uf()&&(0,x.hl)()}return!1}function Uf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bf(){return("http:"===Za()||"https:"===Za()||(0,x.ru)()||$g())&&!((0,x.b$)()||(0,x.UG)())&&Hg()&&!Uf()}function kd(){return $g()&&"undefined"!=typeof document}function jf(){return jf=(0,f.Z)(function*(){return!!kd()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})}),jf.apply(this,arguments)}const Ri={LOCAL:"local",NONE:"none",SESSION:"session"},uc=Ce,$f="persistence";function qg(y){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,f.Z)(function*(y){yield y._initializationPromise;const h=Wi(),p=Wn($f,y.config.apiKey,y.name);(null==h?void 0:h.sessionStorage)&&h.sessionStorage.setItem(p,y._getPersistence())}),Fd.apply(this,arguments)}function Wi(){return"undefined"!=typeof window?window:null}const e_=Ce;class Qa{constructor(){this.browserResolver=$t(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hn,this._completeRedirectFn=Zl}_openPopup(h,p,v,C){var M=this;return(0,f.Z)(function*(){var U;Fn(null===(U=M.eventManagers[h._key()])||void 0===U?void 0:U.manager,"_initialize() not called before _openPopup()");const X=gs(h,p,v,lt(),C);return function(y,h,p,v=500,C=600){const M=Math.max((window.screen.availHeight-C)/2,0).toString(),U=Math.max((window.screen.availWidth-v)/2,0).toString();let X="";const Oe=Object.assign(Object.assign({},Ha),{width:v.toString(),height:C.toString(),top:M,left:U}),Me=(0,x.z$)().toLowerCase();p&&(X=da(Me)?"_blank":p),Mo(Me)&&(h=h||"http://localhost",Oe.scrollbars="yes");const Je=Object.entries(Oe).reduce((Ut,[En,js])=>`${Ut}${En}=${js},`,"");if(function(y=(0,x.z$)()){var h;return ns(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Me)&&"_self"!==X)return function(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",X),new Nf(null);const et=window.open(h||"",X,Je);Ce(et,y,"popup-blocked");try{et.focus()}catch(Ut){}return new Nf(et)}(h,X,po())})()}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(h),y=gs(h,p,v,lt(),C),gn().location.href=y,new Promise(()=>{});var y})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:C,promise:M}=this.eventManagers[p];return C?Promise.resolve(C):(Fn(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const v=yield function(y){return Rf.apply(this,arguments)}(h),C=new qu(h);return v.register("authEvent",M=>(Ce(null==M?void 0:M.authEvent,h,"invalid-auth-event"),{status:C.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:C},p.iframes[h._key()]=v,C})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(tc,{type:tc},C=>{var M;const U=null===(M=null==C?void 0:C[0])||void 0===M?void 0:M[tc];void 0!==U&&p(!!U),Vt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return fs.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ro()||wt()||ns()}}),this.cordovaResolver=$t(class{constructor(){this._redirectPersistence=Hn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zl}_initialize(h){var p=this;return(0,f.Z)(function*(){const v=h._key();let C=p.eventManagers.get(v);return C||(C=new Qn(h),p.eventManagers.set(v,C),p.attachCallbackListeners(h,C)),C})()}_openPopup(h){Vt(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){!function(y){var h,p,v,C,M,U,X,Oe,Me,Je;const et=za();Ce("function"==typeof(null===(h=null==et?void 0:et.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(p=null==et?void 0:et.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(M=null===(C=null===(v=null==et?void 0:et.cordova)||void 0===v?void 0:v.plugins)||void 0===C?void 0:C.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Oe=null===(X=null===(U=null==et?void 0:et.cordova)||void 0===U?void 0:U.plugins)||void 0===X?void 0:X.browsertab)||void 0===Oe?void 0:Oe.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Je=null===(Me=null==et?void 0:et.cordova)||void 0===Me?void 0:Me.InAppBrowser)||void 0===Je?void 0:Je.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const U=yield M._initialize(h);yield U.initialized(),U.resetRedirect(),zi.clear(),yield M._originValidation(h);const X=function(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:kf(),postBody:null,tenantId:y.tenantId,error:wn(y,"no-auth-event")}}(h,v,C);yield function(y,h){return Ff()._set(Lf(y),h)}(h,X);const Oe=yield function(y,h,p){return Sd.apply(this,arguments)}(h,X,p),Me=yield function(y){const{cordova:h}=za();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let C=null;v?h.plugins.browsertab.openUrl(y):C=h.InAppBrowser.open(y,function(y=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(C)})})}(Oe);return function(y,h,p){return Pf.apply(this,arguments)}(h,U,Me)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(y){return Wa.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:C,BuildInfo:M}=za(),U=setTimeout((0,f.Z)(function*(){yield Od(h),p.onEvent(oc())}),500),X=function(){var Je=(0,f.Z)(function*(et){clearTimeout(U);const Ut=yield Od(h);let En=null;Ut&&(null==et?void 0:et.url)&&(En=function(y,h){var p,v;const C=function(y){const h=Ju(y),p=h.link?decodeURIComponent(h.link):void 0,v=Ju(p).link,C=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Ju(C).link||C||v||p||y}(h);if(C.includes("/__/auth/callback")){const M=Ju(C),U=M.firebaseError?function(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(M.firebaseError)):null,X=null===(v=null===(p=null==U?void 0:U.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Oe=X?wn(X):null;return Oe?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:C,postBody:null}}return null}(Ut,et.url)),p.onEvent(En||oc())});return function(Ut){return Je.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,X);const Oe=C,Me=`${M.packageName.toLowerCase()}://`;za().handleOpenURL=function(){var Je=(0,f.Z)(function*(et){if(et.toLowerCase().startsWith(Me)&&X({url:et}),"function"==typeof Oe)try{Oe(et)}catch(Ut){console.error(Ut)}});return function(et){return Je.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Hn,this._completeRedirectFn=Zl}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,p,v,C)})()}_openRedirect(h,p,v,C){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,p,v,C)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return kd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return e_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function(){return jf.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Hf(y){return y.unwrap()}function Bs(y){return Xu(y)}function Xu(y){const{_tokenResponse:h}=y instanceof x.ZR?y.customData:y;if(!h)return null;if(!(y instanceof x.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return I.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=io;break;case"facebook.com":v=Tu;break;case"github.com":v=so;break;case"twitter.com":v=Cr;break;default:const{oauthIdToken:C,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:X,nonce:Oe}=h;return M||U||C||X?X?p.startsWith("saml.")?ss._create(p,X):sr._fromParams({providerId:p,signInMethod:p,pendingToken:X,idToken:C,accessToken:M}):new Nn(p).credential({idToken:C,accessToken:M,rawNonce:Oe}):null}return y instanceof x.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function ui(y,h){return h.catch(p=>{throw p instanceof x.ZR&&function(y,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Vd(y,function(y,h){var p;const v=(0,x.m9)(y),C=h;return Ce(h.customData.operationType,v,"argument-error"),Ce(null===(p=C.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),us._fromError(v,C)}(y,h));else if(v){const C=Xu(h),M=h;C&&(M.credential=C,M.tenantId=v.tenantId||void 0,M.email=v.email||void 0,M.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const C=p.user;return{operationType:p.operationType,credential:Bs(p),additionalUserInfo:tt(p),user:ms.getOrCreate(C)}})}function Ld(y,h){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,f.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>ui(y,p.confirm(v))}}),Ja.apply(this,arguments)}class Vd{constructor(h,p){this.resolver=p,this.auth=function(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ui(Hf(this.auth),this.resolver.resolveSignIn(h))}}class ms{constructor(h){this._delegate=h,this.multiFactor=function(y){const h=(0,x.m9)(y);return On.has(h)||On.set(h,Bo._fromUser(h)),On.get(h)}(h)}static getOrCreate(h){return ms.USER_MAP.has(h)||ms.USER_MAP.set(h,new ms(h)),ms.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return ui(p.auth,wa(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,f.Z)(function*(){return Ld(v.auth,function(y,h,p){return Yn.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return ui(p.auth,function(y,h,p){return ar.apply(this,arguments)}(p._delegate,h,Qa))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield qg($n(p.auth)),function(y,h,p){return function(y,h,p){return ai.apply(this,arguments)}(y,h,p)}(p._delegate,h,Qa)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return ui(p.auth,Kn(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Ld(this.auth,function(y,h,p){return Hu.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return ui(this.auth,function(y,h,p){return Nr.apply(this,arguments)}(this._delegate,h,Qa))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield qg($n(p.auth)),function(y,h,p){return function(y,h,p){return Id.apply(this,arguments)}(y,h,p)}(p._delegate,h,Qa)})()}sendEmailVerification(h){return function(y,h){return ks.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function(y,h){return be.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function(y,h){return lf((0,x.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function(y,h){return lf((0,x.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function(y,h){return Wl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function(y,h){return fn.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function(y,h,p){return Na.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ms.USER_MAP=new WeakMap;const Xa=Ce;let Ud=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=p.options;Xa(C,"invalid-api-key",{appName:p.name});let M=[mn];if("undefined"!=typeof window){M=function(y,h){const p=Wi();if(!(null==p?void 0:p.sessionStorage))return[];const v=Wn($f,y,h);switch(p.sessionStorage.getItem(v)){case Ri.NONE:return[mn];case Ri.LOCAL:return[Us,Hn];case Ri.SESSION:return[Hn];default:return[]}}(C,p.name);for(const X of[Us,Pa,Hn])M.includes(X)||M.push(X)}Xa(C,"invalid-api-key",{appName:p.name});const U="undefined"!=typeof window?Qa:void 0;this._delegate=v.initialize({options:{persistence:M,popupRedirectResolver:U}}),this._delegate._updateErrorMap(Ir),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ms.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function(y,h,p){const v=$n(y);Ce(v._canInitEmulator,v,"emulator-config-failed"),Ce(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const C=!!(null==p?void 0:p.disableWarnings),M=si(h),{host:U,port:X}=function(y){const h=si(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(v);if(C){const M=C[1];return{host:M,port:Ig(v.substr(M.length+1))}}{const[M,U]=v.split(":");return{host:M,port:Ig(U)}}}(h);v.config.emulator={url:`${M}//${U}${null===X?"":`:${X}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:U,port:X,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function(y,h){return Ou.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return xu(this._delegate,p)}confirmPasswordReset(p,v){return function(y,h,p){return Fo.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var C=this;return(0,f.Z)(function*(){return ui(C._delegate,function(y,h,p){return Ma.apply(this,arguments)}(C._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(y,h){return uf.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(y,h){const p=no.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,f.Z)(function*(){Xa(Bf(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function(y,h){return vo.apply(this,arguments)}(p._delegate,Qa);return v?ui(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(y,h){$n(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,C){const{next:M,error:U,complete:X}=qf(p,v,C);return this._delegate.onAuthStateChanged(M,U,X)}onIdTokenChanged(p,v,C){const{next:M,error:U,complete:X}=qf(p,v,C);return this._delegate.onIdTokenChanged(M,U,X)}sendSignInLinkToEmail(p,v){return function(y,h,p){return ln.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function(y,h,p){return ko.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,f.Z)(function*(){let C;switch(function(y,h){uc(Object.values(Ri).includes(h),y,"invalid-persistence-type"),(0,x.b$)()?uc(h!==Ri.SESSION,y,"unsupported-persistence-type"):(0,x.UG)()?uc(h===Ri.NONE,y,"unsupported-persistence-type"):Uf()?uc(h===Ri.NONE||h===Ri.LOCAL&&(0,x.hl)(),y,"unsupported-persistence-type"):uc(h===Ri.NONE||Hg(),y,"unsupported-persistence-type")}(v._delegate,p),p){case Ri.SESSION:C=Hn;break;case Ri.LOCAL:C=(yield $t(Us)._isAvailable())?Us:Pa;break;case Ri.NONE:C=mn;break;default:return Vt("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return ui(this._delegate,function(y){return Po.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return ui(this._delegate,kl(this._delegate,p))}signInWithCustomToken(p){return ui(this._delegate,function(y,h){return Ia.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return ui(this._delegate,function(y,h,p){return kl((0,x.m9)(y),ro.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return ui(this._delegate,function(y,h,p){return Ra.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Ld(this._delegate,function(y,h,p){return qi.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,f.Z)(function*(){return Xa(Bf(),v._delegate,"operation-not-supported-in-this-environment"),ui(v._delegate,function(y,h,p){return Zt.apply(this,arguments)}(v._delegate,p,Qa))})()}signInWithRedirect(p){var v=this;return(0,f.Z)(function*(){return Xa(Bf(),v._delegate,"operation-not-supported-in-this-environment"),yield qg(v._delegate),function(y,h,p){return function(y,h,p){return bd.apply(this,arguments)}(y,h,p)}(v._delegate,p,Qa)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(y,h){return Sa.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ri,y})();function qf(y,h,p){let v=y;"function"!=typeof y&&({next:v,error:h,complete:p}=y);const C=v;return{next:U=>C(U&&ms.getOrCreate(U)),error:h,complete:p}}class zg{constructor(){this.providerId="phone",this._delegate=new I(Hf(Q.Z.auth()))}static credential(h,p){return I.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}zg.PHONE_SIGN_IN_METHOD=I.PHONE_SIGN_IN_METHOD,zg.PROVIDER_ID=I.PROVIDER_ID;const eu=Ce;class zf{constructor(h,p,v=Q.Z.app()){var C;eu(null===(C=v.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new mr(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new de.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Ud(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ro,FacebookAuthProvider:Tu,GithubAuthProvider:so,GoogleAuthProvider:io,OAuthProvider:Nn,SAMLAuthProvider:oo,PhoneAuthProvider:zg,PhoneMultiFactorGenerator:By,RecaptchaVerifier:zf,TwitterAuthProvider:Cr,Auth:Ud,AuthCredential:No,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.4")}(Q.Z)},2940:function(it,De){!function(P){"use strict";function f(se){return Array.prototype.slice.call(se)}function Q(se){return new Promise(function(K,oe){se.onsuccess=function(){K(se.result)},se.onerror=function(){oe(se.error)}})}function x(se,K,oe){var Ee,pe=new Promise(function(He,Se){Q(Ee=se[K].apply(se,oe)).then(He,Se)});return pe.request=Ee,pe}function ae(se,K,oe){var Ee=x(se,K,oe);return Ee.then(function(pe){if(pe)return new j(pe,Ee.request)})}function ne(se,K,oe){oe.forEach(function(Ee){Object.defineProperty(se.prototype,Ee,{get:function(){return this[K][Ee]},set:function(pe){this[K][Ee]=pe}})})}function he(se,K,oe,Ee){Ee.forEach(function(pe){pe in oe.prototype&&(se.prototype[pe]=function(){return x(this[K],pe,arguments)})})}function re(se,K,oe,Ee){Ee.forEach(function(pe){pe in oe.prototype&&(se.prototype[pe]=function(){return this[K][pe].apply(this[K],arguments)})})}function ie(se,K,oe,Ee){Ee.forEach(function(pe){pe in oe.prototype&&(se.prototype[pe]=function(){return ae(this[K],pe,arguments)})})}function ue(se){this._index=se}function j(se,K){this._cursor=se,this._request=K}function B(se){this._store=se}function J(se){this._tx=se,this.complete=new Promise(function(K,oe){se.oncomplete=function(){K()},se.onerror=function(){oe(se.error)},se.onabort=function(){oe(se.error)}})}function Le(se,K,oe){this._db=se,this.oldVersion=K,this.transaction=new J(oe)}function we(se){this._db=se}ne(ue,"_index",["name","keyPath","multiEntry","unique"]),he(ue,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ie(ue,"_index",IDBIndex,["openCursor","openKeyCursor"]),ne(j,"_cursor",["direction","key","primaryKey","value"]),he(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(se){se in IDBCursor.prototype&&(j.prototype[se]=function(){var K=this,oe=arguments;return Promise.resolve().then(function(){return K._cursor[se].apply(K._cursor,oe),Q(K._request).then(function(Ee){if(Ee)return new j(Ee,K._request)})})})}),B.prototype.createIndex=function(){return new ue(this._store.createIndex.apply(this._store,arguments))},B.prototype.index=function(){return new ue(this._store.index.apply(this._store,arguments))},ne(B,"_store",["name","keyPath","indexNames","autoIncrement"]),he(B,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ie(B,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(B,"_store",IDBObjectStore,["deleteIndex"]),J.prototype.objectStore=function(){return new B(this._tx.objectStore.apply(this._tx,arguments))},ne(J,"_tx",["objectStoreNames","mode"]),re(J,"_tx",IDBTransaction,["abort"]),Le.prototype.createObjectStore=function(){return new B(this._db.createObjectStore.apply(this._db,arguments))},ne(Le,"_db",["name","version","objectStoreNames"]),re(Le,"_db",IDBDatabase,["deleteObjectStore","close"]),we.prototype.transaction=function(){return new J(this._db.transaction.apply(this._db,arguments))},ne(we,"_db",["name","version","objectStoreNames"]),re(we,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(se){[B,ue].forEach(function(K){se in K.prototype&&(K.prototype[se.replace("open","iterate")]=function(){var oe=f(arguments),Ee=oe[oe.length-1],pe=this._store||this._index,He=pe[se].apply(pe,oe.slice(0,-1));He.onsuccess=function(){Ee(He.result)}})})}),[ue,B].forEach(function(se){se.prototype.getAll||(se.prototype.getAll=function(K,oe){var Ee=this,pe=[];return new Promise(function(He){Ee.iterateCursor(K,function(Se){Se?(pe.push(Se.value),void 0===oe||pe.length!=oe?Se.continue():He(pe)):He(pe)})})})}),P.openDb=function(se,K,oe){var Ee=x(indexedDB,"open",[se,K]),pe=Ee.request;return pe&&(pe.onupgradeneeded=function(He){oe&&oe(new Le(pe.result,He.oldVersion,pe.transaction))}),Ee.then(function(He){return new we(He)})},P.deleteDb=function(se){return x(indexedDB,"deleteDatabase",[se])},Object.defineProperty(P,"__esModule",{value:!0})}(De)},8306:(it,De,P)=>{"use strict";P.d(De,{y:()=>j});var f=P(2961),Q=P(727),x=P(8822),ae=P(4671);var re=P(2416),ie=P(576),ue=P(2806);let j=(()=>{class we{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const se=new we;return se.source=this,se.operator=Fe,se}subscribe(Fe,se,K){const oe=function(we){return we&&we instanceof f.Lv||function(we){return we&&(0,ie.m)(we.next)&&(0,ie.m)(we.error)&&(0,ie.m)(we.complete)}(we)&&(0,Q.Nn)(we)}(Fe)?Fe:new f.Hp(Fe,se,K);return(0,ue.x)(()=>{const{operator:Ee,source:pe}=this;oe.add(Ee?Ee.call(oe,pe):pe?this._subscribe(oe):this._trySubscribe(oe))}),oe}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(se){Fe.error(se)}}forEach(Fe,se){return new(se=B(se))((K,oe)=>{let Ee;Ee=this.subscribe(pe=>{try{Fe(pe)}catch(He){oe(He),null==Ee||Ee.unsubscribe()}},oe,K)})}_subscribe(Fe){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe(Fe)}[x.L](){return this}pipe(...Fe){return function(we){return 0===we.length?ae.y:1===we.length?we[0]:function(Fe){return we.reduce((se,K)=>K(se),Fe)}}(Fe)(this)}toPromise(Fe){return new(Fe=B(Fe))((se,K)=>{let oe;this.subscribe(Ee=>oe=Ee,Ee=>K(Ee),()=>se(oe))})}}return we.create=Ve=>new we(Ve),we})();function B(we){var Ve;return null!==(Ve=null!=we?we:re.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(it,De,P)=>{"use strict";P.d(De,{x:()=>re});var f=P(8306),Q=P(727);const ae=(0,P(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=P(8737),he=P(2806);let re=(()=>{class ue extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const J=new ie(this,this);return J.operator=B,J}_throwIfClosed(){if(this.closed)throw new ae}next(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const J=this.observers.slice();for(const Le of J)Le.next(B)}})}error(B){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:J}=this;for(;J.length;)J.shift().error(B)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:J,isStopped:Le,observers:we}=this;return J||Le?Q.Lc:(we.push(B),new Q.w0(()=>(0,ne.P)(we,B)))}_checkFinalizedStatuses(B){const{hasError:J,thrownError:Le,isStopped:we}=this;J?B.error(Le):we&&B.complete()}asObservable(){const B=new f.y;return B.source=this,B}}return ue.create=(j,B)=>new ie(j,B),ue})();class ie extends re{constructor(j,B){super(),this.destination=j,this.source=B}next(j){var B,J;null===(J=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===J||J.call(B,j)}error(j){var B,J;null===(J=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===J||J.call(B,j)}complete(){var j,B;null===(B=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===B||B.call(j)}_subscribe(j){var B,J;return null!==(J=null===(B=this.source)||void 0===B?void 0:B.subscribe(j))&&void 0!==J?J:Q.Lc}}},2961:(it,De,P)=>{"use strict";P.d(De,{Hp:()=>Le,Lv:()=>J});var f=P(576),Q=P(727),x=P(2416),ae=P(7849);function ne(){}const he=ue("C",void 0,void 0);function ue(K,oe,Ee){return{kind:K,value:oe,error:Ee}}var j=P(3410),B=P(2806);class J extends Q.w0{constructor(oe){super(),this.isStopped=!1,oe?(this.destination=oe,(0,Q.Nn)(oe)&&oe.add(this)):this.destination=se}static create(oe,Ee,pe){return new Le(oe,Ee,pe)}next(oe){this.isStopped?Fe(ue("N",oe,void 0),this):this._next(oe)}error(oe){this.isStopped?Fe(ue("E",void 0,oe),this):(this.isStopped=!0,this._error(oe))}complete(){this.isStopped?Fe(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(oe){this.destination.next(oe)}_error(oe){try{this.destination.error(oe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Le extends J{constructor(oe,Ee,pe){let He;if(super(),(0,f.m)(oe))He=oe;else if(oe){let Se;({next:He,error:Ee,complete:pe}=oe),this&&x.v.useDeprecatedNextContext?(Se=Object.create(oe),Se.unsubscribe=()=>this.unsubscribe()):Se=oe,He=null==He?void 0:He.bind(Se),Ee=null==Ee?void 0:Ee.bind(Se),pe=null==pe?void 0:pe.bind(Se)}this.destination={next:He?we(He):ne,error:we(null!=Ee?Ee:Ve),complete:pe?we(pe):ne}}}function we(K,oe){return(...Ee)=>{try{K(...Ee)}catch(pe){x.v.useDeprecatedSynchronousErrorHandling?(0,B.O)(pe):(0,ae.h)(pe)}}}function Ve(K){throw K}function Fe(K,oe){const{onStoppedNotification:Ee}=x.v;Ee&&j.z.setTimeout(()=>Ee(K,oe))}const se={closed:!0,next:ne,error:Ve,complete:ne}},727:(it,De,P)=>{"use strict";P.d(De,{Lc:()=>he,w0:()=>ne,Nn:()=>re});var f=P(576);const x=(0,P(3888).d)(ue=>function(B){ue(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((J,Le)=>`${Le+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ae=P(8737);class ne{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const we of B)we.remove(this);else B.remove(this);const{initialTeardown:J}=this;if((0,f.m)(J))try{J()}catch(we){j=we instanceof x?we.errors:[we]}const{_teardowns:Le}=this;if(Le){this._teardowns=null;for(const we of Le)try{ie(we)}catch(Ve){j=null!=j?j:[],Ve instanceof x?j=[...j,...Ve.errors]:j.push(Ve)}}if(j)throw new x(j)}}add(j){var B;if(j&&j!==this)if(this.closed)ie(j);else{if(j instanceof ne){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(B=this._teardowns)&&void 0!==B?B:[]).push(j)}}_hasParent(j){const{_parentage:B}=this;return B===j||Array.isArray(B)&&B.includes(j)}_addParent(j){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(j),B):B?[B,j]:j}_removeParent(j){const{_parentage:B}=this;B===j?this._parentage=null:Array.isArray(B)&&(0,ae.P)(B,j)}remove(j){const{_teardowns:B}=this;B&&(0,ae.P)(B,j),j instanceof ne&&j._removeParent(this)}}ne.EMPTY=(()=>{const ue=new ne;return ue.closed=!0,ue})();const he=ne.EMPTY;function re(ue){return ue instanceof ne||ue&&"closed"in ue&&(0,f.m)(ue.remove)&&(0,f.m)(ue.add)&&(0,f.m)(ue.unsubscribe)}function ie(ue){(0,f.m)(ue)?ue():ue.unsubscribe()}},2416:(it,De,P)=>{"use strict";P.d(De,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(it,De,P)=>{"use strict";P.d(De,{E:()=>Q});const Q=new(P(8306).y)(ne=>ne.complete())},8996:(it,De,P)=>{"use strict";P.d(De,{D:()=>He});var f=P(8421),Q=P(5363),x=P(9468),he=P(8306),ie=P(2202),ue=P(576),j=P(9672);function J(Se,Ge){if(!Se)throw new Error("Iterable cannot be null");return new he.y(qe=>{(0,j.f)(qe,Ge,()=>{const ct=Se[Symbol.asyncIterator]();(0,j.f)(qe,Ge,()=>{ct.next().then(ee=>{ee.done?qe.complete():qe.next(ee.value)})},0,!0)})})}var Le=P(3670),we=P(8239),Ve=P(1144),Fe=P(6495),se=P(2206),K=P(4532),oe=P(3260);function He(Se,Ge){return Ge?function(Se,Ge){if(null!=Se){if((0,Le.c)(Se))return function(Se,Ge){return(0,f.Xf)(Se).pipe((0,x.R)(Ge),(0,Q.Q)(Ge))}(Se,Ge);if((0,Ve.z)(Se))return function(Se,Ge){return new he.y(qe=>{let ct=0;return Ge.schedule(function(){ct===Se.length?qe.complete():(qe.next(Se[ct++]),qe.closed||this.schedule())})})}(Se,Ge);if((0,we.t)(Se))return function(Se,Ge){return(0,f.Xf)(Se).pipe((0,x.R)(Ge),(0,Q.Q)(Ge))}(Se,Ge);if((0,se.D)(Se))return J(Se,Ge);if((0,Fe.T)(Se))return function(Se,Ge){return new he.y(qe=>{let ct;return(0,j.f)(qe,Ge,()=>{ct=Se[ie.h](),(0,j.f)(qe,Ge,()=>{let ee,le;try{({value:ee,done:le}=ct.next())}catch(me){return void qe.error(me)}le?qe.complete():qe.next(ee)},0,!0)}),()=>(0,ue.m)(null==ct?void 0:ct.return)&&ct.return()})}(Se,Ge);if((0,oe.L)(Se))return function(Se,Ge){return J((0,oe.Q)(Se),Ge)}(Se,Ge)}throw(0,K.z)(Se)}(Se,Ge):(0,f.Xf)(Se)}},8421:(it,De,P)=>{"use strict";P.d(De,{Xf:()=>Le});var f=P(5987),Q=P(1144),x=P(8239),ae=P(8306),ne=P(3670),he=P(2206),re=P(4532),ie=P(6495),ue=P(3260),j=P(576),B=P(7849),J=P(8822);function Le(pe){if(pe instanceof ae.y)return pe;if(null!=pe){if((0,ne.c)(pe))return function(pe){return new ae.y(He=>{const Se=pe[J.L]();if((0,j.m)(Se.subscribe))return Se.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,Q.z)(pe))return function(pe){return new ae.y(He=>{for(let Se=0;Se<pe.length&&!He.closed;Se++)He.next(pe[Se]);He.complete()})}(pe);if((0,x.t)(pe))return function(pe){return new ae.y(He=>{pe.then(Se=>{He.closed||(He.next(Se),He.complete())},Se=>He.error(Se)).then(null,B.h)})}(pe);if((0,he.D)(pe))return K(pe);if((0,ie.T)(pe))return function(pe){return new ae.y(He=>{for(const Se of pe)if(He.next(Se),He.closed)return;He.complete()})}(pe);if((0,ue.L)(pe))return function(pe){return K((0,ue.Q)(pe))}(pe)}throw(0,re.z)(pe)}function K(pe){return new ae.y(He=>{(function(pe,He){var Se,Ge,qe,ct;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Se=(0,f.KL)(pe);!(Ge=yield Se.next()).done;)if(He.next(Ge.value),He.closed)return}catch(ee){qe={error:ee}}finally{try{Ge&&!Ge.done&&(ct=Se.return)&&(yield ct.call(Se))}finally{if(qe)throw qe.error}}He.complete()})})(pe,He).catch(Se=>He.error(Se))})}},6451:(it,De,P)=>{"use strict";P.d(De,{T:()=>he});var f=P(8189),Q=P(8421),x=P(515),ae=P(7669),ne=P(8996);function he(...re){const ie=(0,ae.yG)(re),ue=(0,ae._6)(re,1/0),j=re;return j.length?1===j.length?(0,Q.Xf)(j[0]):(0,f.J)(ue)((0,ne.D)(j,ie)):x.E}},5403:(it,De,P)=>{"use strict";P.d(De,{Q:()=>Q});var f=P(2961);class Q extends f.Lv{constructor(ae,ne,he,re,ie){super(ae),this.onFinalize=ie,this._next=ne?function(ue){try{ne(ue)}catch(j){ae.error(j)}}:super._next,this._error=re?function(ue){try{re(ue)}catch(j){ae.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(ue){ae.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}},4004:(it,De,P)=>{"use strict";P.d(De,{U:()=>x});var f=P(4482),Q=P(5403);function x(ae,ne){return(0,f.e)((he,re)=>{let ie=0;he.subscribe(new Q.Q(re,ue=>{re.next(ae.call(ne,ue,ie++))}))})}},8189:(it,De,P)=>{"use strict";P.d(De,{J:()=>x});var f=P(5577),Q=P(4671);function x(ae=1/0){return(0,f.z)(Q.y,ae)}},5577:(it,De,P)=>{"use strict";P.d(De,{z:()=>ie});var f=P(4004),Q=P(8421),x=P(4482),ne=(P(9672),P(5403)),re=P(576);function ie(ue,j,B=1/0){return(0,re.m)(j)?ie((J,Le)=>(0,f.U)((we,Ve)=>j(J,we,Le,Ve))((0,Q.Xf)(ue(J,Le))),B):("number"==typeof j&&(B=j),(0,x.e)((J,Le)=>function(ue,j,B,J,Le,we,Ve,Fe){const se=[];let K=0,oe=0,Ee=!1;const pe=()=>{Ee&&!se.length&&!K&&j.complete()},He=Ge=>K<J?Se(Ge):se.push(Ge),Se=Ge=>{K++;let qe=!1;(0,Q.Xf)(B(Ge,oe++)).subscribe(new ne.Q(j,ct=>{j.next(ct)},()=>{qe=!0},void 0,()=>{if(qe)try{for(K--;se.length&&K<J;){const ct=se.shift();Se(ct)}pe()}catch(ct){j.error(ct)}}))};return ue.subscribe(new ne.Q(j,He,()=>{Ee=!0,pe()})),()=>{}}(J,Le,ue,B)))}},5363:(it,De,P)=>{"use strict";P.d(De,{Q:()=>ae});var f=P(9672),Q=P(4482),x=P(5403);function ae(ne,he=0){return(0,Q.e)((re,ie)=>{re.subscribe(new x.Q(ie,ue=>(0,f.f)(ie,ne,()=>ie.next(ue),he),()=>(0,f.f)(ie,ne,()=>ie.complete(),he),ue=>(0,f.f)(ie,ne,()=>ie.error(ue),he)))})}},3099:(it,De,P)=>{"use strict";P.d(De,{B:()=>he});var f=P(8996),Q=P(5698),x=P(7579),ae=P(2961),ne=P(4482);function he(ie={}){const{connector:ue=(()=>new x.x),resetOnError:j=!0,resetOnComplete:B=!0,resetOnRefCountZero:J=!0}=ie;return Le=>{let we=null,Ve=null,Fe=null,se=0,K=!1,oe=!1;const Ee=()=>{null==Ve||Ve.unsubscribe(),Ve=null},pe=()=>{Ee(),we=Fe=null,K=oe=!1},He=()=>{const Se=we;pe(),null==Se||Se.unsubscribe()};return(0,ne.e)((Se,Ge)=>{se++,!oe&&!K&&Ee();const qe=Fe=null!=Fe?Fe:ue();Ge.add(()=>{se--,0===se&&!oe&&!K&&(Ve=re(He,J))}),qe.subscribe(Ge),we||(we=new ae.Hp({next:ct=>qe.next(ct),error:ct=>{oe=!0,Ee(),Ve=re(pe,j,ct),qe.error(ct)},complete:()=>{K=!0,Ee(),Ve=re(pe,B),qe.complete()}}),(0,f.D)(Se).subscribe(we))})(Le)}}function re(ie,ue,...j){return!0===ue?(ie(),null):!1===ue?null:ue(...j).pipe((0,Q.q)(1)).subscribe(()=>ie())}},9468:(it,De,P)=>{"use strict";P.d(De,{R:()=>Q});var f=P(4482);function Q(x,ae=0){return(0,f.e)((ne,he)=>{he.add(x.schedule(()=>ne.subscribe(he),ae))})}},5698:(it,De,P)=>{"use strict";P.d(De,{q:()=>ae});var f=P(515),Q=P(4482),x=P(5403);function ae(ne){return ne<=0?()=>f.E:(0,Q.e)((he,re)=>{let ie=0;he.subscribe(new x.Q(re,ue=>{++ie<=ne&&(re.next(ue),ne<=ie&&re.complete())}))})}},8505:(it,De,P)=>{"use strict";P.d(De,{b:()=>ne});var f=P(576),Q=P(4482),x=P(5403),ae=P(4671);function ne(he,re,ie){const ue=(0,f.m)(he)||re||ie?{next:he,error:re,complete:ie}:he;return ue?(0,Q.e)((j,B)=>{var J;null===(J=ue.subscribe)||void 0===J||J.call(ue);let Le=!0;j.subscribe(new x.Q(B,we=>{var Ve;null===(Ve=ue.next)||void 0===Ve||Ve.call(ue,we),B.next(we)},()=>{var we;Le=!1,null===(we=ue.complete)||void 0===we||we.call(ue),B.complete()},we=>{var Ve;Le=!1,null===(Ve=ue.error)||void 0===Ve||Ve.call(ue,we),B.error(we)},()=>{var we,Ve;Le&&(null===(we=ue.unsubscribe)||void 0===we||we.call(ue)),null===(Ve=ue.finalize)||void 0===Ve||Ve.call(ue)}))}):ae.y}},4408:(it,De,P)=>{"use strict";P.d(De,{o:()=>ne});var f=P(727);class Q extends f.w0{constructor(re,ie){super()}schedule(re,ie=0){return this}}const x={setInterval(...he){const{delegate:re}=x;return((null==re?void 0:re.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:re}=x;return((null==re?void 0:re.clearInterval)||clearInterval)(he)},delegate:void 0};var ae=P(8737);class ne extends Q{constructor(re,ie){super(re,ie),this.scheduler=re,this.work=ie,this.pending=!1}schedule(re,ie=0){if(this.closed)return this;this.state=re;const ue=this.id,j=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(j,ue,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(j,this.id,ie),this}requestAsyncId(re,ie,ue=0){return x.setInterval(re.flush.bind(re,this),ue)}recycleAsyncId(re,ie,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ie;x.clearInterval(ie)}execute(re,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(re,ie);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ie){let j,ue=!1;try{this.work(re)}catch(B){ue=!0,j=B||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:ie}=this,{actions:ue}=ie;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ue,this),null!=re&&(this.id=this.recycleAsyncId(ie,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(it,De,P)=>{"use strict";P.d(De,{v:()=>x});var f=P(6063);class Q{constructor(ne,he=Q.now){this.schedulerActionCtor=ne,this.now=he}schedule(ne,he=0,re){return new this.schedulerActionCtor(this,ne).schedule(re,he)}}Q.now=f.l.now;class x extends Q{constructor(ne,he=Q.now){super(ne,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:he}=this;if(this._active)return void he.push(ne);let re;this._active=!0;do{if(re=ne.execute(ne.state,ne.delay))break}while(ne=he.shift());if(this._active=!1,re){for(;ne=he.shift();)ne.unsubscribe();throw re}}}},4986:(it,De,P)=>{"use strict";P.d(De,{z:()=>x});var f=P(4408);const x=new(P(7565).v)(f.o)},6063:(it,De,P)=>{"use strict";P.d(De,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(it,De,P)=>{"use strict";P.d(De,{z:()=>f});const f={setTimeout(...Q){const{delegate:x}=f;return((null==x?void 0:x.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:x}=f;return((null==x?void 0:x.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},2202:(it,De,P)=>{"use strict";P.d(De,{h:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(it,De,P)=>{"use strict";P.d(De,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(it,De,P)=>{"use strict";P.d(De,{_6:()=>he,jO:()=>ae,yG:()=>ne});var f=P(576);function x(re){return re[re.length-1]}function ae(re){return(0,f.m)(x(re))?re.pop():void 0}function ne(re){return function(re){return re&&(0,f.m)(re.schedule)}(x(re))?re.pop():void 0}function he(re,ie){return"number"==typeof x(re)?re.pop():ie}},8737:(it,De,P)=>{"use strict";function f(Q,x){if(Q){const ae=Q.indexOf(x);0<=ae&&Q.splice(ae,1)}}P.d(De,{P:()=>f})},3888:(it,De,P)=>{"use strict";function f(Q){const ae=Q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(De,{d:()=>f})},2806:(it,De,P)=>{"use strict";P.d(De,{x:()=>x,O:()=>ae});var f=P(2416);let Q=null;function x(ne){if(f.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),ne(),he){const{errorThrown:re,error:ie}=Q;if(Q=null,re)throw ie}}else ne()}function ae(ne){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=ne)}},9672:(it,De,P)=>{"use strict";function f(Q,x,ae,ne=0,he=!1){const re=x.schedule(function(){ae(),he?Q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(Q.add(re),!he)return re}P.d(De,{f:()=>f})},4671:(it,De,P)=>{"use strict";function f(Q){return Q}P.d(De,{y:()=>f})},1144:(it,De,P)=>{"use strict";P.d(De,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(it,De,P)=>{"use strict";P.d(De,{D:()=>Q});var f=P(576);function Q(x){return Symbol.asyncIterator&&(0,f.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(it,De,P)=>{"use strict";function f(Q){return"function"==typeof Q}P.d(De,{m:()=>f})},3670:(it,De,P)=>{"use strict";P.d(De,{c:()=>x});var f=P(8822),Q=P(576);function x(ae){return(0,Q.m)(ae[f.L])}},6495:(it,De,P)=>{"use strict";P.d(De,{T:()=>x});var f=P(2202),Q=P(576);function x(ae){return(0,Q.m)(null==ae?void 0:ae[f.h])}},8239:(it,De,P)=>{"use strict";P.d(De,{t:()=>Q});var f=P(576);function Q(x){return(0,f.m)(null==x?void 0:x.then)}},3260:(it,De,P)=>{"use strict";P.d(De,{Q:()=>x,L:()=>ae});var f=P(5987),Q=P(576);function x(ne){return(0,f.FC)(this,arguments,function*(){const re=ne.getReader();try{for(;;){const{value:ie,done:ue}=yield(0,f.qq)(re.read());if(ue)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ie)}}finally{re.releaseLock()}})}function ae(ne){return(0,Q.m)(null==ne?void 0:ne.getReader)}},4482:(it,De,P)=>{"use strict";P.d(De,{A:()=>Q,e:()=>x});var f=P(576);function Q(ae){return(0,f.m)(null==ae?void 0:ae.lift)}function x(ae){return ne=>{if(Q(ne))return ne.lift(function(he){try{return ae(he,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(it,De,P)=>{"use strict";P.d(De,{h:()=>x});var f=P(2416),Q=P(3410);function x(ae){Q.z.setTimeout(()=>{const{onUnhandledError:ne}=f.v;if(!ne)throw ae;ne(ae)})}},4532:(it,De,P)=>{"use strict";function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>f})},5987:(it,De,P)=>{"use strict";function ie(ee,le,me,ve){return new(me||(me=Promise))(function(de,Tt){function Ht(_t){try{Ct(ve.next(_t))}catch(Mt){Tt(Mt)}}function jn(_t){try{Ct(ve.throw(_t))}catch(Mt){Tt(Mt)}}function Ct(_t){_t.done?de(_t.value):function(de){return de instanceof me?de:new me(function(Tt){Tt(de)})}(_t.value).then(Ht,jn)}Ct((ve=ve.apply(ee,le||[])).next())})}function se(ee){return this instanceof se?(this.v=ee,this):new se(ee)}function K(ee,le,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ve=me.apply(ee,le||[]),de=[];return xe={},Tt("next"),Tt("throw"),Tt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function Tt(on){ve[on]&&(xe[on]=function(Ir){return new Promise(function(jr,an){de.push([on,Ir,jr,an])>1||Ht(on,Ir)})})}function Ht(on,Ir){try{!function(on){on.value instanceof se?Promise.resolve(on.value.v).then(Ct,_t):Mt(de[0][2],on)}(ve[on](Ir))}catch(jr){Mt(de[0][3],jr)}}function Ct(on){Ht("next",on)}function _t(on){Ht("throw",on)}function Mt(on,Ir){on(Ir),de.shift(),de.length&&Ht(de[0][0],de[0][1])}}function Ee(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=ee[Symbol.asyncIterator];return le?le.call(ee):(ee=function(ee){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&ee[le],ve=0;if(me)return me.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&ve>=ee.length&&(ee=void 0),{value:ee&&ee[ve++],done:!ee}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),me={},ve("next"),ve("throw"),ve("return"),me[Symbol.asyncIterator]=function(){return this},me);function ve(de){me[de]=ee[de]&&function(Tt){return new Promise(function(Ht,jn){!function(de,Tt,Ht,jn){Promise.resolve(jn).then(function(Ct){de({value:Ct,done:Ht})},Tt)}(Ht,jn,(Tt=ee[de](Tt)).done,Tt.value)})}}}P.d(De,{mG:()=>ie,qq:()=>se,FC:()=>K,KL:()=>Ee})},5e3:(it,De,P)=>{"use strict";P.d(De,{deG:()=>Bu,tb:()=>CE,AFp:()=>gu,ip1:()=>Yp,CZH:()=>jc,hGG:()=>iC,z2F:()=>Gc,sBO:()=>WT,Sil:()=>Uh,_Vd:()=>Ah,EJc:()=>AE,SBq:()=>ml,qLn:()=>ac,vpe:()=>na,tBr:()=>vn,XFs:()=>pt,OlP:()=>nn,zs3:()=>lr,ZZ4:()=>rg,aQg:()=>vy,soG:()=>Vh,YKP:()=>Xv,h0i:()=>Es,PXZ:()=>qT,R0b:()=>cr,FiY:()=>ar,Lbi:()=>$c,g9A:()=>kb,Qsj:()=>Sh,FYo:()=>Qv,JOm:()=>Bs,q3G:()=>Cn,tp0:()=>Wr,Rgc:()=>Gp,dDg:()=>Vb,q4F:()=>Pc,GfV:()=>Jv,s_b:()=>ws,ifc:()=>ze,eFA:()=>$b,G48:()=>Ur,Gpc:()=>B,X6Q:()=>VE,_c5:()=>Xb,VLi:()=>Ub,c2e:()=>vl,zSh:()=>dw,wAp:()=>ot,vHH:()=>Ve,EiD:()=>xf,mCW:()=>Ha,qzn:()=>zu,JVY:()=>Wu,pB0:()=>ky,eBb:()=>ec,L6k:()=>Sf,LAX:()=>xg,cg1:()=>gh,kL8:()=>kv,yhl:()=>Xl,dqk:()=>vt,sIi:()=>al,CqO:()=>Rw,QGY:()=>xm,F4k:()=>dv,RDi:()=>sf,AaK:()=>ie,z3N:()=>fs,qOj:()=>vm,TTD:()=>Rs,_Bn:()=>Kv,xp6:()=>u_,uIk:()=>Pr,Tol:()=>Lm,ekj:()=>Fm,Suo:()=>Tb,Xpm:()=>bn,lG2:()=>Js,Yz7:()=>an,cJS:()=>Dn,oAB:()=>la,Yjl:()=>Sl,Y36:()=>ih,_UZ:()=>oh,BQk:()=>ah,ynx:()=>fp,qZA:()=>sh,TgZ:()=>hp,EpF:()=>cv,n5z:()=>Uu,LFG:()=>z,$8M:()=>go,$Z:()=>av,NdJ:()=>vc,CRH:()=>Cb,oxw:()=>Nw,ALo:()=>Oh,lcZ:()=>rE,Q6J:()=>_c,VKq:()=>jp,iGM:()=>Fc,CHM:()=>os,oJD:()=>Mi,LSH:()=>Md,Udp:()=>_v,d8E:()=>Pv,YNc:()=>Tm,_uU:()=>Bw,Oqu:()=>jm,hij:()=>bp});var f=P(7579),Q=P(727),x=P(8306),ae=P(6451),ne=P(3099);function he(i){for(let s in i)if(i[s]===he)return s;throw Error("Could not find renamed property on target object.")}function re(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ie(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ie).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const j=he({__forward_ref__:he});function B(i){return i.__forward_ref__=B,i.toString=function(){return ie(this())},i}function J(i){return Le(i)?i():i}function Le(i){return"function"==typeof i&&i.hasOwnProperty(j)&&i.__forward_ref__===B}class Ve extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function K(i){return"string"==typeof i?i:null==i?"":String(i)}function oe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():K(i)}function Se(i,s){const a=s?` in ${s}`:"";throw new Ve("201",`No provider for ${oe(i)} found${a}`)}function _t(i,s){null==i&&function(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function an(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Dn(i){return{providers:i.providers||[],imports:i.imports||[]}}function yi(i){return Vt(i,Fi)||Vt(i,zn)}function Vt(i,s){return i.hasOwnProperty(s)?i[s]:null}function _i(i){return i&&(i.hasOwnProperty(Ce)||i.hasOwnProperty(Fn))?i[Ce]:null}const Fi=he({\u0275prov:he}),Ce=he({\u0275inj:he}),zn=he({ngInjectableDef:he}),Fn=he({ngInjectorDef:he});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let $t;function $r(i){const s=$t;return $t=i,s}function lt(i,s,a){const l=yi(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&pt.Optional?null:void 0!==s?s:void Se(ie(i),"Injector")}function Nt(i){return{toString:i}.toString()}var kt=(()=>((kt=kt||{})[kt.OnPush=0]="OnPush",kt[kt.Default=1]="Default",kt))(),ze=(()=>{return(i=ze||(ze={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ze;var i})();const ut="undefined"!=typeof globalThis&&globalThis,Cl="undefined"!=typeof window&&window,As="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,vt=ut||"undefined"!=typeof global&&global||Cl||As,H={},L=[],G=he({\u0275cmp:he}),_e=he({\u0275dir:he}),te=he({\u0275pipe:he}),We=he({\u0275mod:he}),dt=he({\u0275fac:he}),Wt=he({__NG_ELEMENT_ID__:he});let nr=0;function bn(i){return Nt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||L,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ze.Emulated,id:"c",styles:i.styles||L,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,g=i.features,_=i.pipes;return l.id+=nr++,l.inputs=vu(i.inputs,a),l.outputs=vu(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ft):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(rr):null,l})}function Ft(i){return un(i)||function(i){return i[_e]||null}(i)}function rr(i){return function(i){return i[te]||null}(i)}const Qs={};function la(i){return Nt(()=>{const s={type:i.type,bootstrap:i.bootstrap||L,declarations:i.declarations||L,imports:i.imports||L,exports:i.exports||L,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Qs[i.id]=i.type),s})}function vu(i,s){if(null==i)return H;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),a[c]=l,s&&(s[c]=g)}return a}const Js=bn;function Sl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function un(i){return i[G]||null}function ir(i,s){const a=i[We]||null;if(!a&&!0===s)throw new Error(`Type ${ie(i)} does not have '\u0275mod' property.`);return a}function Vi(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ui(i){return Array.isArray(i)&&!0===i[1]}function $n(i){return 0!=(8&i.flags)}function rs(i){return 2==(2&i.flags)}function Ml(i){return 1==(1&i.flags)}function si(i){return null!==i.template}function ef(i){return 0!=(512&i[2])}function Ii(i,s){return i.hasOwnProperty(dt)?i[dt]:null}class Ol{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Rs(){return xo}function xo(i){return i.type.prototype.ngOnChanges&&(i.setInput=Iu),Ns}function Ns(){const i=sr(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===H)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Iu(i,s,a,l){const c=sr(i)||function(i,s){return i[ud]=s}(i,{previous:H,current:null}),g=c.current||(c.current={}),_=c.previous,w=this.declaredInputs[a],b=_[w];g[w]=new Ol(b&&b.currentValue,s,_===H),i[l]=s}Rs.ngInherit=!0;const ud="__ngSimpleChanges__";function sr(i){return i[ud]||null}let Du;function sf(i){Du=i}function ga(){return void 0!==Du?Du:"undefined"!=typeof document?document:void 0}function Qt(i){return!!i.listen}const Pl={createRenderer:(i,s)=>ga()};function Rn(i){for(;Array.isArray(i);)i=i[0];return i}function Di(i,s){return Rn(s[i])}function Nn(i,s){return Rn(s[i.index])}function io(i,s){return i.data[s]}function Kt(i,s){const a=s[i];return Vi(a)?a:a[0]}function ss(i){return 4==(4&i[2])}function ma(i){return 128==(128&i[2])}function Cr(i,s){return null==s?null:i[s]}function ya(i){i[18]=0}function Os(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Qe={lFrame:Ll(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Au(){return Qe.bindingsEnabled}function be(){return Qe.lFrame.lView}function Ot(){return Qe.lFrame.tView}function os(i){return Qe.lFrame.contextLView=i,i[8]}function yn(){let i=Ea();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ea(){return Qe.lFrame.currentTNode}function or(i,s){const a=Qe.lFrame;a.currentTNode=i,a.isParent=s}function Mu(){return Qe.lFrame.isParent}function ao(){Qe.lFrame.isParent=!1}function wa(){return Qe.isInCheckNoChangesMode}function uo(i){Qe.isInCheckNoChangesMode=i}function Kn(){const i=Qe.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function xs(){return Qe.lFrame.bindingIndex++}function Bi(i){const s=Qe.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function Ta(i,s){const a=Qe.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ca(s)}function Ca(i){Qe.lFrame.currentDirectiveIndex=i}function ko(i){const s=Qe.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Nu(){return Qe.lFrame.currentQueryIndex}function Fo(i){Qe.lFrame.currentQueryIndex=i}function hd(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ou(i,s,a){if(a&pt.SkipSelf){let c=s,g=i;for(;!(c=c.parent,null!==c||a&pt.Host||(c=hd(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;s=c,i=g}const l=Qe.lFrame=Aa();return l.currentTNode=s,l.lView=i,!0}function xu(i){const s=Aa(),a=i[1];Qe.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Aa(){const i=Qe.lFrame,s=null===i?null:i.child;return null===s?Ll(i):s}function Ll(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Sa(){const i=Qe.lFrame;return Qe.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const fd=Sa;function Ma(){const i=Sa();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ln(){return Qe.lFrame.selectedIndex}function Ps(i){Qe.lFrame.selectedIndex=i}function _n(){const i=Qe.lFrame;return io(i.tView,i.selectedIndex)}function ks(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:R}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=R&&(i.destroyHooks||(i.destroyHooks=[])).push(a,R)}}function Pu(i,s,a){Ul(i,s,3,a)}function Na(i,s,a,l){(3&i[2])===a&&Ul(i,s,a,l)}function gd(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Ul(i,s,a,l){const g=null!=l?l:-1,_=s.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(md(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function md(i,s,a,l){const c=a[l]<0,g=a[l+1],w=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Oa{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function pn(i,s,a){const l=Qt(i);let c=0;for(;c<a.length;){const g=a[c];if("number"==typeof g){if(0!==g)break;c++;const _=a[c++],w=a[c++],b=a[c++];l?i.setAttribute(s,w,b,_):s.setAttributeNS(_,w,b)}else{const _=g,w=a[++c];tt(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),c++}}return c}function co(i){return 3===i||4===i||6===i}function tt(i){return 64===i.charCodeAt(0)}function Zn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||Ci(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function Ci(i,s,a,l,c){let g=0,_=i.length;if(-1===s)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==c&&(i[g+1]=c));if(l===i[g+1])return void(i[g+2]=c)}g++,null!==l&&g++,null!==c&&g++}-1!==_&&(i.splice(_,0,s),g=_+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==c&&i.splice(g++,0,c)}function oi(i){return-1!==i}function Vo(i){return 32767&i}function xa(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let Lu=!0;function ho(i){const s=Lu;return Lu=i,s}let df=0;function Uo(i,s){const a=On(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Bo(l.data,i),Bo(s,null),Bo(l.blueprint,null));const c=Vu(i,s),g=i.injectorIndex;if(oi(c)){const _=Vo(c),w=xa(c,s),b=w[1].data;for(let A=0;A<8;A++)s[g+A]=w[_+A]|b[_+A]}return s[g+8]=c,g}function Bo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function On(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Vu(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const g=c[1],_=g.type;if(l=2===_?g.declTNode:1===_?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ls(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Wt)&&(l=a[Wt]),null==l&&(l=a[Wt]=df++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function Ai(i,s,a){if(a&pt.Optional)return i;Se(s,"NodeInjector")}function Bl(i,s,a,l){if(a&pt.Optional&&void 0===l&&(l=null),0==(a&(pt.Self|pt.Host))){const c=i[9],g=$r(void 0);try{return c?c.get(s,l,a&pt.Optional):lt(s,l,a&pt.Optional)}finally{$r(g)}}return Ai(l,s,a)}function jo(i,s,a,l=pt.Default,c){if(null!==i){const g=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Wt)?i[Wt]:void 0;return"number"==typeof s?s>=0?255&s:Pa:s}(a);if("function"==typeof g){if(!Ou(s,i,l))return l&pt.Host?Ai(c,a,l):Bl(s,a,l,c);try{const _=g(l);if(null!=_||l&pt.Optional)return _;Se(a)}finally{fd()}}else if("number"==typeof g){let _=null,w=On(i,s),b=-1,A=l&pt.Host?s[16][6]:null;for((-1===w||l&pt.SkipSelf)&&(b=-1===w?Vu(i,s):s[w+8],-1!==b&&Ar(l,!1)?(_=s[1],w=Vo(b),s=xa(b,s)):w=-1);-1!==w;){const R=s[1];if(po(g,w,R.data)){const k=jl(w,s,a,_,l,A);if(k!==fo)return k}b=s[w+8],-1!==b&&Ar(l,s[1].data[w+8]===A)&&po(g,w,s)?(_=R,w=Vo(b),s=xa(b,s)):w=-1}}}return Bl(s,a,l,c)}const fo={};function Pa(){return new gn(yn(),be())}function jl(i,s,a,l,c,g){const _=s[1],w=_.data[i+8],R=Hn(w,_,a,null==l?rs(w)&&Lu:l!=_&&0!=(3&w.type),c&pt.Host&&g===w);return null!==R?Ls(s,_,R,w):fo}function Hn(i,s,a,l,c){const g=i.providerIndexes,_=s.data,w=1048575&g,b=i.directiveStart,R=g>>20,$=c?w+R:i.directiveEnd;for(let Z=l?w:w+R;Z<$;Z++){const fe=_[Z];if(Z<b&&a===fe||Z>=b&&fe.type===a)return Z}if(c){const Z=_[b];if(Z&&si(Z)&&Z.type===a)return b}return null}function Ls(i,s,a,l){let c=i[a];const g=s.data;if(function(i){return i instanceof Oa}(c)){const _=c;_.resolving&&function(i,s){throw new Ve("200",`Circular dependency in DI detected for ${i}`)}(oe(g[a]));const w=ho(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?$r(_.injectImpl):null;Ou(i,l,pt.Default);try{c=i[a]=_.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:g}=s.type.prototype;if(l){const _=xo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==b&&$r(b),ho(w),_.resolving=!1,fd()}}return c}function po(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Ar(i,s){return!(i&pt.Self||i&pt.Host&&s)}class gn{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return jo(this._tNode,this._lView,s,l,a)}}function Uu(i){return Nt(()=>{const s=i.prototype.constructor,a=s[dt]||Vn(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const g=c[dt]||Vn(c);if(g&&g!==a)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function Vn(i){return Le(i)?()=>{const s=Vn(J(i));return s&&s()}:Ii(i)}function go(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const g=a[c];if(co(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(g===s)return a[c+1];c+=2}}}return null}(yn(),i)}const Vs="__parameters__";function cn(i,s,a){return Nt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...g){if(this instanceof c)return l.apply(this,g),this;const _=new c(...g);return w.annotation=_,w;function w(b,A,R){const k=b.hasOwnProperty(Vs)?b[Vs]:Object.defineProperty(b,Vs,{value:[]})[Vs];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(_),b}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class nn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=an({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bu=new nn("AnalyzeForEntryComponents");function zr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),zr(l,s)):s!==i&&s.push(l)}return s}function Hi(i,s){i.forEach(a=>Array.isArray(a)?Hi(a,s):s(a))}function $l(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function $o(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function gr(i,s,a){let l=Go(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Gi(i,s){const a=Go(i,s);if(a>=0)return i[1|a]}function Go(i,s){return function(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const g=l+(c-l>>1),_=i[g<<a];if(s===_)return g<<a;_>s?c=g:l=g+1}return~(c<<a)}(i,s,1)}const $u={},Hu="__NG_DI_FLAG__",ds="ngTempTokenPath",bf=/\n/gm,I="__source",T=he({provide:String,useValue:he});let N;function F(i){const s=N;return N=i,s}function W(i,s=pt.Default){if(void 0===N)throw new Error("inject() must be called from an injection context");return null===N?lt(i,void 0,s):N.get(i,s&pt.Optional?null:void 0,s)}function z(i,s=pt.Default){return($t||W)(J(i),s)}function je(i){const s=[];for(let a=0;a<i.length;a++){const l=J(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,g=pt.Default;for(let _=0;_<l.length;_++){const w=l[_],b=Zt(w);"number"==typeof b?-1===b?c=w.token:g|=b:c=w}s.push(z(c,g))}else s.push(z(l))}return s}function xt(i,s){return i[Hu]=s,i.prototype[Hu]=s,i}function Zt(i){return i[Hu]}const vn=xt(cn("Inject",i=>({token:i})),-1),ar=xt(cn("Optional"),8),Wr=xt(cn("SkipSelf"),4);let ai,$a;function vo(i){var s;return(null===(s=function(){if(void 0===ai&&(ai=null,vt.trustedTypes))try{ai=vt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return ai}())||void 0===s?void 0:s.createHTML(i))||i}function qu(i){var s;return(null===(s=function(){if(void 0===$a&&($a=null,vt.trustedTypes))try{$a=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return $a}())||void 0===s?void 0:s.createHTML(i))||i}class zo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Td extends zo{getTypeName(){return"HTML"}}class Ql extends zo{getTypeName(){return"Style"}}class xy extends zo{getTypeName(){return"Script"}}class Jl extends zo{getTypeName(){return"URL"}}class Py extends zo{getTypeName(){return"ResourceURL"}}function fs(i){return i instanceof zo?i.changingThisBreaksApplicationSecurity:i}function zu(i,s){const a=Xl(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Xl(i){return i instanceof zo&&i.getTypeName()||null}function Wu(i){return new Td(i)}function Sf(i){return new Ql(i)}function ec(i){return new xy(i)}function xg(i){return new Jl(i)}function ky(i){return new Py(i)}class Fy{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(vo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Ly{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=vo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=vo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const _=a.item(c).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Pg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Rf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ha(i){return(i=String(i)).match(Pg)||i.match(Rf)?i:"unsafe:"+i}function ps(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Ku(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const Fg=ps("area,br,col,hr,img,wbr"),Nf=ps("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lg=ps("rp,rt"),gs=Ku(Fg,Ku(Nf,ps("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ku(Lg,ps("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ku(Lg,Nf)),Of=ps("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tc=ps("srcset"),Zu=Ku(Of,tc,ps("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ps("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qa=ps("script,style,template");class By{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!gs.hasOwnProperty(a))return this.sanitizedSomething=!0,!qa.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const g=l.item(c),_=g.name,w=_.toLowerCase();if(!Zu.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let b=g.value;Of[w]&&(b=Ha(b)),tc[w]&&(i=b,b=(i=String(i)).split(",").map(s=>Ha(s.trim())).join(", ")),this.buf.push(" ",_,'="',Ug(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();gs.hasOwnProperty(a)&&!Fg.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ug(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Yu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ad=/([^\#-~ |!])/g;function Ug(i){return i.replace(/&/g,"&amp;").replace(Yu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ad,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nc;function xf(i,s){let a=null;try{nc=nc||function(i){const s=new Ly(i);return function(){try{return!!(new window.DOMParser).parseFromString(vo(""),"text/html")}catch(i){return!1}}()?new Fy(s):s}(i);let l=s?String(s):"";a=nc.getInertBodyElement(l);let c=5,g=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=g,g=a.innerHTML,a=nc.getInertBodyElement(l)}while(l!==g);return vo((new By).sanitizeChildren(Bg(a)||a))}finally{if(a){const l=Bg(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Bg(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Cn=(()=>((Cn=Cn||{})[Cn.NONE=0]="NONE",Cn[Cn.HTML=1]="HTML",Cn[Cn.STYLE=2]="STYLE",Cn[Cn.SCRIPT=3]="SCRIPT",Cn[Cn.URL=4]="URL",Cn[Cn.RESOURCE_URL=5]="RESOURCE_URL",Cn))();function Mi(i){const s=Qu();return s?qu(s.sanitize(Cn.HTML,i)||""):zu(i,"HTML")?qu(fs(i)):xf(ga(),K(i))}function Md(i){const s=Qu();return s?s.sanitize(Cn.URL,i)||"":zu(i,"URL")?fs(i):Ha(K(i))}function Qu(){const i=be();return i&&i[12]}const Od="__ngContext__";function ur(i,s){i[Od]=s}function kf(i){const s=function(i){return i[Od]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Vf(i){return i.ngOriginalError}function Yy(i,...s){i.error(...s)}class ac{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=(i=s)&&i.ngErrorLogger||Yy;var i;l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Vf(s);for(;a&&Vf(a);)a=Vf(a);return a||null}}const $f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(vt))();function Wi(i){return i instanceof Function?i():i}var Bs=(()=>((Bs=Bs||{})[Bs.Important=1]="Important",Bs[Bs.DashCase=2]="DashCase",Bs))();function Xu(i,s){return undefined(i,s)}function Ja(i){const s=i[3];return Ui(s)?s[3]:s}function Xa(i){return qf(i[13])}function Ud(i){return qf(i[4])}function qf(i){for(;null!==i&&!Ui(i);)i=i[4];return i}function eu(i,s,a,l,c){if(null!=l){let g,_=!1;Ui(l)?g=l:Vi(l)&&(_=!0,l=l[0]);const w=Rn(l);0===i&&null!==a?null==c?Bd(s,a,w):$s(s,a,w,c||null,!0):1===i&&null!==a?$s(s,a,w,c||null,!0):2===i?function(i,s,a){const l=el(i,s);l&&function(i,s,a,l){Qt(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=g&&function(i,s,a,l,c){const g=a[7];g!==Rn(a)&&eu(s,i,l,g,c);for(let w=10;w<a.length;w++){const b=a[w];qd(b[1],b,i,s,l,g)}}(s,i,g,a,c)}}function y(i,s,a){return Qt(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function X(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Os(c,-1)),a.splice(l,1)}function Oe(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&X(c,l),s>0&&(i[a-1][4]=l[4]);const g=$o(i,10+s);!function(i,s){qd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Me(i,s){if(!(256&s[2])){const a=s[11];Qt(a)&&a.destroyNode&&qd(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return Je(i[1],i);for(;s;){let a=null;if(Vi(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Vi(s)&&Je(s[1],s),s=s[3];null===s&&(s=i),Vi(s)&&Je(s[1],s),a=s&&s[4]}s=a}}(s)}}function Je(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Oa)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=c[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(c)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(s):Rn(s[_]),b=l[c=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],b,A):A>=0?l[c=A]():l[c=-A].unsubscribe(),g+=2}else{const _=l[c=a[g+1]];a[g].call(_)}if(null!==l){for(let g=c+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&Qt(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Ui(s[3])){a!==s[3]&&X(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function En(i,s,a){return function(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===ze.None||c===ze.Emulated)return null}return Nn(l,a)}(i,s.parent,a)}function $s(i,s,a,l,c){Qt(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function Bd(i,s,a){Qt(i)?i.appendChild(s,a):s.appendChild(a)}function jd(i,s,a,l,c){null!==l?$s(i,s,a,l,c):Bd(i,s,a)}function el(i,s){return Qt(i)?i.parentNode(s):s.parentNode}let Wf=function(i,s,a){return 40&i.type?Nn(i,a):null};function Gd(i,s,a,l){const c=En(i,l,s),g=s[11],w=function(i,s,a){return Wf(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let b=0;b<a.length;b++)jd(g,c,a[b],w,!1);else jd(g,c,a,w,!1)}function Yg(i,s){if(null!==s){const a=s.type;if(3&a)return Nn(s,i);if(4&a)return n_(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Yg(i,l);{const c=i[s.index];return Ui(c)?n_(-1,c):Rn(c)}}if(32&a)return Xu(s,i)()||Rn(i[s.index]);{const l=t_(i,s);return null!==l?Array.isArray(l)?l[0]:Yg(Ja(i[16]),l):Yg(i,s.next)}}return null}function t_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function n_(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Yg(l,c)}return s[7]}function r_(i,s,a,l,c,g,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===s&&(w&&ur(Rn(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)r_(i,s,a.child,l,c,g,!1),eu(s,i,c,w,g);else if(32&b){const A=Xu(a,l);let R;for(;R=A();)eu(s,i,c,R,g);eu(s,i,c,w,g)}else 16&b?Eo(i,s,l,a,c,g):eu(s,i,c,w,g);a=_?a.projectionNext:a.next}}function qd(i,s,a,l,c,g){r_(a,l,i.firstChild,s,c,g,!1)}function Eo(i,s,a,l,c,g){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)eu(s,i,c,b[A],g);else r_(i,s,b,_[3],c,g,!0)}function T0(i,s,a){Qt(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function i_(i,s,a){Qt(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function C0(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const g=s.length;if(c+g===l||i.charCodeAt(c+g)<=32)return c}a=c+1}}const tu="ng-template";function A0(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==C0(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Kr(i){return 4===i.type&&i.value!==tu}function nl(i,s,a){return s===(4!==i.type||a?i.value:tu)}function QI(i,s,a){let l=4;const c=i.attrs||[],g=function(i){for(let s=0;s<i.length;s++)if(co(i[s]))return s;return i.length}(c);let _=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!nl(i,b,a)||""===b&&1===s.length){if(Ki(l))return!1;_=!0}}else{const A=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!A0(i.attrs,A,a)){if(Ki(l))return!1;_=!0}continue}const k=S0(8&l?"class":b,c,Kr(i),a);if(-1===k){if(Ki(l))return!1;_=!0;continue}if(""!==A){let $;$=k>g?"":c[k+1].toLowerCase();const Z=8&l?$:null;if(Z&&-1!==C0(Z,A,0)||2&l&&A!==$){if(Ki(l))return!1;_=!0}}}}else{if(!_&&!Ki(l)&&!Ki(b))return!1;if(_&&Ki(b))continue;_=!1,l=b|1&l}}return Ki(l)||_}function Ki(i){return 0==(1&i)}function S0(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let g=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=s[++c];for(;"string"==typeof w;)w=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=g?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function o_(i,s,a=!1){for(let l=0;l<s.length;l++)if(QI(i,s[l],a))return!0;return!1}function a_(i,s){return i?":not("+s.trim()+")":s}function x0(i){let s=i[0],a=1,l=2,c="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];c+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?c+="."+_:4&l&&(c+=" "+_);else""!==c&&!Ki(_)&&(s+=a_(g,c),c=""),l=_,g=g||!Ki(l);a++}return""!==c&&(s+=a_(g,c)),s}const St={};function u_(i){l_(Ot(),be(),ln()+i,wa())}function l_(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&Pu(s,g,a)}else{const g=i.preOrderHooks;null!==g&&Na(s,g,0,a)}Ps(a)}function Yf(i,s){return i<<17|s<<2}function Hs(i){return i>>17&32767}function Qf(i){return 2|i}function Wo(i){return(131068&i)>>2}function Jg(i,s){return-131069&i|s<<2}function Jf(i){return 1|i}function Wd(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],g=a[l+1];if(-1!==g){const _=i.data[g];Fo(c),_.contentQueries(2,s[g],g)}}}function nu(i,s,a,l,c,g,_,w,b,A){const R=s.blueprint.slice();return R[0]=c,R[2]=140|l,ya(R),R[3]=R[15]=i,R[8]=a,R[10]=_||i&&i[10],R[11]=w||i&&i[11],R[12]=b||i&&i[12]||null,R[9]=A||i&&i[9]||null,R[6]=g,R[16]=2==s.type?i[16]:R,R}function Zd(i,s,a,l,c){let g=i.data[s];if(null===g)g=function(i,s,a,l,c){const g=Ea(),_=Mu(),b=i.data[s]=function(i,s,a,l,c,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,s,a,l,c),Qe.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=c;const _=function(){const i=Qe.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return or(g,!0),g}function cc(i,s,a,l){if(0===a)return-1;const c=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function dc(i,s,a){xu(s);try{const l=i.viewQuery;null!==l&&lm(1,l,a);const c=i.template;null!==c&&im(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Wd(i,s),i.staticViewQueries&&lm(2,i.viewQuery,a);const g=i.components;null!==g&&function(i,s){for(let a=0;a<s.length;a++)fD(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ma()}}function hc(i,s,a,l){const c=s[2];if(256==(256&c))return;xu(s);const g=wa();try{ya(s),function(i){Qe.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&im(i,s,a,2,l);const _=3==(3&c);if(!g)if(_){const A=i.preOrderCheckHooks;null!==A&&Pu(s,A,null)}else{const A=i.preOrderHooks;null!==A&&Na(s,A,0,null),gd(s,0)}if(function(i){for(let s=Xa(i);null!==s;s=Ud(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],g=c[3];0==(1024&c[2])&&Os(g,1),c[2]|=1024}}}(s),function(i){for(let s=Xa(i);null!==s;s=Ud(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];ma(l)&&hc(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Wd(i,s),!g)if(_){const A=i.contentCheckHooks;null!==A&&Pu(s,A)}else{const A=i.contentHooks;null!==A&&Na(s,A,1),gd(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Ps(~c);else{const g=c,_=a[++l],w=a[++l];Ta(_,g),w(2,s[g])}}}finally{Ps(-1)}}(i,s);const w=i.components;null!==w&&function(i,s){for(let a=0;a<s.length;a++)hD(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&lm(2,b,l),!g)if(_){const A=i.viewCheckHooks;null!==A&&Pu(s,A)}else{const A=i.viewHooks;null!==A&&Na(s,A,2),gd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Os(s[3],-1))}finally{Ma()}}function D_(i,s,a,l){const c=s[10],g=!wa(),_=ss(s);try{g&&!_&&c.begin&&c.begin(),_&&dc(i,s,l),hc(i,s,a,l)}finally{g&&!_&&c.end&&c.end()}}function im(i,s,a,l,c){const g=ln(),_=2&l;try{Ps(-1),_&&s.length>20&&l_(i,s,20,wa()),a(l,c)}finally{Ps(g)}}function fc(i,s,a){if($n(s)){const c=s.directiveEnd;for(let g=s.directiveStart;g<c;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}function pc(i,s,a){!Au()||(function(i,s,a,l){const c=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Uo(a,s),ur(l,s);const _=a.initialInputs;for(let w=c;w<g;w++){const b=i.data[w],A=si(b);A&&R_(s,a,b);const R=Ls(s,i,w,a);ur(R,s),null!==_&&O_(0,w-c,R,b,0,_),A&&(Kt(a.index,s)[8]=R)}}(i,s,a,Nn(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,c=a.directiveEnd,_=a.index,w=Qe.lFrame.currentDirectiveIndex;try{Ps(_);for(let b=l;b<c;b++){const A=i.data[b],R=s[b];Ca(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&X0(A,R)}}finally{Ps(-1),Ca(w)}}(i,s,a))}function tp(i,s,a=Nn){const l=s.localNames;if(null!==l){let c=s.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?a(s,i):i[_];i[c++]=w}}}function G0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=sl(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function sl(i,s,a,l,c,g,_,w,b,A){const R=20+l,k=R+c,$=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:St);return a}(R,k),Z="function"==typeof A?A():A;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:w,declTNode:s,data:$.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Z,incompleteFirstPass:!1}}function sD(i,s,a,l){const c=cm(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&k_(i).push(l,c.length-1))}function q0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function Zi(i,s,a,l,c,g,_,w){const b=Nn(s,a);let R,A=s.inputs;!w&&null!=A&&(R=A[l])?(uw(i,a,R,l,c),rs(s)&&function(i,s){const a=Kt(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=_?_(c,s.value||"",l):c,Qt(g)?g.setProperty(b,l,c):tt(l)||(b.setProperty?b.setProperty(l,c):b[l]=c))}function A_(i,s,a,l){let c=!1;if(Au()){const g=function(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];o_(a,_.selectors,!1)&&(c||(c=[]),ls(Uo(a,s),i,_.type),si(_)?(tw(i,a),c.unshift(_)):c.push(_))}return c}(i,s,a),_=null===l?null:{"":-1};if(null!==g){c=!0,om(a,i.data.length,g.length);for(let R=0;R<g.length;R++){const k=g[R];k.providersResolver&&k.providersResolver(k)}let w=!1,b=!1,A=cc(i,s,g.length,null);for(let R=0;R<g.length;R++){const k=g[R];a.mergedAttrs=Zn(a.mergedAttrs,k.hostAttrs),nw(i,a,s,A,k),uD(A,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const $=k.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),A++}!function(i,s){const l=s.directiveEnd,c=i.data,g=s.attrs,_=[];let w=null,b=null;for(let A=s.directiveStart;A<l;A++){const R=c[A],k=R.inputs,$=null===g||Kr(s)?null:lD(k,g);_.push($),w=q0(k,A,w),b=q0(R.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=b}(i,a)}_&&function(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const g=a[s[c+1]];if(null==g)throw new Ve("301",`Export of name '${s[c+1]}' not found!`);l.push(s[c],g)}}}(a,l,_)}return a.mergedAttrs=Zn(a.mergedAttrs,a.attrs),c}function S_(i,s,a,l,c,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,c,_)}}function X0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function tw(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function uD(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;si(s)&&(a[""]=i)}}function om(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function nw(i,s,a,l,c){i.data[l]=c;const g=c.factory||(c.factory=Ii(c.type)),_=new Oa(g,si(c),null);i.blueprint[l]=_,a[l]=_,S_(i,s,0,l,cc(i,a,c.hostVars,St),c)}function R_(i,s,a){const l=Nn(s,i),c=G0(a),g=i[10],_=Yd(i,nu(i,c,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=_}function bo(i,s,a,l,c,g){const _=Nn(i,s);!function(i,s,a,l,c,g,_){if(null==g)Qt(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const w=null==_?K(g):_(g,l||"",c);Qt(i)?i.setAttribute(s,c,w,a):a?s.setAttributeNS(a,c,w):s.setAttribute(c,w)}}(s[11],_,g,i.value,a,l,c)}function O_(i,s,a,l,c,g){const _=g[s];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const A=_[b++],R=_[b++],k=_[b++];null!==w?l.setInput(a,k,A,R):a[R]=k}}}function lD(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function rw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function hD(i,s){const a=Kt(s,i);if(ma(a)){const l=a[1];80&a[2]?hc(l,a,l.template,a[8]):a[5]>0&&am(a)}}function am(i){for(let l=Xa(i);null!==l;l=Ud(l))for(let c=10;c<l.length;c++){const g=l[c];if(1024&g[2]){const _=g[1];hc(_,g,_.template,g[8])}else g[5]>0&&am(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=Kt(a[l],i);ma(c)&&c[5]>0&&am(c)}}function fD(i,s){const a=Kt(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),dc(l,a,a[8])}function Yd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function P_(i){for(;i;){i[2]|=64;const s=Ja(i);if(ef(i)&&!s)return i;i=s}return null}function Qd(i,s,a){const l=s[10];l.begin&&l.begin();try{hc(i,s,i.template,a)}catch(c){throw F_(s,c),c}finally{l.end&&l.end()}}function sw(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=kf(a),c=l[1];D_(c,l,c.template,a)}}(i[8])}function lm(i,s,a){Fo(0),s(i,a)}const gD=(()=>Promise.resolve(null))();function cm(i){return i[7]||(i[7]=[])}function k_(i){return i.cleanup||(i.cleanup=[])}function F_(i,s){const a=i[9],l=a?a.get(ac,null):null;l&&l.handleError(s)}function uw(i,s,a,l,c){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=s[_],A=i.data[_];null!==A.setInput?A.setInput(b,c,l,w):b[w]=c}}function Ko(i,s,a){const l=Di(s,i);!function(i,s,a){Qt(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function dm(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?g=w:1==g?c=ue(c,w):2==g&&(l=ue(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const cw=new nn("INJECTOR",-1);class _D{get(s,a=$u){if(a===$u){const l=new Error(`NullInjectorError: No provider for ${ie(s)}!`);throw l.name="NullInjectorError",l}return a}}const dw=new nn("Set Injector scope."),np={},iS={};let hm;function hw(){return void 0===hm&&(hm=new _D),hm}function fw(i,s=null,a=null,l){const c=vD(i,s,a,l);return c._resolveInjectorDefTypes(),c}function vD(i,s=null,a=null,l){return new ED(i,a,s||hw(),l)}class ED{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Hi(a,w=>this.processProvider(w,s,a)),Hi([s],w=>this.processInjectorType(w,[],g)),this.records.set(cw,ci(void 0,this));const _=this.records.get(dw);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof s?null:ie(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=$u,l=pt.Default){this.assertNotDestroyed();const c=F(this),g=$r(void 0);try{if(!(l&pt.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof nn)&&yi(s);w=b&&this.injectableDefInScope(b)?ci(yr(s),np):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&pt.Self?hw():this.parent).get(s,a=l&pt.Optional&&a===$u?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[ds]=_[ds]||[]).unshift(ie(s)),c)throw _;return function(i,s,a,l){const c=i[ds];throw s[I]&&c.unshift(s[I]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ie(s);if(Array.isArray(s))c=s.map(ie).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):ie(w)))}c=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(bf,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[ds]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{$r(g),F(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(ie(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=J(s)))return!1;let c=_i(s);const g=null==c&&s.ngModule||void 0,_=void 0===g?s:g,w=-1!==l.indexOf(_);if(void 0!==g&&(c=_i(g)),null==c)return!1;if(null!=c.imports&&!w){let R;l.push(_);try{Hi(c.imports,k=>{this.processInjectorType(k,a,l)&&(void 0===R&&(R=[]),R.push(k))})}finally{}if(void 0!==R)for(let k=0;k<R.length;k++){const{ngModule:$,providers:Z}=R[k];Hi(Z,fe=>this.processProvider(fe,$,Z||L))}}this.injectorDefTypes.add(_);const b=Ii(_)||(()=>new _);this.records.set(_,ci(b,np));const A=c.providers;if(null!=A&&!w){const R=s;Hi(A,k=>this.processProvider(k,R,A))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let c=Gs(s=J(s))?s:J(s&&s.provide);const g=(i=s,bD(i)?ci(void 0,i.useValue):ci(pw(i),np));var i;if(Gs(s)||!0!==s.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=ci(void 0,np,!0),_.factory=()=>je(_.multi),this.records.set(c,_)),c=s,_.multi.push(s)}this.records.set(c,g)}hydrate(s,a){return a.value===np&&(a.value=iS,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=J(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function yr(i){const s=yi(i),a=null!==s?s.factory:Ii(i);if(null!==a)return a;if(i instanceof nn)throw new Error(`Token ${ie(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?");throw new Error(`Can't resolve all parameters for ${ie(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[Fi]||i[zn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function pw(i,s,a){let l;if(Gs(i)){const c=J(i);return Ii(c)||yr(c)}if(bD(i))l=()=>J(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...je(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>z(J(i.useExisting));else{const c=J(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Ii(c)||yr(c);l=()=>new c(...je(i.deps))}return l}function ci(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function bD(i){return null!==i&&"object"==typeof i&&T in i}function Gs(i){return"function"==typeof i}let lr=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return fw({name:""},l,a,"");{const g=null!==(c=a.name)&&void 0!==c?c:"";return fw({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=$u,i.NULL=new _D,i.\u0275prov=an({token:i,providedIn:"any",factory:()=>z(cw)}),i.__NG_ELEMENT_ID__=-1,i})();function _w(i,s){ks(kf(i)[1],yn())}function vm(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(si(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(a){l.push(c);const _=i;_.inputs=Em(i.inputs),_.declaredInputs=Em(i.declaredInputs),_.outputs=Em(i.outputs);const w=c.hostBindings;w&&ND(i,w);const b=c.viewQuery,A=c.contentQueries;if(b&&$_(i,b),A&&RD(i,A),re(i.inputs,c.inputs),re(i.declaredInputs,c.declaredInputs),re(i.outputs,c.outputs),si(c)&&c.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===vm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=Zn(c.hostAttrs,a=Zn(a,c.hostAttrs))}}(l)}function Em(i){return i===H?{}:i===L?[]:i}function $_(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function RD(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,g)=>{s(l,c,g),a(l,c,g)}:s}function ND(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let sp=null;function Xd(){if(!sp){const i=vt.Symbol;if(i&&i.iterator)sp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(sp=l)}}}return sp}function al(i){return!!op(i)&&(Array.isArray(i)||!(i instanceof Map)&&Xd()in i)}function op(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function xr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Pr(i,s,a,l){const c=be();return xr(c,xs(),s)&&(Ot(),bo(_n(),c,i,s,a,l)),Pr}function Tm(i,s,a,l,c,g,_,w){const b=be(),A=Ot(),R=i+20,k=A.firstCreatePass?function(i,s,a,l,c,g,_,w,b){const A=s.consts,R=Zd(s,i,4,_||null,Cr(A,w));A_(s,a,R,Cr(A,b)),ks(s,R);const k=R.tViews=sl(2,R,l,c,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,R),k.queries=s.queries.embeddedTView(R)),R}(R,A,b,s,a,l,c,g,_):A.data[R];or(k,!1);const $=b[11].createComment("");Gd(A,b,$,k),ur($,b),Yd(b,b[R]=rw($,b,$,k)),Ml(k)&&pc(A,b,k),null!=_&&tp(b,k,w)}function ih(i,s=pt.Default){const a=be();return null===a?z(i,s):jo(yn(),a,J(i),s)}function av(){throw new Error("invalid")}function _c(i,s,a){const l=be();return xr(l,xs(),s)&&Zi(Ot(),_n(),l,i,s,l[11],a,!1),_c}function dp(i,s,a,l,c){const _=c?"class":"style";uw(i,a,s.inputs[_],_,l)}function hp(i,s,a,l){const c=be(),g=Ot(),_=20+i,w=c[11],b=c[_]=y(w,s,Qe.lFrame.currentNamespace),A=g.firstCreatePass?function(i,s,a,l,c,g,_){const w=s.consts,A=Zd(s,i,2,c,Cr(w,g));return A_(s,a,A,Cr(w,_)),null!==A.attrs&&dm(A,A.attrs,!1),null!==A.mergedAttrs&&dm(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(_,g,c,0,s,a,l):g.data[_];or(A,!0);const R=A.mergedAttrs;null!==R&&pn(w,b,R);const k=A.classes;null!==k&&i_(w,b,k);const $=A.styles;null!==$&&T0(w,b,$),64!=(64&A.flags)&&Gd(g,c,b,A),0===Qe.lFrame.elementDepthCount&&ur(b,c),Qe.lFrame.elementDepthCount++,Ml(A)&&(pc(g,c,A),fc(g,A,c)),null!==l&&tp(c,A)}function sh(){let i=yn();Mu()?ao():(i=i.parent,or(i,!1));const s=i;Qe.lFrame.elementDepthCount--;const a=Ot();a.firstCreatePass&&(ks(a,i),$n(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&dp(a,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&dp(a,s,be(),s.stylesWithoutHost,!1)}function oh(i,s,a,l){hp(i,s,a,l),sh()}function fp(i,s,a){const l=be(),c=Ot(),g=i+20,_=c.firstCreatePass?function(i,s,a,l,c){const g=s.consts,_=Cr(g,l),w=Zd(s,i,8,"ng-container",_);return null!==_&&dm(w,_,!0),A_(s,a,w,Cr(g,c)),null!==s.queries&&s.queries.elementStart(s,w),w}(g,c,l,s,a):c.data[g];or(_,!0);const w=l[g]=l[11].createComment("");Gd(c,l,w,_),ur(w,l),Ml(_)&&(pc(c,l,_),fc(c,_,l)),null!=a&&tp(l,_)}function ah(){let i=yn();const s=Ot();Mu()?ao():(i=i.parent,or(i,!1)),s.firstCreatePass&&(ks(s,i),$n(i)&&s.queries.elementEnd(i))}function cv(){return be()}function xm(i){return!!i&&"function"==typeof i.then}function dv(i){return!!i&&"function"==typeof i.subscribe}const Rw=dv;function vc(i,s,a,l){const c=be(),g=Ot(),_=yn();return function(i,s,a,l,c,g,_,w){const b=Ml(l),R=i.firstCreatePass&&k_(i),k=s[8],$=cm(s);let Z=!0;if(3&l.type||w){const Ue=Nn(l,s),Xe=w?w(Ue):Ue,Ie=$.length,ht=w?Lt=>w(Rn(Lt[l.index])):l.index;if(Qt(a)){let Lt=null;if(!w&&b&&(Lt=function(i,s,a,l){const c=i.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const _=c[g];if(_===a&&c[g+1]===l){const w=s[7],b=c[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,s,c,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=g,Lt.__ngLastListenerFn__=g,Z=!1;else{g=pp(l,s,k,g,!1);const rn=a.listen(Xe,c,g);$.push(g,rn),R&&R.push(c,ht,Ie,Ie+1)}}else g=pp(l,s,k,g,!0),Xe.addEventListener(c,g,_),$.push(g),R&&R.push(c,ht,Ie,_)}else g=pp(l,s,k,g,!1);const fe=l.outputs;let Pe;if(Z&&null!==fe&&(Pe=fe[c])){const Ue=Pe.length;if(Ue)for(let Xe=0;Xe<Ue;Xe+=2){const Ji=s[Pe[Xe]][Pe[Xe+1]].subscribe(g),zc=$.length;$.push(g,Ji),R&&R.push(c,l.index,zc,-(zc+1))}}}(g,c,c[11],_,i,s,!!a,l),vc}function dl(i,s,a,l){try{return!1!==a(l)}catch(c){return F_(i,c),!1}}function pp(i,s,a,l,c){return function g(_){if(_===Function)return l;const w=2&i.flags?Kt(i.index,s):s;0==(32&s[2])&&P_(w);let b=dl(s,0,l,_),A=g.__ngNextListenerFn__;for(;A;)b=dl(s,0,A,_)&&b,A=A.__ngNextListenerFn__;return c&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Nw(i=1){return function(i){return(Qe.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,Qe.lFrame.contextLView))[8]}(i)}function ch(i,s,a,l,c){const g=i[a+1],_=null===s;let w=l?Hs(g):Wo(g),b=!1;for(;0!==w&&(!1===b||_);){const R=i[w+1];_p(i[w],s)&&(b=!0,i[w+1]=l?Jf(R):Qf(R)),w=l?Hs(R):Wo(R)}b&&(i[a+1]=l?Qf(g):Jf(g))}function _p(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Go(i,s)>=0}const vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yv(i){return i.substring(vr.key,vr.keyEnd)}function xw(i,s){const a=vr.textEnd;return a===s?-1:(s=vr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,vr.key=s,a),Ec(i,s,a))}function Ec(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function _v(i,s,a){return zs(i,s,a,!1),_v}function Fm(i,s){return zs(i,s,null,!0),Fm}function Lm(i){!function(i,s,a,l){const c=Ot(),g=Bi(2);c.firstUpdatePass&&Vw(c,null,g,l);const _=be();if(a!==St&&xr(_,g,a)){const w=c.data[ln()];if(Uw(w,l)&&!Lw(c,g)){let b=l?w.classesWithoutHost:w.stylesWithoutHost;null!==b&&(a=ue(b,a||"")),dp(c,w,_,a,l)}else!function(i,s,a,l,c,g,_,w){c===St&&(c=L);let b=0,A=0,R=0<c.length?c[0]:null,k=0<g.length?g[0]:null;for(;null!==R||null!==k;){const $=b<c.length?c[b+1]:void 0,Z=A<g.length?g[A+1]:void 0;let Pe,fe=null;R===k?(b+=2,A+=2,$!==Z&&(fe=k,Pe=Z)):null===k||null!==R&&R<k?(b+=2,fe=R):(A+=2,fe=k,Pe=Z),null!==fe&&Jn(i,s,a,l,fe,Pe,_,w),R=b<c.length?c[b]:null,k=A<g.length?g[A]:null}}(c,w,_,_[11],_[g+1],_[g+1]=function(i,s,a){if(null==a||""===a)return L;const l=[],c=fs(a);if(Array.isArray(c))for(let g=0;g<c.length;g++)i(l,c[g],!0);else if("object"==typeof c)for(const g in c)c.hasOwnProperty(g)&&i(l,g,c[g]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,g)}}(gr,Do,i,!0)}function Do(i,s){for(let a=function(i){return function(i){vr.key=0,vr.keyEnd=0,vr.value=0,vr.valueEnd=0,vr.textEnd=i.length}(i),xw(i,Ec(i,0,vr.textEnd))}(s);a>=0;a=xw(s,a))gr(i,yv(s),!0)}function zs(i,s,a,l){const c=be(),g=Ot(),_=Bi(2);g.firstUpdatePass&&Vw(g,i,_,l),s!==St&&xr(c,_,s)&&Jn(g,g.data[ln()],c,c[11],i,c[_+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ie(fs(i)))),i}(s,a),l,_)}function Lw(i,s){return s>=i.expandoStartIndex}function Vw(i,s,a,l){const c=i.data;if(null===c[a+1]){const g=c[ln()],_=Lw(i,a);Uw(g,l)&&null===s&&!_&&(s=!1),s=function(i,s,a,l){const c=ko(i);let g=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=hh(a=Ep(null,i,s,a,l),s.attrs,l),g=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(a=Ep(c,i,s,a,l),null===g){let b=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Wo(l))return i[Hs(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=Ep(null,i,s,b[1],l),b=hh(b,s.attrs,l),function(i,s,a,l){i[Hs(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else g=function(i,s,a){let l;const c=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<c;g++)l=hh(l,i[g].hostAttrs,a);return hh(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(c,g,s,l),function(i,s,a,l,c,g){let _=g?s.classBindings:s.styleBindings,w=Hs(_),b=Wo(_);i[l]=a;let R,A=!1;if(Array.isArray(a)){const k=a;R=k[1],(null===R||Go(k,R)>0)&&(A=!0)}else R=a;if(c)if(0!==b){const $=Hs(i[w+1]);i[l+1]=Yf($,w),0!==$&&(i[$+1]=Jg(i[$+1],l)),i[w+1]=function(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Yf(w,0),0!==w&&(i[w+1]=Jg(i[w+1],l)),w=l;else i[l+1]=Yf(b,0),0===w?w=l:i[b+1]=Jg(i[b+1],l),b=l;A&&(i[l+1]=Qf(i[l+1])),ch(i,R,l,!0),ch(i,R,l,!1),function(i,s,a,l,c){const g=c?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&Go(g,s)>=0&&(a[l+1]=Jf(a[l+1]))}(s,R,i,l,g),_=Yf(w,b),g?s.classBindings=_:s.styleBindings=_}(c,g,s,a,_,l)}}function Ep(i,s,a,l,c){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=s[w],l=hh(l,g.hostAttrs,c),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function hh(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?c=_:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),gr(i,_,!!a||s[++g]))}return void 0===i?null:i}function Jn(i,s,a,l,c,g,_,w){if(!(3&s.type))return;const b=i.data,A=b[w+1];Bm(function(i){return 1==(1&i)}(A)?Ev(b,s,a,c,Wo(A),_):void 0)||(Bm(g)||function(i){return 2==(2&i)}(A)&&(g=Ev(b,null,a,c,w,_)),function(i,s,a,l,c){const g=Qt(i);if(s)c?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:Bs.DashCase;if(null==c)g?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),_|=Bs.Important),g?i.setStyle(a,l,c,_):a.style.setProperty(l,c,w?"important":"")}}}(l,_,Di(ln(),a),c,g))}function Ev(i,s,a,l,c,g){const _=null===s;let w;for(;c>0;){const b=i[c],A=Array.isArray(b),R=A?b[1]:b,k=null===R;let $=a[c+1];$===St&&($=k?L:void 0);let Z=k?Gi($,l):R===l?$:void 0;if(A&&!Bm(Z)&&(Z=Gi(b,l)),Bm(Z)&&(w=Z,_))return w;const fe=i[c+1];c=_?Hs(fe):Wo(fe)}if(null!==s){let b=g?s.residualClasses:s.residualStyles;null!=b&&(w=Gi(b,l))}return w}function Bm(i){return void 0!==i}function Uw(i,s){return 0!=(i.flags&(s?16:32))}function Bw(i,s=""){const a=be(),l=Ot(),c=i+20,g=l.firstCreatePass?Zd(l,c,1,s,null):l.data[c],_=a[c]=function(i,s){return Qt(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Gd(l,a,_,g),or(g,!1)}function jm(i){return bp("",i,""),jm}function bp(i,s,a){const l=be(),c=function(i,s,a,l){return xr(i,xs(),a)?s+K(a)+l:St}(l,i,s,a);return c!==St&&Ko(l,ln(),c),bp}function Pv(i,s,a){const l=be();if(xr(l,xs(),s)){const g=Ot(),_=_n();Zi(g,_,l,i,s,function(i,s,a){return(null===i||si(i))&&(a=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}(ko(g.data),_,l),a,!0)}return Pv}const ou=void 0;var tT=["en",[["a","p"],["AM","PM"],ou],[["AM","PM"],ou,ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ou,"{1} 'at' {0}",ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Dc={};function gh(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kr(s);if(a)return a;const l=s.split("-")[0];if(a=kr(l),a)return a;if("en"===l)return tT;throw new Error(`Missing locale data for the locale "${i}".`)}function kv(i){return gh(i)[ot.PluralCase]}function kr(i){return i in Dc||(Dc[i]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[i]),Dc[i]}var ot=(()=>((ot=ot||{})[ot.LocaleId=0]="LocaleId",ot[ot.DayPeriodsFormat=1]="DayPeriodsFormat",ot[ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",ot[ot.DaysFormat=3]="DaysFormat",ot[ot.DaysStandalone=4]="DaysStandalone",ot[ot.MonthsFormat=5]="MonthsFormat",ot[ot.MonthsStandalone=6]="MonthsStandalone",ot[ot.Eras=7]="Eras",ot[ot.FirstDayOfWeek=8]="FirstDayOfWeek",ot[ot.WeekendRange=9]="WeekendRange",ot[ot.DateFormat=10]="DateFormat",ot[ot.TimeFormat=11]="TimeFormat",ot[ot.DateTimeFormat=12]="DateTimeFormat",ot[ot.NumberSymbols=13]="NumberSymbols",ot[ot.NumberFormats=14]="NumberFormats",ot[ot.CurrencyCode=15]="CurrencyCode",ot[ot.CurrencySymbol=16]="CurrencySymbol",ot[ot.CurrencyName=17]="CurrencyName",ot[ot.Currencies=18]="Currencies",ot[ot.Directionality=19]="Directionality",ot[ot.PluralCase=20]="PluralCase",ot[ot.ExtraData=21]="ExtraData",ot))();const Un="en-US";let $e=Un;function pl(i,s,a,l,c){if(i=J(i),Array.isArray(i))for(let g=0;g<i.length;g++)pl(i[g],s,a,l,c);else{const g=Ot(),_=be();let w=Gs(i)?i:J(i.provide),b=pw(i);const A=yn(),R=1048575&A.providerIndexes,k=A.directiveStart,$=A.providerIndexes>>20;if(Gs(i)||!i.multi){const Z=new Oa(b,c,ih),fe=Fp(w,s,c?R:R+$,k);-1===fe?(ls(Uo(A,_),g,w),Th(g,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(Z),_.push(Z)):(a[fe]=Z,_[fe]=Z)}else{const Z=Fp(w,s,R+$,k),fe=Fp(w,s,R,R+$),Pe=Z>=0&&a[Z],Ue=fe>=0&&a[fe];if(c&&!Ue||!c&&!Pe){ls(Uo(A,_),g,w);const Xe=function(i,s,a,l,c){const g=new Oa(i,a,ih);return g.multi=[],g.index=s,g.componentProviders=0,kp(g,c,l&&!a),g}(c?Wv:zv,a.length,c,l,b);!c&&Ue&&(a[fe].providerFactory=Xe),Th(g,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(Xe),_.push(Xe)}else Th(g,i,Z>-1?Z:fe,kp(a[c?fe:Z],b,!c&&l));!c&&l&&Ue&&a[fe].componentProviders++}}}function Th(i,s,a,l){const c=Gs(s),g=function(i){return!!i.useClass}(s);if(c||g){const b=(g?J(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const R=A.indexOf(a);-1===R?A.push(a,[l,b]):A[R+1].push(l,b)}else A.push(a,b)}}}function kp(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Fp(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function zv(i,s,a,l){return gl(this.multi,[])}function Wv(i,s,a,l){const c=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Ls(a,a[1],this.providerFactory.index,l);g=w.slice(0,_),gl(c,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],gl(c,g);return g}function gl(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function Kv(i,s=[]){return a=>{a.providersResolver=(l,c)=>function(i,s,a){const l=Ot();if(l.firstCreatePass){const c=si(i);pl(a,l.data,l.blueprint,c,!0),pl(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Zv{}class _T{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ie(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ah=(()=>{class i{}return i.NULL=new _T,i})();function lb(){return Nc(yn(),be())}function Nc(i,s){return new ml(Nn(i,s))}let ml=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=lb,i})();function vT(i){return i instanceof ml?i.nativeElement:i}class Qv{}let Sh=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function(){const i=be(),a=Kt(yn().index,i);return function(i){return i[11]}(Vi(a)?a:i)}(),i})(),xc=(()=>{class i{}return i.\u0275prov=an({token:i,providedIn:"root",factory:()=>null}),i})();class Jv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Pc=new Jv("13.1.0"),Jm={};function Vp(i,s,a,l,c=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(Rn(g)),Ui(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&Vp(b[1],b,A,l)}const _=a.type;if(8&_)Vp(i,s,a.child,l);else if(32&_){const w=Xu(a,s);let b;for(;b=w();)l.push(b)}else if(16&_){const w=t_(s,a);if(Array.isArray(w))l.push(...w);else{const b=Ja(s[16]);Vp(b[1],b,w,l,!0)}}a=c?a.projectionNext:a.next}return l}class lu{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Vp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ui(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Oe(s,l),$o(a,l))}this._attachedToViewContainer=!1}Me(this._lView[1],this._lView)}onDestroy(s){sD(this._lView[1],this._lView,null,s)}markForCheck(){P_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){uo(!0);try{Qd(i,s,a)}finally{uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,qd(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class ET extends lu{constructor(s){super(s),this._view=s}detectChanges(){sw(this._view)}checkNoChanges(){!function(i){uo(!0);try{sw(i)}finally{uo(!1)}}(this._view)}get context(){return null}}class db extends Ah{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=un(s);return new Up(a,this.ngModule)}}function Xn(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const ey=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$f});class Up extends Zv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(x0).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Xn(this.componentDef.inputs)}get outputs(){return Xn(this.componentDef.outputs)}create(s,a,l,c){const g=(c=c||this.ngModule)?function(i,s){return{get:(a,l,c)=>{const g=i.get(a,Jm,c);return g!==Jm||l===Jm?g:s.get(a,l,c)}}}(s,c.injector):s,_=g.get(Qv,Pl),w=g.get(xc,null),b=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",R=l?function(i,s,a){if(Qt(i))return i.selectRootElement(s,a===ze.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):y(_.createRenderer(null,this.componentDef),A,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(A)),k=this.componentDef.onPush?576:528,$=function(i,s){return{components:[],scheduler:i||$f,clean:gD,playerHandler:s||null,flags:0}}(),Z=sl(0,null,null,1,0,null,null,null,null,null),fe=nu(null,Z,$,k,null,null,_,b,w,g);let Pe,Ue;xu(fe);try{const Xe=function(i,s,a,l,c,g){const _=a[1];a[20]=i;const b=Zd(_,20,2,"#host",null),A=b.mergedAttrs=s.hostAttrs;null!==A&&(dm(b,A,!0),null!==i&&(pn(c,i,A),null!==b.classes&&i_(c,i,b.classes),null!==b.styles&&T0(c,i,b.styles)));const R=l.createRenderer(i,s),k=nu(a,G0(s),null,s.onPush?64:16,a[20],b,l,R,g||null,null);return _.firstCreatePass&&(ls(Uo(b,a),_,s.type),tw(_,b),om(b,a.length,1)),Yd(a,k),a[20]=k}(R,this.componentDef,fe,_,b);if(R)if(l)pn(b,R,["ng-version",Pc.full]);else{const{attrs:Ie,classes:ht}=function(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===c?""!==g&&s.push(g,i[++l]):8===c&&a.push(g);else{if(!Ki(c))break;c=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Ie&&pn(b,R,Ie),ht&&ht.length>0&&i_(b,R,ht.join(" "))}if(Ue=io(Z,20),void 0!==a){const Ie=Ue.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const Lt=a[ht];Ie.push(null!=Lt?Array.from(Lt):null)}}Pe=function(i,s,a,l,c){const g=a[1],_=function(i,s,a){const l=yn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nw(i,l,s,cc(i,s,1,null),a));const c=Ls(s,i,l.directiveStart,l);ur(c,s);const g=Nn(l,s);return g&&ur(g,s),c}(g,a,s);if(l.components.push(_),i[8]=_,c&&c.forEach(b=>b(_,s)),s.contentQueries){const b=yn();s.contentQueries(1,_,b.directiveStart)}const w=yn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ps(w.index),S_(a[1],w,0,w.directiveStart,w.directiveEnd,s),X0(s,_)),_}(Xe,this.componentDef,fe,$,[_w]),dc(Z,fe,null)}finally{Ma()}return new hb(this.componentType,Pe,Nc(Ue,fe),fe,Ue)}}class hb extends class{}{constructor(s,a,l,c,g){super(),this.location=l,this._rootLView=c,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new ET(c),this.componentType=s}get injector(){return new gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Es{}class Xv{}const kc=new Map;class tE extends Es{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new db(this);const l=ir(s);this._bootstrapComponents=Wi(l.bootstrap),this._r3Injector=vD(s,a,[{provide:Es,useValue:this},{provide:Ah,useValue:this.componentFactoryResolver}],ie(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=lr.THROW_IF_NOT_FOUND,l=pt.Default){return s===lr||s===Es||s===cw?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ty extends Xv{constructor(s){super(),this.moduleType=s,null!==ir(s)&&function(i){const s=new Set;!function a(l){const c=ir(l,!0),g=c.id;null!==g&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ie(s)} vs ${ie(s.name)}`)}(g,kc.get(g),l),kc.set(g,l));const _=Wi(c.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new tE(this.moduleType,s)}}function jp(i,s,a,l){return pb(be(),Kn(),i,s,a,l)}function pb(i,s,a,l,c,g){const _=s+a;return xr(i,_,c)?function(i,s,a){return i[s]=a}(i,_+1,g?l.call(g,c):l(c)):function(i,s){const a=i[s];return a===St?void 0:a}(i,_+1)}function Oh(i,s){const a=Ot();let l;const c=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const g=l.factory||(l.factory=Ii(l.type)),_=$r(ih);try{const w=ho(!1),b=g();return ho(w),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,be(),c,b),b}finally{$r(_)}}function rE(i,s,a){const l=i+20,c=be(),g=function(i,s){return i[s]}(c,l);return function(i,s){return i[1].data[s].pure}(c,l)?pb(c,Kn(),s,g.transform,a,g):g.transform(a)}function iE(i){return s=>{setTimeout(i,void 0,s)}}const na=class extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,g,_;let w=s,b=a||(()=>null),A=l;if(s&&"object"==typeof s){const k=s;w=null===(c=k.next)||void 0===c?void 0:c.bind(k),b=null===(g=k.error)||void 0===g?void 0:g.bind(k),A=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=iE(b),w&&(w=iE(w)),A&&(A=iE(A)));const R=super.subscribe({next:w,error:b,complete:A});return s instanceof Q.w0&&s.add(R),R}};function Hp(){return this._results[Xd()]()}class ry{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Xd(),l=ry.prototype;l[a]||(l[a]=Hp)}get changes(){return this._changes||(this._changes=new na)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=zr(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],g=s[l];if(a&&(c=a(c),g=a(g)),g!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Gp=(()=>{class i{}return i.__NG_ELEMENT_ID__=vb,i})();const Lr=Gp,sE=class extends Lr{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=nu(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),dc(a,l,s),new lu(l)}};function vb(){return yl(yn(),be())}function yl(i,s){return 4&i.type?new sE(s,i,Nc(i,s)):null}let ws=(()=>{class i{}return i.__NG_ELEMENT_ID__=oE,i})();function oE(){return uE(yn(),be())}const Eb=ws,Ph=class extends Eb{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Nc(this._hostTNode,this._hostLView)}get injector(){return new gn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Vu(this._hostTNode,this._hostLView);if(oi(s)){const a=xa(s,this._hostLView),l=Vo(s);return new gn(a[1].data[l+8],a)}return new gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=aE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,g){const _=s&&!("function"==typeof s);let w;if(_)w=a;else{const k=a||{};w=k.index,l=k.injector,c=k.projectableNodes,g=k.ngModuleRef}const b=_?s:new Up(un(s)),A=l||this.parentInjector;if(!g&&null==b.ngModule&&A){const k=A.get(Es,null);k&&(g=k)}const R=b.create(A,c,void 0,g);return this.insert(R.hostView,w),R}insert(s,a){const l=s._lView,c=l[1];if(Ui(l[3])){const R=this.indexOf(s);if(-1!==R)this.detach(R);else{const k=l[3],$=new Ph(k,k[6],k[3]);$.detach($.indexOf(s))}}const g=this._adjustIndex(a),_=this._lContainer;!function(i,s,a,l){const c=10+l,g=a.length;l>0&&(a[c-1][4]=s),l<g-10?(s[4]=a[c],$l(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(c,l,_,g);const w=n_(g,_),b=l[11],A=el(b,_[7]);return null!==A&&function(i,s,a,l,c,g){l[0]=c,l[6]=s,qd(i,l,a,1,c,g)}(c,_[6],b,l,A,w),s.attachToViewContainerRef(),$l(iy(_),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=aE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Oe(this._lContainer,a);l&&($o(iy(this._lContainer),a),Me(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Oe(this._lContainer,a);return l&&null!=$o(iy(this._lContainer),a)?new lu(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function aE(i){return i[8]}function iy(i){return i[8]||(i[8]=[])}function uE(i,s){let a;const l=s[i.index];if(Ui(l))a=l;else{let c;if(8&i.type)c=Rn(l);else{const g=s[11];c=g.createComment("");const _=Nn(i,s);$s(g,el(g,_),c,function(i,s){return Qt(i)?i.nextSibling(s):s.nextSibling}(g,_),!1)}s[i.index]=a=rw(l,s,c,i),Yd(s,a)}return new Ph(a,i,s)}class sy{constructor(s){this.queryList=s,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class cE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);c.push(this.queries[_.indexInDeclarationView].clone())}return new cE(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==pE(s,a).matches&&this.queries[a].setDirty()}}class dE{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class oy{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,c);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new oy(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ay{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ay(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const g=l[c];this.matchTNodeWithReadOption(s,a,OT(a,g)),this.matchTNodeWithReadOption(s,a,Hn(a,s,g,!1,!1))}else l===Gp?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Hn(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===ml||c===ws||c===Gp&&4&a.type)this.addMatch(a.index,-2);else{const g=Hn(a,s,c,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OT(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function bb(i,s,a,l){return-1===a?function(i,s){return 11&i.type?Nc(i,s):4&i.type?yl(i,s):null}(s,i):-2===a?function(i,s,a){return a===ml?Nc(s,i):a===Gp?yl(s,i):a===ws?uE(s,i):void 0}(i,s,l):Ls(i,i[1],a,s)}function Db(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const A=_[b];w.push(A<0?null:bb(s,g[A],_[b+1],a.metadata.read))}c.matches=w}return c.matches}function hE(i,s,a,l){const c=i.queries.getByIndex(a),g=c.matches;if(null!==g){const _=Db(i,s,c,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const A=g[w+1],R=s[-b];for(let k=10;k<R.length;k++){const $=R[k];$[17]===$[3]&&hE($[1],$,A,l)}if(null!==R[9]){const k=R[9];for(let $=0;$<k.length;$++){const Z=k[$];hE(Z[1],Z,A,l)}}}}}return l}function Fc(i){const s=be(),a=Ot(),l=Nu();Fo(l+1);const c=pE(a,l);if(i.dirty&&ss(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const g=c.crossesNgTemplate?hE(a,s,l,[]):Db(a,s,c,l);i.reset(g,vT),i.notifyOnChanges()}return!0}return!1}function Tb(i,s,a,l){const c=Ot();if(c.firstCreatePass){const g=yn();(function(i,s,a){null===i.queries&&(i.queries=new oy),i.queries.track(new ay(s,a))})(c,new dE(s,a,l),g.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function(i,s,a){const l=new ry(4==(4&a));sD(i,s,l,l.destroy),null===s[19]&&(s[19]=new cE),s[19].queries.push(new sy(l))}(c,be(),a)}function Cb(){return i=be(),s=Nu(),i[19].queries[s].queryList;var i,s}function pE(i,s){return i.queries.getByIndex(s)}function Zp(...i){}const Yp=new nn("Application Initializer");let jc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Zp,this.reject=Zp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(xm(g))a.push(g);else if(Rw(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(z(Yp,8))},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();const gu=new nn("AppId"),Pb={provide:gu,useFactory:function(){return`${mu()}${mu()}${mu()}`},deps:[]};function mu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kb=new nn("Platform Initializer"),$c=new nn("Platform ID"),CE=new nn("appBootstrapListener");let vl=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();const Vh=new nn("LocaleId"),AE=new nn("DefaultCurrencyCode");class jT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Uh=(()=>{class i{compileModuleSync(a){return new ty(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Wi(ir(a).declarations).reduce((_,w)=>{const b=un(w);return b&&_.push(new Up(b)),_},[]);return new jT(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();const HT=(()=>Promise.resolve(0))();function SE(i){"undefined"==typeof Zone?HT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class cr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=vt.requestAnimationFrame,s=vt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(vt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Qp(i),i.isCheckStableRunning=!0,ME(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Qp(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,g,_,w)=>{try{return jh(i),a.invokeTask(c,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),Jp(i)}},onInvoke:(a,l,c,g,_,w,b)=>{try{return jh(i),a.invoke(c,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Jp(i)}},onHasTask:(a,l,c,g)=>{a.hasTask(c,g),l===c&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Qp(i),ME(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,c,g)=>(a.handleError(c,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+c,s,ly,Zp,Zp);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const ly={};function ME(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Qp(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function jh(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Jp(i){i._nesting--,ME(i)}class NE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Vb=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),SE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())SE(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(z(cr))},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})(),OE=(()=>{class i{constructor(){this._applications=new Map,PE.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return PE.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();class xE{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Ub(i){PE=i}let Ys,PE=new xE;const FE=new nn("AllowMultipleToken");class qT{constructor(s,a){this.name=s,this.token=a}}function $b(i,s,a=[]){const l=`Platform: ${s}`,c=new nn(l);return(g=[])=>{let _=cy();if(!_||_.injector.get(FE,!1))if(i)i(a.concat(g).concat({provide:c,useValue:!0}));else{const w=a.concat(g).concat({provide:c,useValue:!0},{provide:dw,useValue:"platform"});!function(i){if(Ys&&!Ys.destroyed&&!Ys.injector.get(FE,!1))throw new Ve("400","");Ys=i.get(eg);const s=i.get(kb,null);s&&s.forEach(a=>a())}(lr.create({providers:w,name:l}))}return function(i){const s=cy();if(!s)throw new Ve("401","");return s}()}}function cy(){return Ys&&!Ys.destroyed?Ys:null}let eg=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function(i,s){let a;return a="noop"===i?new NE:("zone.js"===i?void 0:i)||new cr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:cr,useValue:w}];return w.run(()=>{const A=lr.create({providers:b,parent:this.injector,name:a.moduleType.name}),R=a.create(A),k=R.injector.get(ac,null);if(!k)throw new Ve("402","");return w.runOutsideAngular(()=>{const $=w.onError.subscribe({next:Z=>{k.handleError(Z)}});R.onDestroy(()=>{LE(this._modules,R),$.unsubscribe()})}),function(i,s,a){try{const l=a();return xm(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(k,w,()=>{const $=R.injector.get(jc);return $.runInitializers(),$.donePromise.then(()=>(function(i){_t(i,"Expected localeId to be defined"),"string"==typeof i&&($e=i.toLowerCase().replace(/_/g,"-"))}(R.injector.get(Vh,Un)||Un),this._moduleDoBootstrap(R),R))})})}bootstrapModule(a,l=[]){const c=qb({},l);return function(i,s,a){const l=new ty(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(a){const l=a.injector.get(Gc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ve("403","");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve("404","");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(z(lr))},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();function qb(i,s){return Array.isArray(s)?s.reduce(qb,i):Object.assign(Object.assign({},i),s)}let Gc=(()=>{class i{constructor(a,l,c,g,_){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new x.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),b=new x.y(A=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),SE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{R.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(w,b.pipe((0,ne.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ve("405","");let c;c=a instanceof Zv?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const g=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Es),w=c.create(lr.NULL,[],l||c.selector,g),b=w.location.nativeElement,A=w.injector.get(Vb,null),R=A&&w.injector.get(OE);return A&&R&&R.registerApplication(b,A),w.onDestroy(()=>{this.detachView(w.hostView),LE(this.components,w),R&&R.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ve("101","");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;LE(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(CE,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(z(cr),z(lr),z(ac),z(Ah),z(jc))},i.\u0275prov=an({token:i,factory:i.\u0275fac}),i})();function LE(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let hy=!0,zb=!1;function VE(){return zb=!0,hy}function Ur(){if(zb)throw new Error("Cannot enable prod mode after platform setup.");hy=!1}let WT=(()=>{class i{}return i.__NG_ELEMENT_ID__=KT,i})();function KT(i){return function(i,s,a){if(rs(i)&&!a){const l=Kt(i.index,s);return new lu(l,l)}return 47&i.type?new lu(s[16],s):null}(yn(),be(),16==(16&i))}class Gh{constructor(){}supports(s){return al(s)}create(s){return new qh(s)}}const GE=(i,s)=>s;class qh{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||GE}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<yy(l,c,g)?a:l,w=yy(_,c,g),b=_.currentIndex;if(_===l)c--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)c++;else{g||(g=[]);const A=w-c,R=b-c;if(A!=R){for(let $=0;$<A;$++){const Z=$<g.length?g[$]:g[$]=0,fe=Z+$;R<=fe&&fe<A&&(g[$]=Z+1)}g[_.previousIndex]=R-A}}w!==b&&s(_,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!al(s))throw new Error(`Error trying to diff '${ie(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,g,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),l=!0),a=a._next}else c=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Xd()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(c,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,c)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,c)):s=this._addAfter(new qE(a,l),g,c),s}_verifyReinsertion(s,a,l,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,g=s._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new zh),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zh),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class my{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class zh{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new my,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yy(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class zE{constructor(){}supports(s){return s instanceof Map||op(s)}create(){return new WE}}class WE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||op(s)))throw new Error(`Error trying to diff '${ie(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const g=c._prev,_=c._next;return g&&(g._next=_),_&&(_._prev=g),c._next=null,c._prev=null,c}const l=new KE(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class KE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yu(){return new rg([new Gh])}let rg=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||yu()),deps:[[i,new Wr,new ar]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=an({token:i,providedIn:"root",factory:yu}),i})();function _y(){return new vy([new zE])}let vy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||_y()),deps:[[i,new Wr,new ar]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=an({token:i,providedIn:"root",factory:_y}),i})();const ZE=[new zE],YE=new rg([new Gh]),Ey=new vy(ZE),Xb=$b(null,"core",[{provide:$c,useValue:"unknown"},{provide:eg,deps:[lr]},{provide:OE,deps:[]},{provide:vl,deps:[]}]),eI=[{provide:Gc,useClass:Gc,deps:[cr,lr,ac,Ah,jc]},{provide:ey,deps:[cr],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:jc,useClass:jc,deps:[[new ar,Yp]]},{provide:Uh,useClass:Uh,deps:[]},Pb,{provide:rg,useFactory:function(){return YE},deps:[]},{provide:vy,useFactory:function(){return Ey},deps:[]},{provide:Vh,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||Un},deps:[[new vn(Vh),new ar,new Wr]]},{provide:AE,useValue:"USD"}];let iC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(z(Gc))},i.\u0275mod=la({type:i}),i.\u0275inj=Dn({providers:eI}),i})()},3942:(it,De,P)=>{"use strict";P.d(De,{Z:()=>Ve});var f=P(2090),Q=P(4859),x=P(9681),ae=P(1877);class ne{constructor(se,K){this._delegate=se,this.firebase=K,(0,x._addComponent)(se,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(se,K=x._DEFAULT_ENTRY_NAME){var oe;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(se);return!Ee.isInitialized()&&"EXPLICIT"===(null===(oe=Ee.getComponent())||void 0===oe?void 0:oe.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:K})}_removeServiceInstance(se,K=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(K)}_addComponent(se){(0,x._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,x._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ue(){const Fe=function(Fe){const se={},K={__esModule:!0,initializeApp:function(qe,ct={}){const ee=x.initializeApp(qe,ct);if((0,f.r3)(se,ee.name))return se[ee.name];const le=new Fe(ee,K);return se[ee.name]=le,le},app:Ee,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function(qe){const ct=qe.name,ee=ct.replace("-compat","");if(x._registerComponent(qe)&&"PUBLIC"===qe.type){const le=(me=Ee())=>{if("function"!=typeof me[ee])throw re.create("invalid-app-argument",{appName:ct});return me[ee]()};void 0!==qe.serviceProps&&(0,f.ZB)(le,qe.serviceProps),K[ee]=le,Fe.prototype[ee]=function(...me){return this._getService.bind(this,ct).apply(this,qe.multipleInstances?me:[])}}return"PUBLIC"===qe.type?K[ee]:null},removeApp:function(qe){delete se[qe]},useAsService:function(qe,ct){return"serverAuth"===ct?null:ct},modularAPIs:x}};function Ee(qe){if(!(0,f.r3)(se,qe=qe||x._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:qe});return se[qe]}return K.default=K,Object.defineProperty(K,"apps",{get:function(){return Object.keys(se).map(qe=>se[qe])}}),Ee.App=Fe,K}(ne);return Fe.INTERNAL=Object.assign(Object.assign({},Fe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(K){(0,f.ZB)(Fe,K)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Fe}(),B=new ae.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Fe=self.firebase.SDK_VERSION;Fe&&Fe.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=j;(0,x.registerVersion)("@firebase/app-compat","0.1.12",undefined)},9681:(it,De,P)=>{"use strict";P.r(De),P.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>jn,_addComponent:()=>on,_addOrOverwriteComponent:()=>Ir,_apps:()=>_t,_clearComponents:()=>Dn,_components:()=>Mt,_getProvider:()=>an,_registerComponent:()=>jr,_removeServiceInstance:()=>ua,deleteApp:()=>zn,getApp:()=>Fi,getApps:()=>Ce,initializeApp:()=>_i,onLog:()=>$t,registerVersion:()=>pt,setLogLevel:()=>vi});var f=P(5861),Q=P(4859),x=P(1877),ae=P(2090);class ne{constructor(gt){this.container=gt}getPlatformInfoString(){return this.container.getProviders().map(Nt=>{if(function(lt){const gt=lt.getComponent();return"VERSION"===(null==gt?void 0:gt.type)}(Nt)){const kt=Nt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(Nt=>Nt).join(" ")}}const re="@firebase/app",ue=new x.Yd("@firebase/app"),jn="[DEFAULT]",Ct={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Mt=new Map;function on(lt,gt){try{lt.container.addComponent(gt)}catch(Nt){ue.debug(`Component ${gt.name} failed to register with FirebaseApp ${lt.name}`,Nt)}}function Ir(lt,gt){lt.container.addOrOverwriteComponent(gt)}function jr(lt){const gt=lt.name;if(Mt.has(gt))return ue.debug(`There were multiple attempts to register component ${gt}.`),!1;Mt.set(gt,lt);for(const Nt of _t.values())on(Nt,lt);return!0}function an(lt,gt){return lt.container.getProvider(gt)}function ua(lt,gt,Nt=jn){an(lt,gt).clearInstance(Nt)}function Dn(){Mt.clear()}const Vt=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class wn{constructor(gt,Nt,kt){this._isDeleted=!1,this._options=Object.assign({},gt),this._config=Object.assign({},Nt),this._name=Nt.name,this._automaticDataCollectionEnabled=Nt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this.checkDestroyed(),this._automaticDataCollectionEnabled=gt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(gt){this._isDeleted=gt}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const So="9.6.1";function _i(lt,gt={}){"object"!=typeof gt&&(gt={name:gt});const Nt=Object.assign({name:jn,automaticDataCollectionEnabled:!1},gt),kt=Nt.name;if("string"!=typeof kt||!kt)throw Vt.create("bad-app-name",{appName:String(kt)});const Hr=_t.get(kt);if(Hr){if((0,ae.vZ)(lt,Hr.options)&&(0,ae.vZ)(Nt,Hr.config))return Hr;throw Vt.create("duplicate-app",{appName:kt})}const qt=new Q.H0(kt);for(const ut of Mt.values())qt.addComponent(ut);const ze=new wn(lt,Nt,qt);return _t.set(kt,ze),ze}function Fi(lt=jn){const gt=_t.get(lt);if(!gt)throw Vt.create("no-app",{appName:lt});return gt}function Ce(){return Array.from(_t.values())}function zn(lt){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(lt){const gt=lt.name;_t.has(gt)&&(_t.delete(gt),yield Promise.all(lt.container.getProviders().map(Nt=>Nt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function pt(lt,gt,Nt){var kt;let Hr=null!==(kt=Ct[lt])&&void 0!==kt?kt:lt;Nt&&(Hr+=`-${Nt}`);const qt=Hr.match(/\s|\//),ze=gt.match(/\s|\//);if(qt||ze){const ut=[`Unable to register library "${Hr}" with version "${gt}":`];return qt&&ut.push(`library name "${Hr}" contains illegal characters (whitespace or "/")`),qt&&ze&&ut.push("and"),ze&&ut.push(`version name "${gt}" contains illegal characters (whitespace or "/")`),void ue.warn(ut.join(" "))}jr(new Q.wA(`${Hr}-version`,()=>({library:Hr,version:gt}),"VERSION"))}function $t(lt,gt){if(null!==lt&&"function"!=typeof lt)throw Vt.create("invalid-log-argument");(0,x.Am)(lt,gt)}function vi(lt){(0,x.Ub)(lt)}jr(new Q.wA("platform-logger",gt=>new ne(gt),"PRIVATE")),pt(re,"0.7.11",""),pt(re,"0.7.11","esm2017"),pt("fire-js","")},4859:(it,De,P)=>{"use strict";P.d(De,{wA:()=>x,H0:()=>ie});var f=P(5861),Q=P(2090);class x{constructor(j,B,J){this.name=j,this.instanceFactory=B,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ae="[DEFAULT]";class ne{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const J=new Q.BH;if(this.instancesDeferred.set(B,J),this.isInitialized(B)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:B});Le&&J.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const J=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Le=null!==(B=null==j?void 0:j.optional)&&void 0!==B&&B;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(we){if(Le)return null;throw we}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if("EAGER"===j.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(B){}for(const[B,J]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(B);try{const we=this.getOrInitializeService({instanceIdentifier:Le});J.resolve(we)}catch(we){}}}}clearInstance(j=ae){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,f.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...B.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ae){return this.instances.has(j)}getOptions(j=ae){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,J=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:J,options:B});for(const[we,Ve]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(we)&&Ve.resolve(Le);return Le}onInit(j,B){var J;const Le=this.normalizeInstanceIdentifier(B),we=null!==(J=this.onInitCallbacks.get(Le))&&void 0!==J?J:new Set;we.add(j),this.onInitCallbacks.set(Le,we);const Ve=this.instances.get(Le);return Ve&&j(Ve,Le),()=>{we.delete(j)}}invokeOnInitCallbacks(j,B){const J=this.onInitCallbacks.get(B);if(J)for(const Le of J)try{Le(j,B)}catch(we){}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let J=this.instances.get(j);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=j,ue===ae?void 0:ue),options:B}),this.instances.set(j,J),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(J,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,J)}catch(Le){}var ue;return J||null}normalizeInstanceIdentifier(j=ae){return this.component?this.component.multipleInstances?j:ae:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ie{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new ne(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},1877:(it,De,P)=>{"use strict";P.d(De,{in:()=>Q,Yd:()=>re,Ub:()=>ie,Am:()=>ue});const f=[];var Q=(()=>{return(j=Q||(Q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",Q;var j})();const x={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},ae=Q.INFO,ne={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},he=(j,B,...J)=>{if(B<j.logLevel)return;const Le=(new Date).toISOString(),we=ne[B];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[we](`[${Le}]  ${j.name}:`,...J)};class re{constructor(B){this.name=B,this._logLevel=ae,this._logHandler=he,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in Q))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?x[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...B),this._logHandler(this,Q.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...B),this._logHandler(this,Q.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...B),this._logHandler(this,Q.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...B),this._logHandler(this,Q.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...B),this._logHandler(this,Q.ERROR,...B)}}function ie(j){f.forEach(B=>{B.setLogLevel(j)})}function ue(j,B){for(const J of f){let Le=null;B&&B.level&&(Le=x[B.level]),J.userLogHandler=null===j?null:(we,Ve,...Fe)=>{const se=Fe.map(K=>{if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch(oe){return null}}).filter(K=>K).join(" ");Ve>=(null!=Le?Le:we.logLevel)&&j({level:Q[Ve].toLowerCase(),message:se,args:Fe,type:we.name})}}}},5861:(it,De,P)=>{"use strict";function f(x,ae,ne,he,re,ie,ue){try{var j=x[ie](ue),B=j.value}catch(J){return void ne(J)}j.done?ae(B):Promise.resolve(B).then(he,re)}function Q(x){return function(){var ae=this,ne=arguments;return new Promise(function(he,re){var ie=x.apply(ae,ne);function ue(B){f(ie,he,re,ue,j,"next",B)}function j(B){f(ie,he,re,ue,j,"throw",B)}ue(void 0)})}}P.d(De,{Z:()=>Q})}},it=>{it(it.s=4419)}]);